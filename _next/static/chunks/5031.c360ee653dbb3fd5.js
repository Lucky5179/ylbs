"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5031],{58442:function(e,r,t){var n=t(64836);r.Z=void 0;var o=n(t(64938)),i=t(85893),s=(0,o.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.29 16.29 5.7 12.7a.9959.9959 0 0 1 0-1.41c.39-.39 1.02-.39 1.41 0L10 14.17l6.88-6.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-7.59 7.59c-.38.39-1.02.39-1.41 0z"}),"CheckCircleRounded");r.Z=s},36191:function(e,r,t){var n=t(64836);r.Z=void 0;var o=n(t(64938)),i=t(85893),s=(0,o.default)((0,i.jsx)("path",{d:"M18.3 5.71a.9959.9959 0 0 0-1.41 0L12 10.59 7.11 5.7a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}),"CloseRounded");r.Z=s},51182:function(e,r,t){var n=t(64836);r.Z=void 0;var o=n(t(64938)),i=t(85893),s=(0,o.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 11c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"}),"ErrorRounded");r.Z=s},37885:function(e,r,t){var n=t(64836);r.Z=void 0;var o=n(t(64938)),i=t(85893),s=(0,o.default)((0,i.jsx)("path",{d:"M15.32 3H8.68c-.26 0-.52.11-.7.29L3.29 7.98c-.18.18-.29.44-.29.7v6.63c0 .27.11.52.29.71l4.68 4.68c.19.19.45.3.71.3h6.63c.27 0 .52-.11.71-.29l4.68-4.68c.19-.19.29-.44.29-.71V8.68c0-.27-.11-.52-.29-.71l-4.68-4.68c-.18-.18-.44-.29-.7-.29zM12 17.3c-.72 0-1.3-.58-1.3-1.3s.58-1.3 1.3-1.3 1.3.58 1.3 1.3-.58 1.3-1.3 1.3zm0-4.3c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1z"}),"ReportRounded");r.Z=s},31798:function(e,r,t){t.d(r,{p:function(){return u}});var n=t(49501),o=t(61953),i=t(81138),s=(t(67294),t(72667)),c=t(2802),a=t(85893),u=function(e){var r=e.token0,t=e.token1;return(0,a.jsxs)(o.Z,{sx:{pt:5},children:[(0,a.jsx)(i.Z,{sx:{mb:1},color:"text.secondary",children:(0,a.jsx)(n.cC,{id:"Position Liquidity"})}),(0,a.jsxs)(o.Z,{sx:function(e){return{display:"flex",justifyContent:"space-between",p:3,border:"1px solid ".concat(e.palette.divider),borderRadius:"8px 8px 0 0",".MuiBox-root:last-of-type":{mb:0}}},children:[(0,a.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(s.T1,{symbol:r.iconSymbol,fontSize:"large"}),(0,a.jsxs)(o.Z,{sx:{pl:2,overflow:"hidden"},children:[(0,a.jsx)(i.Z,{variant:"h4",noWrap:!0,children:r.name}),(0,a.jsx)(o.Z,{sx:{p:{xs:"0",xsm:"2px 0px"}},children:(0,a.jsx)(i.Z,{variant:"subheader2",color:"text.muted",noWrap:!0,children:r.symbol})})]})]}),(0,a.jsxs)(o.Z,{sx:{textAlign:"right"},children:[(0,a.jsx)(i.Z,{variant:"h4",noWrap:!0,children:(0,c.d)(r.liquidity)}),(0,a.jsxs)(i.Z,{variant:"subheader2",color:"text.muted",noWrap:!0,children:["$",r.marketReferenceCurrencyValue.toFixed(2)]})]})]}),(0,a.jsxs)(o.Z,{sx:function(e){return{display:"flex",justifyContent:"space-between",p:3,border:"1px solid ".concat(e.palette.divider),borderTop:"unset",borderRadius:"0 0 8px 8px",".MuiBox-root:last-of-type":{mb:0}}},children:[(0,a.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(s.T1,{symbol:t.iconSymbol,fontSize:"large"}),(0,a.jsxs)(o.Z,{sx:{pl:2,overflow:"hidden"},children:[(0,a.jsx)(i.Z,{variant:"h4",noWrap:!0,children:t.name}),(0,a.jsx)(o.Z,{sx:{p:{xs:"0",xsm:"2px 0px"}},children:(0,a.jsx)(i.Z,{variant:"subheader2",color:"text.muted",noWrap:!0,children:t.symbol})})]})]}),(0,a.jsxs)(o.Z,{sx:{textAlign:"right"},children:[(0,a.jsx)(i.Z,{variant:"h4",noWrap:!0,children:(0,c.d)(t.liquidity)}),(0,a.jsxs)(i.Z,{variant:"subheader2",color:"text.muted",noWrap:!0,children:["$",t.marketReferenceCurrencyValue.toFixed(2)]})]})]})]})}},97284:function(e,r,t){t.r(r),t.d(r,{WithdrawPositionModal:function(){return R}});var n=t(59499),o=t(67294),i=t(88543),s=t(8195),c=t(32369),a=t(49501),u=t(29946),d=t(51324),l=t(21878),p=t(31798),x=t(6751),f=t(50029),h=t(17674),v=t(87794),j=t.n(v),b=t(87899),m=t(77537),y=t(39771),O=t(72864),w=t(31001),k=t(71467),g=t(70574),P=t(85893);function Z(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function T(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Z(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var C=o.memo((function(e){var r=e.marketId,t=e.suppliedTokenId,n=e.isWrongNetwork,i=(0,k.HT)().user,c=(0,s.vR)(),u=c.setGasLimit,d=c.setMainTxState,l=c.mainTxState,p=c.setTxError,x=(0,m.Z)().sendTx,v=i.userERC1155ReservesData.find((function(e){return e.tokenId===t})),Z=(0,b.Yh)((function(e){return[e.withdrawPosition,e.estimateGasLimit,e]})),C=(0,h.Z)(Z,2),I=C[0],S=C[1],E=function(){var e=(0,f.Z)(j().mark((function e(){var n,o,i,s;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&t&&v&&!l.success){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,p(void 0),d(T(T({},l),{},{loading:!0})),n=I({marketId:r,tokenId:t,nTokenAddress:v.nTokenAddress,balance:v.balance}),e.next=8,S(n);case 8:return o=e.sent,e.next=11,x(o);case 11:return i=e.sent,e.next=14,i.wait(1);case 14:d({txHash:i.hash,loading:!1,success:!0}),O.queryClient.invalidateQueries({queryKey:[w.iP.POSITIONS]}),O.queryClient.invalidateQueries({queryKey:[w.iP.SUPPLIED_POSITIONS_DATA]}),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(2),s=(0,y.WG)(e.t0,y.aD.GAS_ESTIMATION,!1),p(s),d({txHash:void 0,loading:!1});case 24:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){if(r&&t&&v&&!l.success){var e=function(){var e=(0,f.Z)(j().mark((function e(){var n,o,i;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=I({marketId:r,tokenId:t,nTokenAddress:v.nTokenAddress,balance:v.balance}),e.next=3,S(o);case 3:i=e.sent,u((null===(n=i.gasLimit)||void 0===n?void 0:n.toString())||"0");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();var n=setInterval(e,15e3);return function(){clearInterval(n)}}}),[null===v||void 0===v?void 0:v.balance,l.success]),(0,P.jsx)(g.v,{mainTxState:l,isWrongNetwork:n,requiresAmount:!0,preparingTransactions:!1,actionText:(0,P.jsx)(a.cC,{id:"Withdraw Position"}),actionInProgressText:(0,P.jsx)(a.cC,{id:"Withdrawing Position"}),handleAction:function(){return window.gtag("event","lending_withdraw_modal_confirm",{asset:"Uniswap position"}),E()}})}));function I(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function S(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?I(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var E=o.memo((function(e){var r=e.isWrongNetwork,t=e.enrichedPosition,n=e.suppliedTokenId,o=(0,s.vR)(),c=o.gasLimit,f=o.txError,h=o.mainTxState,v=o.setTxError,j={marketId:t.marketId,isWrongNetwork:r,suppliedTokenId:n};return h.success?(0,P.jsx)(i.mf,{children:(0,P.jsx)(x.R,{action:(0,P.jsx)(a.cC,{id:"withdrew position"}),amount:t.marketReferenceCurrencyValue.toString(),symbol:"".concat(t.token0.symbol," / ").concat(t.token1.symbol)})}):t?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(i.mf,{children:[(0,P.jsx)(p.p,{token0:t.token0,token1:t.token1}),(0,P.jsxs)(l.m6,{gasLimit:c,skipLoad:!0,children:[(0,P.jsx)(l.oD,{description:(0,P.jsx)(a.cC,{id:"Total liquidity to withdraw"}),value:t.marketReferenceCurrencyValue,numberPrefix:"$"}),(0,P.jsx)(l.oD,{description:(0,P.jsx)(a.cC,{id:"Fees earned"}),value:t.token0.marketReferenceCurrencyFee+t.token1.marketReferenceCurrencyFee,numberPrefix:"$"}),(0,P.jsx)(l.Bx,{collateralType:u.z.ENABLED})]}),f&&(0,P.jsx)(d.Y,{variant:"error",txError:f,onClose:function(){return v(void 0)}})]}),(0,P.jsx)(i.Ys,{children:(0,P.jsx)(C,S({},j))})]}):null}));function L(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var R=function(){var e=(0,s.vR)(),r=e.type,t=e.args,o=e.close;return(0,P.jsx)(i.XC,{open:r===s.w8.WithdrawPosition,setOpen:o,children:(0,P.jsx)(c.o,{suppliedTokenId:t.suppliedTokenId,title:"Withdraw",children:function(e){return(0,P.jsx)(E,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?L(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},e))}})})}},2802:function(e,r,t){t.d(r,{d:function(){return o}});var n=t(70794),o=function(e){if(!e)return"0";var r=(0,n.Z)(e);return r.abs().isLessThan(.1)?r.toFixed(8):r.abs().isLessThan(10)?r.toFixed(4):r.toFixed(2)}},56365:function(e,r,t){var n=t(67294);const o=n.forwardRef((function(e,r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:r},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"}))}));r.Z=o}}]);
//# sourceMappingURL=5031.c360ee653dbb3fd5.js.map