"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3554],{87054:function(e,t,r){r.d(t,{Z:function(){return g}});var o=r(63366),n=r(87462),a=r(67294),i=r(86010),s=r(94780),l=r(41796),c=r(83187),u=r(36622),d=r(78884),p=r(81719),b=r(34867);function y(e){return(0,b.Z)("MuiToggleButton",e)}var f=(0,r(1588).Z)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge"]),m=r(85893);const h=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],v=(0,p.ZP)(c.Z,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`size${(0,u.Z)(r.size)}`]]}})((({theme:e,ownerState:t})=>{let r,o="standard"===t.color?e.palette.text.primary:e.palette[t.color].main;return e.vars&&(o="standard"===t.color?e.vars.palette.text.primary:e.vars.palette[t.color].main,r="standard"===t.color?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),(0,n.Z)({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${f.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,l.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${f.selected}`]:{color:o,backgroundColor:e.vars?`rgba(${r} / ${e.vars.palette.action.selectedOpacity})`:(0,l.Fq)(o,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${r} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,l.Fq)(o,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${r} / ${e.vars.palette.action.selectedOpacity})`:(0,l.Fq)(o,e.palette.action.selectedOpacity)}}}},"small"===t.size&&{padding:7,fontSize:e.typography.pxToRem(13)},"large"===t.size&&{padding:15,fontSize:e.typography.pxToRem(15)})}));var g=a.forwardRef((function(e,t){const r=(0,d.Z)({props:e,name:"MuiToggleButton"}),{children:a,className:l,color:c="standard",disabled:p=!1,disableFocusRipple:b=!1,fullWidth:f=!1,onChange:g,onClick:x,selected:j,size:O="medium",value:w}=r,C=(0,o.Z)(r,h),Z=(0,n.Z)({},r,{color:c,disabled:p,disableFocusRipple:b,fullWidth:f,size:O}),S=(e=>{const{classes:t,fullWidth:r,selected:o,disabled:n,size:a,color:i}=e,l={root:["root",o&&"selected",n&&"disabled",r&&"fullWidth",`size${(0,u.Z)(a)}`,i]};return(0,s.Z)(l,y,t)})(Z);return(0,m.jsx)(v,(0,n.Z)({className:(0,i.default)(S.root,l),disabled:p,focusRipple:!b,ref:t,onClick:e=>{x&&(x(e,w),e.defaultPrevented)||g&&g(e,w)},onChange:g,value:w,ownerState:Z,"aria-pressed":j},C,{children:a}))}))},85390:function(e,t,r){r.d(t,{Z:function(){return v}});var o=r(63366),n=r(87462),a=r(67294),i=(r(59864),r(86010)),s=r(94780),l=r(81719),c=r(78884),u=r(36622);function d(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}var p=r(34867);function b(e){return(0,p.Z)("MuiToggleButtonGroup",e)}var y=(0,r(1588).Z)("MuiToggleButtonGroup",["root","selected","vertical","disabled","grouped","groupedHorizontal","groupedVertical"]),f=r(85893);const m=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],h=(0,l.ZP)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${y.grouped}`]:t.grouped},{[`& .${y.grouped}`]:t[`grouped${(0,u.Z)(r.orientation)}`]},t.root,"vertical"===r.orientation&&t.vertical,r.fullWidth&&t.fullWidth]}})((({ownerState:e,theme:t})=>(0,n.Z)({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},"vertical"===e.orientation&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${y.grouped}`]:(0,n.Z)({},"horizontal"===e.orientation?{"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},[`&.${y.selected} + .${y.grouped}.${y.selected}`]:{borderLeft:0,marginLeft:0}}:{"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`&.${y.selected} + .${y.grouped}.${y.selected}`]:{borderTop:0,marginTop:0}})})));var v=a.forwardRef((function(e,t){const r=(0,c.Z)({props:e,name:"MuiToggleButtonGroup"}),{children:l,className:p,color:y="standard",disabled:v=!1,exclusive:g=!1,fullWidth:x=!1,onChange:j,orientation:O="horizontal",size:w="medium",value:C}=r,Z=(0,o.Z)(r,m),S=(0,n.Z)({},r,{disabled:v,fullWidth:x,orientation:O,size:w}),R=(e=>{const{classes:t,orientation:r,fullWidth:o,disabled:n}=e,a={root:["root","vertical"===r&&"vertical",o&&"fullWidth"],grouped:["grouped",`grouped${(0,u.Z)(r)}`,n&&"disabled"]};return(0,s.Z)(a,b,t)})(S),T=(e,t)=>{if(!j)return;const r=C&&C.indexOf(t);let o;C&&r>=0?(o=C.slice(),o.splice(r,1)):o=C?C.concat(t):[t],j(e,o)},P=(e,t)=>{j&&j(e,C===t?null:t)};return(0,f.jsx)(h,(0,n.Z)({role:"group",className:(0,i.default)(R.root,p),ref:t,ownerState:S},Z,{children:a.Children.map(l,(e=>a.isValidElement(e)?a.cloneElement(e,{className:(0,i.default)(R.grouped,e.props.className),onChange:g?P:T,selected:void 0===e.props.selected?d(e.props.value,C):e.props.selected,size:e.props.size||w,fullWidth:x,color:e.props.color||y,disabled:e.props.disabled||v}):null))}))}))},34637:function(e,t,r){r.d(t,{Y:function(){return d},Z:function(){return p}});var o=r(59499),n=r(81719),a=r(87054),i=(r(67294),r(85893));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=(0,n.ZP)(a.Z)((function(e){var t=e.theme;return{border:"0px",flex:1,backgroundColor:"transparent",borderRadius:"6px !important","&.Mui-selected, &.Mui-selected:hover":{borderRadius:"6px !important"},"&.Mui-selected, &.Mui-disabled":{zIndex:100,height:"100%",display:"flex",justifyContent:"center",border:"none",".MuiTypography-subheader1":{color:t.palette.text.primary},".MuiTypography-secondary14":{color:t.palette.primary.contrastText}}}})),u=(0,n.ZP)(a.Z)((function(e){var t=e.theme;return{border:"0px",flex:1,color:t.palette.text.muted,borderRadius:"4px","&.Mui-selected, &.Mui-selected:hover":{border:"1px solid ".concat(t.palette.other.standardInputLine),backgroundColor:"#FFFFFF",borderRadius:"4px !important"},"&.Mui-selected, &.Mui-disabled":{zIndex:100,height:"100%",display:"flex",justifyContent:"center",color:t.palette.background.header}}}));function d(e){return(0,i.jsx)(u,l({},e))}function p(e){return(0,i.jsx)(c,l({},e))}},59379:function(e,t,r){r.d(t,{f:function(){return d},Z:function(){return p}});var o=r(59499),n=r(81719),a=r(85390),i=r(85893);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=(0,n.ZP)(a.Z)((function(e){return{gap:"4px",backgroundColor:e.theme.palette.background.surface,border:"1px solid rgba(235, 235, 237, 0.12)",padding:"3px",borderRadius:"8px"}})),u=(0,n.ZP)(a.Z)((function(e){return{backgroundColor:e.theme.palette.background.header,padding:"2px",height:"36px",width:"100%"}}));function d(e){return(0,i.jsx)(u,l({},e))}function p(e){return(0,i.jsx)(c,l({},e))}},81902:function(e,t,r){var o;r.d(t,{R:function(){return o}}),function(e){e.supplyCap="supplyCap",e.borrowCap="borrowCap"}(o||(o={}))},74758:function(e,t,r){r.d(t,{W:function(){return E}});var o=r(59499),n=r(4730),a=r(49501),i=r(33740),s=r(62097),l=r(61953),c=r(81138),u=r(70754),d=r(81011),p=r(80562),b=r(55343),y=r(46541),f=r(98649),m=r(61702),h=r(36667),v=r(67294),g=r(57333),x=r(81902),j=r(58527),O=r(85893),w=["capType"];function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=function(e){var t=e.capType,r=(0,n.Z)(e,w),o=t===x.R.supplyCap?(0,O.jsx)(a.cC,{id:"This is the total amount that you are able to supply to in this reserve. You are able to supply your wallet balance up until the supply cap is reached."}):(0,O.jsx)(a.cC,{id:"This is the total amount available for you to borrow. You can borrow based on your collateral and until the borrow cap is reached."});return(0,O.jsx)(j.G,Z(Z({},r),{},{children:o}))},R=r(72667),T=r(41024),P=["onChange"];function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=v.forwardRef((function(e,t){var r=e.onChange,o=(0,n.Z)(e,P);return(0,O.jsx)(g.Z,k(k({},o),{},{getInputRef:t,onValueChange:function(t){t.value!==e.value&&r({target:{name:e.name,value:t.value||""}})},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))})),E=function(e){var t=e.value,r=e.usdValue,o=e.symbol,n=e.onChange,v=e.disabled,g=e.disableInput,x=e.onSelect,j=e.assets,w=e.capType,C=e.maxValue,Z=e.isMaxSelected,P=e.inputTitle,A=e.balanceText,E=e.loading,L=void 0!==E&&E,W=e.selectOptionHeader,D=e.selectOption,M=e.sx,N=void 0===M?{}:M,z=(0,s.Z)(),$=1===j.length?j[0]:j&&j.find((function(e){return e.symbol===o}));return(0,O.jsxs)(l.Z,k(k({},N),{},{children:[(0,O.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,O.jsx)(c.Z,{variant:"secondary13",color:"text.tertiary",children:P||(0,O.jsx)(a.cC,{id:"Amount"})}),w&&(0,O.jsx)(S,{capType:w})]}),(0,O.jsxs)(l.Z,{sx:function(e){return{py:3,px:4,border:"1px solid ".concat(e.palette.divider),backgroundColor:e.palette.background.surface,borderRadius:"8px"}},children:[(0,O.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",mb:2},children:[L?(0,O.jsx)(l.Z,{sx:{flex:1},children:(0,O.jsx)(u.Z,{color:"inherit",size:"16px"})}):(0,O.jsx)(d.ZP,{sx:{flex:1},placeholder:"0.00",disabled:v||g,value:t,autoFocus:!0,onChange:function(e){n&&(Number(e.target.value)>Number(C)?n("-1"):n(e.target.value))},inputProps:{"aria-label":"amount input",style:{fontSize:"21px",lineHeight:"28,01px",padding:0,height:"28px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},inputComponent:B}),""!==t&&!g&&(0,O.jsx)(p.Z,{sx:{minWidth:0,p:0,left:8,zIndex:1,color:"text.muted","&:hover":{color:"text.secondary"}},onClick:function(){n&&n("")},disabled:v,children:(0,O.jsx)(i.Z,{height:16})}),x&&1!==j.length?(0,O.jsx)(b.Z,{children:(0,O.jsxs)(y.Z,{disabled:v,value:$.symbol,onChange:function(e){var t=j.find((function(t){return t.symbol===e.target.value}));x&&x(t),n&&n("")},variant:"outlined",className:"AssetInput__select","data-cy":"assetSelect",MenuProps:{sx:{maxHeight:"240px",".MuiPaper-root":{border:"dark"===z.palette.mode?"1px solid #EBEBED1F":"unset",boxShadow:"0px 2px 10px 0px #0000001A"}}},sx:{p:0,"&.AssetInput__select .MuiOutlinedInput-input":{p:0,backgroundColor:"transparent",pr:"24px !important"},"&.AssetInput__select .MuiOutlinedInput-notchedOutline":{display:"none"},"&.AssetInput__select .MuiSelect-icon":{color:"text.primary",right:"0%"}},renderValue:function(e){var t=1===j.length?j[0]:j&&j.find((function(t){return t.symbol===e}));return(0,O.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center"},"data-cy":"assetsSelectedOption_".concat(t.symbol.toUpperCase()),children:[(0,O.jsx)(R.T1,{symbol:t.iconSymbol||t.symbol,sx:{mr:2,ml:4}}),(0,O.jsx)(c.Z,{variant:"main16",color:"text.primary",children:e})]})},children:[W||void 0,j.map((function(e){return(0,O.jsx)(f.Z,{value:e.symbol,"data-cy":"assetsSelectOption_".concat(e.symbol.toUpperCase()),children:D?D(e):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(R.T1,{symbol:e.iconSymbol||e.symbol,sx:{fontSize:"22px",mr:1}}),(0,O.jsx)(m.Z,{sx:{mr:6},children:e.symbol}),e.balance&&(0,O.jsx)(T.BK,{value:e.balance,compact:!0})]})},e.symbol)}))]})}):(0,O.jsxs)(l.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,O.jsx)(R.T1,{symbol:$.iconSymbol||$.symbol,sx:{mr:2,ml:4}}),(0,O.jsx)(c.Z,{variant:"main19",sx:{lineHeight:"28px"},"data-cy":"inputAsset",children:o})]})]}),(0,O.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",height:"16px"},children:[L?(0,O.jsx)(l.Z,{sx:{flex:1}}):(0,O.jsx)(T.BK,{value:isNaN(Number(r))?0:Number(r),compact:!0,symbol:"USD",variant:"secondary13",color:"text.muted",symbolsColor:"text.muted",flexGrow:1}),$.balance&&n&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(c.Z,{component:"div",variant:"secondary13",color:"text.secondary",children:[A&&""!==A?A:(0,O.jsx)(a.cC,{id:"Balance"})," ",(0,O.jsx)(T.BK,{value:$.balance,compact:!0,variant:"secondary13",color:"text.secondary",symbolsColor:"text.disabled"})]}),!g&&(0,O.jsx)(h.Z,{size:"small",sx:{minWidth:0,ml:"7px",p:0,fontSize:"11px",fontWeight:"600"},onClick:function(){n("-1")},disabled:v||Z,children:(0,O.jsx)(a.cC,{id:"Max"})})]})]})]})]}))}},33554:function(e,t,r){r.r(t),r.d(t,{RepayModal:function(){return Y}});var o=r(59499),n=r(49501),a=r(38995),i=r(67294),s=r(71467),l=r(8195),c=r(46930),u=r(63206),d=r(31959),p=r(64691),b=r(33896),y=r(71177),f=r(11288),m=r(15060),h=r(87803),v=r(81138),g=r(70794),x=r(87899),j=r(74758),O=r(6751),w=r(21878),C=r(50029),Z=r(4730),S=r(87794),R=r.n(S),T=r(48211),P=r(89291),A=r(23609),k=r(85893),B=["amountToRepay","poolReserve","poolAddress","isWrongNetwork","sx","symbol","repayWithYTokens","blocked"];function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var W,D=function(e){var t=e.amountToRepay,r=e.poolReserve,o=e.poolAddress,a=e.isWrongNetwork,i=e.sx,s=e.symbol,l=e.repayWithYTokens,c=e.blocked,u=(0,Z.Z)(e,B),d=(0,x.Yh)(),p=d.repay,b=d.repayWithPermit,y=(0,d.tryPermit)({reserveAddress:o,isWrappedBaseAsset:r.isWrappedBaseAsset}),f=(0,P.Q)({tryPermit:y,permitAction:T.UQ.repayWithPermit,protocolAction:T.UQ.repay,eventTxInfo:{amount:t,assetName:r.name,asset:r.underlyingAsset},handleGetTxns:function(){var e=(0,C.Z)(R().mark((function e(){return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p({amountToRepay:t,poolAddress:o,repayWithYTokens:l,poolReserve:r,isWrongNetwork:a,symbol:s}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),handleGetPermitTxns:function(){var e=(0,C.Z)(R().mark((function e(n,i){return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b({amountToRepay:t,poolReserve:r,isWrongNetwork:a,poolAddress:o,symbol:s,repayWithYTokens:l,signature:n[0],deadline:i}));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),skip:!t||0===parseFloat(t)||c,deps:[t,o,l]}),m=f.approval,h=f.action,v=f.requiresApproval,g=f.loadingTxns,j=f.approvalTxState,O=f.mainTxState;return(0,k.jsx)(A.B,L(L({blocked:c,preparingTransactions:g,symbol:r.symbol,mainTxState:O,approvalTxState:j,requiresAmount:!0,amount:t,requiresApproval:v,isWrongNetwork:a,sx:i},u),{},{handleAction:function(){return window.gtag("event","lending_repay_modal_confirm",{asset:s}),h()},handleApproval:function(){return m([{amount:t,underlyingAsset:o}])},actionText:(0,k.jsx)(n.cC,{id:"Repay {symbol}",values:{symbol:s}}),actionInProgressText:(0,k.jsx)(n.cC,{id:"Repaying {symbol}",values:{symbol:s}}),tryPermit:y}))},M=r(51324),N=function(e){var t,r,o,a=e.poolReserve,d=e.userReserve,p=e.symbol,C=e.tokenBalance,Z=e.nativeBalance,S=e.isWrongNetwork,R=(0,l.vR)(),T=R.gasLimit,P=R.mainTxState,A=R.txError,B=R.setTxError,E=(0,s.HT)(),L=E.marketReferencePriceInUsd,W=E.user,N=(0,c.f)().currentChainId,z=(0,x.Yh)((function(e){return e.poolComputed.minRemainingBaseTokenBalance})),$=(0,i.useState)({address:a.underlyingAsset,symbol:a.symbol,iconSymbol:a.iconSymbol,balance:C}),I=$[0],F=$[1],U=(0,i.useState)([I]),_=U[0],Y=U[1],q=(0,i.useState)(""),H=q[0],V=q[1],G=(0,i.useState)(""),K=G[0],Q=G[1],J=(0,i.useRef)(),X=(0,u.Mo)(N),ee=d.underlyingBalance,te=d.usageAsCollateralEnabledOnUser,re=d.reserve,oe=I.address===a.yTokenAddress,ne=(null===d||void 0===d?void 0:d.variableBorrows)||"0",ae=new g.Z(ne).multipliedBy(a.formattedPriceInMarketReferenceCurrency).multipliedBy(L).shiftedBy(-f.$3),ie=(0,m.hE)(ne).multipliedBy("1.0025");if(oe)r=g.Z.min(ee,ne),o=ee;else{var se=(0,m.hE)(I.balance).minus((null===d||void 0===d?void 0:d.reserve.symbol.toUpperCase())===X.baseAssetSymbol?z:"0");o=se.toString(10),r=g.Z.min(se,ne)}var le="-1"===K,ce=le?r.toString(10):K;(0,i.useEffect)((function(){var e=[];if(a.symbol===X.wrappedBaseAssetSymbol){var t=(0,m.hE)(Z),r=g.Z.max(t,g.Z.min(t,ne));e.push({address:b.hP.toLowerCase(),symbol:X.baseAssetSymbol,balance:r.toString(10)})}var o=g.Z.min((0,m.hE)(C),ne),n=g.Z.max(o,C);e.push({address:a.underlyingAsset,symbol:a.symbol,iconSymbol:a.iconSymbol,balance:n.toString(10)}),Y(e),F(e[0])}),[]);var ue=(0,m.hE)(ne).minus(ce||"0").toString(10),de=new g.Z(ue).multipliedBy(a.formattedPriceInMarketReferenceCurrency).multipliedBy(L).shiftedBy(-f.$3),pe=le&&de.toNumber()>0,be=null===W||void 0===W?void 0:W.healthFactor;if(ce){var ye=(null===W||void 0===W?void 0:W.totalCollateralUSD)||"0";oe&&te&&(ye=(0,m.hE)((null===W||void 0===W?void 0:W.totalCollateralUSD)||"0").minus((0,m.hE)(re.priceInUSD).multipliedBy(ce)));var fe=(0,m.hE)((null===W||void 0===W?void 0:W.totalBorrowsUSD)||"0").minus((0,m.hE)(re.priceInUSD).multipliedBy(ce)),me=g.Z.max(fe,0),he=(0,h.L1)({collateralBalanceMarketReferenceCurrency:ye,borrowBalanceMarketReferenceCurrency:me,currentLiquidationThreshold:(null===W||void 0===W?void 0:W.currentLiquidationThreshold)||"0"});be=he.isLessThan(0)&&!he.eq(-1)?"0":he.toString(10)}var ve=(0,m.hE)(ce).multipliedBy(re.priceInUSD);return P.success?(0,k.jsx)(O.R,{action:(0,k.jsx)(n.cC,{id:"repaid"}),amount:J.current,symbol:I.symbol}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(j.W,{value:ce,onChange:function(e){var t="-1"===e;J.current=t?r.toString(10):e,Q(e),t&&(oe||r.eq(ne))?I.address===b.hP.toLowerCase()||y.U[N]&&y.U[N].toLowerCase()===re.underlyingAsset.toLowerCase()?V(ie.toString(10)):V("-1"):V(ie.lt(o)?ie.toString(10):r.toString(10))},usdValue:ve.toString(10),symbol:I.symbol,assets:_,onSelect:F,isMaxSelected:le,maxValue:r.toString(10),balanceText:(0,k.jsx)(n.cC,{id:"Wallet balance"})}),pe&&(0,k.jsx)(v.Z,{color:"warning.main",variant:"helperText",children:(0,k.jsx)(n.cC,{id:"You don\u2019t have enough funds in your wallet to repay the full amount. If you proceed to repay with your current amount of funds, you will still have a small borrowing position in your dashboard."})}),(0,k.jsxs)(w.m6,{gasLimit:T,children:[(0,k.jsx)(w.XJ,{description:(0,k.jsx)(n.cC,{id:"Remaining debt"}),futureValue:ue,futureValueUSD:de.toString(10),value:ne,valueUSD:ae.toString(),symbol:a.iconSymbol===X.wrappedBaseAssetSymbol?X.baseAssetSymbol:a.iconSymbol}),(0,k.jsx)(w.jz,{visibleHfChange:!!K,healthFactor:null===W||void 0===W?void 0:W.healthFactor,futureHealthFactor:be})]}),A&&(0,k.jsx)(M.Y,{variant:"error",txError:A,onClose:function(){return B(void 0)}}),(0,k.jsx)(D,{poolReserve:a,amountToRepay:le?H:ce,poolAddress:oe?a.underlyingAsset:null!==(t=I.address)&&void 0!==t?t:"",isWrongNetwork:S,symbol:p,repayWithYTokens:oe})]})},z=r(61953),$=r(34637),I=r(59379);function F(e){var t,r=e.repayType,o=e.setRepayType;return null!==(t=(0,c.f)().currentMarketData.enabledFeatures)&&void 0!==t&&t.collateralRepay?(0,k.jsxs)(z.Z,{sx:{mb:6},children:[(0,k.jsx)(v.Z,{mb:1,color:"text.secondary",children:(0,k.jsx)(n.cC,{id:"Repay with"})}),(0,k.jsxs)(I.f,{color:"primary",value:r,exclusive:!0,onChange:function(e,t){return o(t)},children:[(0,k.jsx)($.Y,{value:W.BALANCE,disabled:r===W.BALANCE,children:(0,k.jsx)(v.Z,{variant:"buttonM",children:(0,k.jsx)(n.cC,{id:"Wallet balance"})})}),(0,k.jsx)($.Y,{value:W.COLLATERAL,disabled:r===W.COLLATERAL,children:(0,k.jsx)(v.Z,{variant:"buttonM",children:(0,k.jsx)(n.cC,{id:"Collateral"})})})]})]}):null}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e[e.BALANCE=0]="BALANCE",e[e.COLLATERAL=1]="COLLATERAL"}(W||(W={}));var Y=function(){var e,t=(0,l.vR)(),r=t.type,o=t.close,b=t.args,y=t.mainTxState,f=(0,s.HT)(),m=f.userReserves,h=f.reserves,v=(0,c.f)().currentMarketData,g=(0,i.useState)(W.BALANCE),x=g[0],j=g[1],O=null===(e=h.find((function(e){return"stETH"===e.symbol})))||void 0===e?void 0:e.underlyingAsset,w=u.cr.collateralRepay(v)&&m.some((function(e){return"0"!==e.scaledYTokenBalance&&e.underlyingAsset!==b.underlyingAsset&&e.underlyingAsset!==O}));return(0,k.jsx)(d.P,{open:r===l.w8.Repay,setOpen:function(){j(W.BALANCE),o()},children:(0,k.jsx)(p.A,{title:(0,k.jsx)(n.cC,{id:"Repay"}),underlyingAsset:b.underlyingAsset,requiredPermission:a.g.BORROWER,children:function(e){return(0,k.jsxs)(k.Fragment,{children:[w&&!y.txHash&&(0,k.jsx)(F,{repayType:x,setRepayType:j}),x===W.BALANCE&&(0,k.jsx)(N,_({},e))]})}})})}}}]);
//# sourceMappingURL=3554.10ce25d2c004a743.js.map