"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[817],{58442:function(e,r,t){var n=t(64836);r.Z=void 0;var a=n(t(64938)),o=t(85893),s=(0,a.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.29 16.29 5.7 12.7a.9959.9959 0 0 1 0-1.41c.39-.39 1.02-.39 1.41 0L10 14.17l6.88-6.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-7.59 7.59c-.38.39-1.02.39-1.41 0z"}),"CheckCircleRounded");r.Z=s},36191:function(e,r,t){var n=t(64836);r.Z=void 0;var a=n(t(64938)),o=t(85893),s=(0,a.default)((0,o.jsx)("path",{d:"M18.3 5.71a.9959.9959 0 0 0-1.41 0L12 10.59 7.11 5.7a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}),"CloseRounded");r.Z=s},51182:function(e,r,t){var n=t(64836);r.Z=void 0;var a=n(t(64938)),o=t(85893),s=(0,a.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 11c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"}),"ErrorRounded");r.Z=s},37885:function(e,r,t){var n=t(64836);r.Z=void 0;var a=n(t(64938)),o=t(85893),s=(0,a.default)((0,o.jsx)("path",{d:"M15.32 3H8.68c-.26 0-.52.11-.7.29L3.29 7.98c-.18.18-.29.44-.29.7v6.63c0 .27.11.52.29.71l4.68 4.68c.19.19.45.3.71.3h6.63c.27 0 .52-.11.71-.29l4.68-4.68c.19-.19.29-.44.29-.71V8.68c0-.27-.11-.52-.29-.71l-4.68-4.68c-.18-.18-.44-.29-.7-.29zM12 17.3c-.72 0-1.3-.58-1.3-1.3s.58-1.3 1.3-1.3 1.3.58 1.3 1.3-.58 1.3-1.3 1.3zm0-4.3c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1z"}),"ReportRounded");r.Z=s},33259:function(e,r,t){t.r(r),t.d(r,{CollateralChangeModal:function(){return S}});var n,a=t(59499),o=t(49501),s=(t(67294),t(8195)),l=t(31959),c=t(64691),i=t(15060),u=t(87803),_=t(81138),d=t(71467),E=t(6751),C=t(21878),A=t(48321),v=t(50029),f=t(87794),L=t.n(f),O=t(48211),h=t(89291),T=t(87899),R=t(23609),p=t(85893),g=function(e){var r=e.poolReserve,t=e.isWrongNetwork,n=e.usageAsCollateral,a=e.blocked,s=e.symbol,l=(0,T.Yh)((function(e){return e.setUsageAsCollateral})),c=(0,h.Q)({tryPermit:!1,protocolAction:O.UQ.setUsageAsCollateral,eventTxInfo:{assetName:r.name,asset:r.underlyingAsset,previousState:(!n).toString(),newState:n.toString()},handleGetTxns:function(){var e=(0,v.Z)(L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l({reserve:r.underlyingAsset,usageAsCollateral:n}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),skip:a}),i=c.action,u=c.loadingTxns,_=c.mainTxState,d=c.requiresApproval;return(0,p.jsx)(R.B,{requiresApproval:d,blocked:a,preparingTransactions:u,mainTxState:_,isWrongNetwork:t,actionText:n?(0,p.jsx)(o.cC,{id:"Enable {symbol} as collateral",values:{symbol:s}}):(0,p.jsx)(o.cC,{id:"Disable {symbol} as collateral",values:{symbol:s}}),actionInProgressText:(0,p.jsx)(o.cC,{id:"Pending..."}),handleAction:i})},b=t(51324);!function(e){e[e.DO_NOT_HAVE_SUPPLIES_IN_THIS_CURRENCY=0]="DO_NOT_HAVE_SUPPLIES_IN_THIS_CURRENCY",e[e.CAN_NOT_USE_THIS_CURRENCY_AS_COLLATERAL=1]="CAN_NOT_USE_THIS_CURRENCY_AS_COLLATERAL",e[e.CAN_NOT_SWITCH_USAGE_AS_COLLATERAL_MODE=2]="CAN_NOT_SWITCH_USAGE_AS_COLLATERAL_MODE",e[e.ZERO_LTV_WITHDRAW_BLOCKED=3]="ZERO_LTV_WITHDRAW_BLOCKED"}(n||(n={}));var m=function(e){var r=e.poolReserve,t=e.userReserve,a=e.isWrongNetwork,l=e.symbol,c=(0,s.vR)(),v=c.gasLimit,f=c.mainTxState,L=c.txError,O=c.setTxError,h=(0,d.HT)().user,T=!t.usageAsCollateralEnabledOnUser,R=(0,i.hE)(h.totalCollateralMarketReferenceCurrency)[T?"plus":"minus"](t.underlyingBalanceMarketReferenceCurrency),m=(0,u.L1)({collateralBalanceMarketReferenceCurrency:R,borrowBalanceMarketReferenceCurrency:h.totalBorrowsMarketReferenceCurrency,currentLiquidationThreshold:h.currentLiquidationThreshold}),N=(0,A.Vc)(h),S=void 0;N.length>0&&!N.includes(r.symbol)?S=n.ZERO_LTV_WITHDRAW_BLOCKED:(0,i.hE)(t.underlyingBalance).eq(0)?S=n.DO_NOT_HAVE_SUPPLIES_IN_THIS_CURRENCY:!t.usageAsCollateralEnabledOnUser&&"0"===r.reserveLiquidationThreshold||"0"===r.reserveLiquidationThreshold?S=n.CAN_NOT_USE_THIS_CURRENCY_AS_COLLATERAL:t.usageAsCollateralEnabledOnUser&&"0"!==h.totalBorrowsMarketReferenceCurrency&&m.lte("1")&&(S=n.CAN_NOT_SWITCH_USAGE_AS_COLLATERAL_MODE);var y=function(){switch(S){case n.DO_NOT_HAVE_SUPPLIES_IN_THIS_CURRENCY:return(0,p.jsx)(o.cC,{id:"You do not have supplies in this currency"});case n.CAN_NOT_USE_THIS_CURRENCY_AS_COLLATERAL:return(0,p.jsx)(o.cC,{id:"You can not use this currency as collateral"});case n.CAN_NOT_SWITCH_USAGE_AS_COLLATERAL_MODE:return(0,p.jsx)(o.cC,{id:"You can not switch usage as collateral mode for this currency, because it will cause collateral call"});case n.ZERO_LTV_WITHDRAW_BLOCKED:return(0,p.jsx)(o.cC,{id:"Assets with zero LTV ({assetsBlockingWithdraw}) must be withdrawn or disabled as collateral to perform this action",values:{assetsBlockingWithdraw:N}});default:return null}};return f.success?(0,p.jsx)(E.R,{collateral:T,symbol:r.symbol}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(C.m6,{gasLimit:v,children:[(0,p.jsx)(C.oD,{symbol:r.symbol,iconSymbol:r.iconSymbol,description:(0,p.jsx)(o.cC,{id:"Supply balance"}),value:t.underlyingBalance}),(0,p.jsx)(C.jz,{visibleHfChange:!0,healthFactor:h.healthFactor,futureHealthFactor:m.toString(10)})]}),void 0!==S&&(0,p.jsx)(_.Z,{variant:"helperText",color:"error.main",children:(0,p.jsx)(y,{})}),L&&(0,p.jsx)(b.Y,{variant:"error",txError:L,onClose:function(){return O(void 0)}}),(0,p.jsx)(g,{symbol:l,poolReserve:r,usageAsCollateral:T,isWrongNetwork:a,blocked:void 0!==S})]})};function N(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var S=function(){var e=(0,s.vR)(),r=e.type,t=e.close,n=e.args;return(0,p.jsx)(l.P,{open:r===s.w8.CollateralChange,setOpen:t,children:(0,p.jsx)(c.A,{title:(0,p.jsx)(o.cC,{id:"Review tx"}),underlyingAsset:n.underlyingAsset,children:function(e){return(0,p.jsx)(m,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?N(Object(t),!0).forEach((function(r){(0,a.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},e))}})})}},48321:function(e,r,t){t.d(r,{pQ:function(){return o},Fi:function(){return s},iv:function(){return l},Vc:function(){return c},yI:function(){return i}});t(70794);var n,a=t(29946);!function(e){e[e.SUPPLY_CAP_REACHED=0]="SUPPLY_CAP_REACHED",e[e.HF_BELOW_ONE=1]="HF_BELOW_ONE",e[e.NOT_ENOUGH_COLLATERAL_TO_REPAY_WITH=2]="NOT_ENOUGH_COLLATERAL_TO_REPAY_WITH",e[e.ZERO_LTV_WITHDRAW_BLOCKED=3]="ZERO_LTV_WITHDRAW_BLOCKED"}(n||(n={}));var o=65e3,s=55e3,l=function(e){var r=e.approvedAmount,t=e.signedAmount,n=e.amount;return!("-1"===r||"0"!==r&&Number(r)>=Number(n)||Number(t)>=Number(n))},c=function(e){var r=[];return e.userReservesData.forEach((function(e){Number(e.scaledYTokenBalance)>0&&"0"===e.reserve.baseLTVasCollateral&&e.usageAsCollateralEnabledOnUser&&"0"!==e.reserve.reserveLiquidationThreshold&&r.push(e.reserve.symbol)})),r},i=function(e){if(!e.reserve.usageAsCollateralEnabled)return a.z.UNAVAILABLE;a.z.ENABLED;return e&&"0"!==e.scaledYTokenBalance?e.usageAsCollateralEnabledOnUser?a.z.ENABLED:a.z.DISABLED:a.z.ENABLED}},64343:function(e,r,t){var n=t(67294);const a=n.forwardRef((function(e,r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:r},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"}))}));r.Z=a},56365:function(e,r,t){var n=t(67294);const a=n.forwardRef((function(e,r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:r},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"}))}));r.Z=a},22659:function(e,r,t){var n=t(67294);const a=n.forwardRef((function(e,r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r},e),n.createElement("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"}))}));r.Z=a}}]);
//# sourceMappingURL=817.94e893e05164f221.js.map