(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7229],{31699:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="bignumber/5.7.0"},635:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t._base16To36=t._base36To16=t.BigNumber=t.isBigNumberish=void 0;var o=n(r(83877)).default.BN,i=r(16441),a=r(1581),s=r(31699),l=new a.Logger(s.version),u={},c=9007199254740991;t.isBigNumberish=function(e){return null!=e&&(p.isBigNumber(e)||"number"===typeof e&&e%1===0||"string"===typeof e&&!!e.match(/^-?[0-9]+$/)||(0,i.isHexString)(e)||"bigint"===typeof e||(0,i.isBytes)(e))};var d=!1,p=function(){function e(e,t){e!==u&&l.throwError("cannot call constructor directly; use BigNumber.from",a.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}return e.prototype.fromTwos=function(e){return v(f(this).fromTwos(e))},e.prototype.toTwos=function(e){return v(f(this).toTwos(e))},e.prototype.abs=function(){return"-"===this._hex[0]?e.from(this._hex.substring(1)):this},e.prototype.add=function(e){return v(f(this).add(f(e)))},e.prototype.sub=function(e){return v(f(this).sub(f(e)))},e.prototype.div=function(t){return e.from(t).isZero()&&g("division-by-zero","div"),v(f(this).div(f(t)))},e.prototype.mul=function(e){return v(f(this).mul(f(e)))},e.prototype.mod=function(e){var t=f(e);return t.isNeg()&&g("division-by-zero","mod"),v(f(this).umod(t))},e.prototype.pow=function(e){var t=f(e);return t.isNeg()&&g("negative-power","pow"),v(f(this).pow(t))},e.prototype.and=function(e){var t=f(e);return(this.isNegative()||t.isNeg())&&g("unbound-bitwise-result","and"),v(f(this).and(t))},e.prototype.or=function(e){var t=f(e);return(this.isNegative()||t.isNeg())&&g("unbound-bitwise-result","or"),v(f(this).or(t))},e.prototype.xor=function(e){var t=f(e);return(this.isNegative()||t.isNeg())&&g("unbound-bitwise-result","xor"),v(f(this).xor(t))},e.prototype.mask=function(e){return(this.isNegative()||e<0)&&g("negative-width","mask"),v(f(this).maskn(e))},e.prototype.shl=function(e){return(this.isNegative()||e<0)&&g("negative-width","shl"),v(f(this).shln(e))},e.prototype.shr=function(e){return(this.isNegative()||e<0)&&g("negative-width","shr"),v(f(this).shrn(e))},e.prototype.eq=function(e){return f(this).eq(f(e))},e.prototype.lt=function(e){return f(this).lt(f(e))},e.prototype.lte=function(e){return f(this).lte(f(e))},e.prototype.gt=function(e){return f(this).gt(f(e))},e.prototype.gte=function(e){return f(this).gte(f(e))},e.prototype.isNegative=function(){return"-"===this._hex[0]},e.prototype.isZero=function(){return f(this).isZero()},e.prototype.toNumber=function(){try{return f(this).toNumber()}catch(e){g("overflow","toNumber",this.toString())}return null},e.prototype.toBigInt=function(){try{return BigInt(this.toString())}catch(e){}return l.throwError("this platform does not support BigInt",a.Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})},e.prototype.toString=function(){return arguments.length>0&&(10===arguments[0]?d||(d=!0,l.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?l.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",a.Logger.errors.UNEXPECTED_ARGUMENT,{}):l.throwError("BigNumber.toString does not accept parameters",a.Logger.errors.UNEXPECTED_ARGUMENT,{})),f(this).toString(10)},e.prototype.toHexString=function(){return this._hex},e.prototype.toJSON=function(e){return{type:"BigNumber",hex:this.toHexString()}},e.from=function(t){if(t instanceof e)return t;if("string"===typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new e(u,m(t)):t.match(/^-?[0-9]+$/)?new e(u,m(new o(t))):l.throwArgumentError("invalid BigNumber string","value",t);if("number"===typeof t)return t%1&&g("underflow","BigNumber.from",t),(t>=c||t<=-c)&&g("overflow","BigNumber.from",t),e.from(String(t));var r,n=t;if("bigint"===typeof n)return e.from(n.toString());if((0,i.isBytes)(n))return e.from((0,i.hexlify)(n));if(n)if(n.toHexString){if("string"===typeof(r=n.toHexString()))return e.from(r)}else if(null==(r=n._hex)&&"BigNumber"===n.type&&(r=n.hex),"string"===typeof r&&((0,i.isHexString)(r)||"-"===r[0]&&(0,i.isHexString)(r.substring(1))))return e.from(r);return l.throwArgumentError("invalid BigNumber value","value",t)},e.isBigNumber=function(e){return!(!e||!e._isBigNumber)},e}();function m(e){if("string"!==typeof e)return m(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&l.throwArgumentError("invalid hex","value",e),"0x00"===(e=m(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function v(e){return p.from(m(e))}function f(e){var t=p.from(e).toHexString();return"-"===t[0]?new o("-"+t.substring(3),16):new o(t.substring(2),16)}function g(e,t,r){var n={fault:e,operation:t};return null!=r&&(n.value=r),l.throwError(e,a.Logger.errors.NUMERIC_FAULT,n)}t.BigNumber=p,t._base36To16=function(e){return new o(e,36).toString(16)},t._base16To36=function(e){return new o(e,16).toString(36)}},17677:function(e,t,r){"use strict";var n=r(64836);t.Z=void 0;var o=n(r(64938)),i=r(85893),a=(0,o.default)((0,i.jsx)("path",{d:"M18 19H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h5c.55 0 1-.45 1-1s-.45-1-1-1H5c-1.11 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6c0-.55-.45-1-1-1s-1 .45-1 1v5c0 .55-.45 1-1 1zM14 4c0 .55.45 1 1 1h2.59l-9.13 9.13c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L19 6.41V9c0 .55.45 1 1 1s1-.45 1-1V4c0-.55-.45-1-1-1h-5c-.55 0-1 .45-1 1z"}),"OpenInNewRounded");t.Z=a},13322:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return dr}});var n=r(59499),o=r(67294),i=r(11163),a=r(46158),s=r(15446),l=r(69631),u=r(17674),c=r(61953),d=r(25525),p=r(91327),m=r(71467),v=r(77537),f=r(66209),g=r(18528),x=r(73502),y=r(76478),h=r(66800),b=r(39445),C=r(3998),j=r(43021),w=r(91655),Z=r(85893),O=function(){return(0,Z.jsxs)(b.w,{children:[(0,Z.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,Z.jsx)(w.Z,{variant:"rectangular",height:20,width:100,sx:{borderRadius:"4px"}}),(0,Z.jsxs)(c.Z,{sx:{display:"flex",gap:4},children:[(0,Z.jsx)(w.Z,{variant:"rectangular",height:36,width:"100%",sx:{borderRadius:"4px"}}),(0,Z.jsx)(w.Z,{variant:"rectangular",height:36,width:"100%",sx:{borderRadius:"4px"}})]})]}),(0,Z.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,Z.jsx)(w.Z,{variant:"rectangular",height:20,width:100,sx:{borderRadius:"4px"}}),(0,Z.jsxs)(c.Z,{sx:{display:"flex",gap:4},children:[(0,Z.jsx)(w.Z,{variant:"rectangular",height:36,width:"100%",sx:{borderRadius:"4px"}}),(0,Z.jsx)(w.Z,{variant:"rectangular",height:36,width:"100%",sx:{borderRadius:"4px"}})]})]}),(0,Z.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,Z.jsx)(w.Z,{variant:"rectangular",height:20,width:140,sx:{borderRadius:"4px"}}),(0,Z.jsxs)(c.Z,{sx:{display:"flex",gap:2},children:[(0,Z.jsx)(w.Z,{variant:"rectangular",height:110,width:"25%",sx:{borderRadius:"8px"}}),(0,Z.jsx)(w.Z,{variant:"rectangular",height:110,width:"25%",sx:{borderRadius:"8px"}}),(0,Z.jsx)(w.Z,{variant:"rectangular",height:110,width:"25%",sx:{borderRadius:"8px"}}),(0,Z.jsx)(w.Z,{variant:"rectangular",height:110,width:"25%",sx:{borderRadius:"8px"}})]})]}),(0,Z.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,Z.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Z.jsx)(w.Z,{variant:"rectangular",height:20,width:140,sx:{borderRadius:"4px"}}),(0,Z.jsxs)(c.Z,{sx:{display:"flex",gap:2},children:[(0,Z.jsx)(w.Z,{variant:"rectangular",height:28,sx:{borderRadius:"4px",width:{xs:64,md:84}}}),(0,Z.jsx)(w.Z,{variant:"rectangular",height:28,sx:{borderRadius:"4px",width:{xs:64,md:123}}})]})]}),(0,Z.jsxs)(c.Z,{sx:{display:"flex",gap:4},children:[(0,Z.jsx)(w.Z,{variant:"rectangular",height:90,width:"100%",sx:{borderRadius:"8px"}}),(0,Z.jsx)(w.Z,{variant:"rectangular",height:90,width:"100%",sx:{borderRadius:"8px"}})]})]}),(0,Z.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,Z.jsxs)(c.Z,{sx:{position:"relative",display:"flex",justifyContent:"center",alignItems:{xs:"left",md:"center"},flexDirection:"column",gap:1.5},children:[(0,Z.jsx)(w.Z,{variant:"rectangular",height:16,width:85,sx:{borderRadius:"4px"}}),(0,Z.jsx)(w.Z,{variant:"rectangular",height:24,width:204,sx:{borderRadius:"4px"}}),(0,Z.jsx)(w.Z,{variant:"rectangular",height:32,width:32,sx:{position:"absolute",right:"40px",borderRadius:"4px"}}),(0,Z.jsx)(w.Z,{variant:"rectangular",height:32,width:32,sx:{position:"absolute",right:0,borderRadius:"4px"}})]}),(0,Z.jsx)(w.Z,{variant:"rectangular",height:170,width:"100%",sx:{borderRadius:"12px"}})]}),(0,Z.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,Z.jsx)(w.Z,{variant:"rectangular",height:20,width:140,sx:{borderRadius:"4px",mb:1}}),(0,Z.jsx)(w.Z,{variant:"rectangular",height:75,width:"100%",sx:{borderRadius:"8px"}}),(0,Z.jsx)(w.Z,{variant:"rectangular",height:75,width:"100%",sx:{borderRadius:"8px"}})]})]})},A=function(){return(0,Z.jsxs)(c.Z,{sx:(0,n.Z)({gridArea:"switch",display:"flex",gap:4},"> *",{width:"50%"}),children:[(0,Z.jsx)(w.Z,{variant:"rectangular",width:"50%",sx:{borderRadius:"8px",height:{xs:"36px",md:"44px"}}}),(0,Z.jsx)(w.Z,{variant:"rectangular",width:"50%",sx:{borderRadius:"8px",height:{xs:"36px",md:"44px"}}})]})},_=function(){return(0,Z.jsxs)(c.Z,{sx:{display:{xs:"flex",md:"grid"},flexDirection:{xs:"column",md:"row"},gridTemplateAreas:{xs:"unset",md:'"switch overview" "main overview"'},gridTemplateRows:"44px auto",gridTemplateColumns:{xs:"unset",md:"600px 448px"},gap:"24px",mb:{xs:"40px",md:0}},children:[(0,Z.jsx)(A,{}),(0,Z.jsx)(O,{})]})},k=r(70794),L=r(22243),E=r(87899),P=r(4232),B=r(33246),R=r(31240),S=r(6385),N=r(65082),M=r(62097),T=r(61225),D=r(81138),U=r(50623),I=r(3102),V=r(1036),F=r(66441),q=r(98260),H=r(39499),Y=r.n(H),G=Y().exponentiate(Y().BigInt(10),Y().BigInt(16));var W=r(65216),z=function(e){var t=function(e){var t=(0,m.HT)().reserves.find((function(t){return t&&e&&(0,W.toChecksumAddress)(t.underlyingAsset)===(0,W.toChecksumAddress)(e.wrapped.address)}));if(t)return(0,k.Z)(t.priceInUSD)}(null===e||void 0===e?void 0:e.currency);return(0,o.useMemo)((function(){if(!t||!e)return null;try{return t.multipliedBy(e.toFixed())}catch(r){return null}}),[e,t])};function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var X=function(e){var t,r,o,i,a=e.positionPoolData,s=e.baseCurrency,l=e.quoteCurrency,u=(0,j.m2)(s,l,a.feeAmount,s,a),c=u.pool,d=u.ticks,p=u.dependentField,m=u.pricesAtTicks,v=u.parsedAmounts,f=u.currencyBalances,g=u.noLiquidity,x=u.currencies,y=u.invertPrice,h=u.ticksAtLimit,b=u.outOfRange,C=(0,j.KS)(),w=C.independentField,Z=C.typedValue,O=[I.g.CURRENCY_A,I.g.CURRENCY_B].reduce((function(e,t){return J(J({},e),{},(0,n.Z)({},t,function(e){if(e)return e.currency.isNative?Y().greaterThan(e.quotient,G)?q.ih.fromRawAmount(e.currency,Y().subtract(e.quotient,G)):q.ih.fromRawAmount(e.currency,Y().BigInt(0)):e}(f[t])))}),{}),A=[I.g.CURRENCY_A,I.g.CURRENCY_B].reduce((function(e,t){var r,o;return J(J({},e),{},(0,n.Z)({},t,null===(r=O[t])||void 0===r?void 0:r.equalTo(null!==(o=v[t])&&void 0!==o?o:"0")))}),{}),_=(o={},(0,n.Z)(o,w,Z),(0,n.Z)(o,p,null!==(t=null===(r=v[p])||void 0===r?void 0:r.toSignificant(6))&&void 0!==t?t:""),o),k=(i={},(0,n.Z)(i,I.g.CURRENCY_A,z(v[I.g.CURRENCY_A])),(0,n.Z)(i,I.g.CURRENCY_B,z(v[I.g.CURRENCY_B])),i),L=k[I.g.CURRENCY_A],E=k[I.g.CURRENCY_B];return{pool:c,ticks:d,dependentField:p,pricesAtTicks:m,parsedAmounts:v,currencyBalances:f,noLiquidity:g,currencies:x,invertPrice:y,ticksAtLimit:h,maxAmounts:O,atMaxAmounts:A,usdcValues:k,usdValueCurrencyA:L,usdValueCurrencyB:E,formattedAmounts:_,outOfRange:b}},K=r(5628),Q=r(17e3),ee=r(31001),te=r(91555);function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oe=r(40290),ie=function(e,t){return e.filter((function(e){return e.market.name===t})).reduce((function(e,t){return e.includes(t.name)||e.push(t.name),e}),[])},ae=function(e){var t,r,i,a=e.almPools,s=e.strategyProviderName,l=e.strategyName,u=e.baseCurrency,c=e.quoteCurrency,d=e.tokenA,p=e.tokenB,m=a.reduce((function(e,t){return e.includes(t.market.name)||e.push(t.market.name),e}),[]),v=ie(a,s),f=function(e){var t=e.almPools,r=e.strategyProviderName,n=e.strategyName;return null===t||void 0===t?void 0:t.find((function(e){return e.market.name===r&&e.name===n}))}({almPools:a,strategyProviderName:s,strategyName:l}),g=function(e){var t=e.leverageDataProviderAddress,r=void 0===t?te.$W:t,n=e.vaultAddress,i=(0,E.Yh)((function(e){return e.jsonRpcProvider()})),a=(0,o.useMemo)((function(){return new K.a({provider:i,leverageDataProviderAddress:r})}),[r,i]);return(0,Q.a)({queryKey:[ee.iP.ALM_POOL_DATA,r,n],queryFn:function(){return a.getPoolData({vaultAddress:n})},enabled:Boolean(r&&n),refetchInterval:ee.hB,select:function(e){return ne(ne({},e),{},{total0:(0,k.O)(e.total0.toString()),total1:(0,k.O)(e.total1.toString())})}})}({leverageDataProviderAddress:null===f||void 0===f?void 0:f.market.leverage_data_provider_address,vaultAddress:null===f||void 0===f?void 0:f.address}),x=g.data,y=(0,j.KS)(),h=y.independentField,b=y.typedValue,C=h===I.g.CURRENCY_A?I.g.CURRENCY_B:I.g.CURRENCY_A,w=(i={},(0,n.Z)(i,h,b),(0,n.Z)(i,C,null!==(t=null===(r=function(e){var t,r,o=e.dependentField,i=e.typedValue,a=(t={},(0,n.Z)(t,I.g.CURRENCY_A,u),(0,n.Z)(t,I.g.CURRENCY_B,c),t);if(null!==x&&void 0!==x&&x.total0&&null!==x&&void 0!==x&&x.total1&&i){var s=x.total0.div((0,k.O)(10).pow(u.decimals)),l=x.total1.div((0,k.O)(10).pow(c.decimals));r=o===I.g.CURRENCY_A?(0,k.O)(i).multipliedBy(s.div(l)).toFixed(u.decimals):(0,k.O)(i).multipliedBy(l.div(s)).toFixed(c.decimals)}else r="0";return(0,oe.Z)(r,a[o])}({dependentField:C,typedValue:b}))||void 0===r?void 0:r.toSignificant(18))&&void 0!==t?t:""),i),Z=(0,k.O)(w[I.g.CURRENCY_A]||0).multipliedBy((null===d||void 0===d?void 0:d.priceInUSD)||0),O=(0,k.O)(w[I.g.CURRENCY_B]||0).multipliedBy((null===p||void 0===p?void 0:p.priceInUSD)||0);return{strategyProviderNames:m,strategyNames:v,selectedVault:f,amlPoolData:x,usdValueCurrencyA:Z,usdValueCurrencyB:O,formattedAmounts:w}},se=function(e){var t,r,n=e.strategyMode,i=e.almPools,a=e.positionPoolData,s=e.tokenA,l=e.tokenB,u=e.baseCurrency,d=e.quoteCurrency,p=e.tokenToBorrow,m=e.setTokenToBorrow,v=e.leverage,f=e.setLeverage,g=e.strategyProviderName,x=e.strategyName,y=(0,M.Z)().breakpoints,h=(0,T.Z)(y.up("md")),b=ae({baseCurrency:u,quoteCurrency:d,tokenA:s,tokenB:l,almPools:i,strategyProviderName:g,strategyName:x}),C=b.formattedAmounts,w=b.usdValueCurrencyA,O=b.usdValueCurrencyB,A=X({positionPoolData:a,baseCurrency:u,quoteCurrency:d}),_=A.formattedAmounts,k=A.noLiquidity,L=A.currencies,E=A.maxAmounts,P=A.atMaxAmounts,B=A.usdValueCurrencyA,R=A.usdValueCurrencyB,S=(0,j.EG)(k),N=S.onFieldAInput,q=S.onFieldBInput,H=n===F.J.Manual?_:C,Y=n===F.J.Manual?B:w,G=n===F.J.Manual?R:O;return(0,o.useEffect)((function(){var e=s.symbol.toLowerCase().includes("usd")?s:l;m(e)}),[s.symbol,l.symbol]),(0,Z.jsxs)(Z.Fragment,{children:[h&&(0,Z.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",gap:2,mb:1},children:[(0,Z.jsx)(D.Z,{variant:"main16",children:"Deposit amounts"}),(0,Z.jsx)(V.t,{id:"add-liquidity-input-tokena",value:H[I.g.CURRENCY_A],iconSymbol:null===s||void 0===s?void 0:s.iconSymbol,onUserInput:N,onMax:function(){var e,t;N(null!==(e=null===(t=E[I.g.CURRENCY_A])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},showMaxButton:!P[I.g.CURRENCY_A],currency:null!==(t=L[I.g.CURRENCY_A])&&void 0!==t?t:null,fiatValue:null===Y||void 0===Y?void 0:Y.toFixed(2),showCommonBases:!0}),(0,Z.jsx)(V.t,{id:"add-liquidity-input-tokenb",value:H[I.g.CURRENCY_B],iconSymbol:null===l||void 0===l?void 0:l.iconSymbol,onUserInput:q,onMax:function(){var e,t;q(null!==(e=null===(t=E[I.g.CURRENCY_B])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},showMaxButton:!P[I.g.CURRENCY_B],fiatValue:null===G||void 0===G?void 0:G.toFixed(2),currency:null!==(r=L[I.g.CURRENCY_B])&&void 0!==r?r:null,showCommonBases:!0})]}),(0,Z.jsx)(U.l,{tokenA:s,tokenB:l,amountA:H[I.g.CURRENCY_A],amountB:H[I.g.CURRENCY_B],leverage:v,setLeverage:f,tokenToBorrow:p,setTokenToBorrow:m})]})};function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ce=function(e){var t=e.creationStep,r=e.setCreationStep,a=e.hasAmount,s=(0,M.Z)().breakpoints,l=(0,T.Z)(s.up("md")),u=(0,i.useRouter)(),d=ue({},u.query);return(0,o.useEffect)((function(){d.creationStep!==t&&u.replace({pathname:u.pathname,query:ue(ue({},d),{},{creationStep:t})})}),[t]),(0,Z.jsxs)(c.Z,{sx:(0,n.Z)({gridArea:"switch",display:"flex",gap:4,width:"100%"},"> *",{width:{xs:"100%",md:"50%"}}),children:[(0,Z.jsxs)(pe,{active:t===F.V.Create,onClick:function(){return r(F.V.Create)},children:[(0,Z.jsx)(de,{value:"1"}),(0,Z.jsx)(D.Z,{variant:l?"main15":"main13",children:"Create Position"})]}),(0,Z.jsxs)(pe,{active:t===F.V.Leverage,onClick:function(){return r(F.V.Leverage)},disabled:!a,children:[(0,Z.jsx)(de,{value:"2"}),(0,Z.jsx)(D.Z,{variant:l?"main15":"main13",children:"Leverage Position"})]})]})},de=function(e){var t=e.value;return(0,Z.jsx)(c.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"20px",height:"20px",mr:2,borderRadius:"50%",backgroundColor:"#4F4F63"},children:(0,Z.jsx)(D.Z,{variant:"main13",children:t})})},pe=function(e){var t,r,o=e.children,i=e.active,a=e.onClick,s=e.disabled;return(0,Z.jsx)(c.Z,{onClick:function(){return!s&&(null===a||void 0===a?void 0:a())},sx:(r={display:"flex",justifyContent:"start",alignItems:"center",px:{xs:3,md:4},py:{xs:2,md:2.5},borderRadius:{xs:"8px",md:"10px"},border:"1px solid rgba(255, 255, 255, 0.12)",backgroundColor:i&&!s?"#36363F":"#2A2A32",cursor:i||s?"unset":"pointer"},(0,n.Z)(r,"> *",!i||s?{opacity:.5}:void 0),(0,n.Z)(r,":hover",i||s?void 0:(t={},(0,n.Z)(t,"> *",{opacity:1}),(0,n.Z)(t,"border","1px solid rgba(255, 255, 255, 0.24)"),t)),r),children:o})},me=r(2802),ve=r(80384),fe=r(14765),ge=r(96580);function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var he=function(e){var t,r,n=e.positionPoolData,a=e.tokenA,s=e.tokenB,l=e.baseCurrency,u=e.quoteCurrency,d=e.setAmount,p=(0,i.useRouter)(),m=ye({},p.query),v=X({positionPoolData:n,baseCurrency:l,quoteCurrency:u}),f=v.pool,g=v.ticks,x=v.pricesAtTicks,y=v.noLiquidity,h=v.currencies,b=v.invertPrice,C=v.ticksAtLimit,w=v.maxAmounts,O=v.atMaxAmounts,A=v.usdValueCurrencyA,_=v.usdValueCurrencyB,L=v.formattedAmounts,E=(0,j.EG)(y),B=E.onLeftRangeInput,R=E.onRightRangeInput,S=E.onFieldAInput,N=E.onFieldBInput,M=g[I.M.LOWER],T=g[I.M.UPPER],U=x[I.M.LOWER],F=x[I.M.UPPER],q=(0,j.a6)(l,u,n.feeAmount,M,T,f,n.tickSpacing),H=q.getDecrementLower,Y=q.getIncrementLower,G=q.getDecrementUpper,W=q.getIncrementUpper,z=q.getSetFullRange,$=(0,o.useCallback)((function(){z()}),[z]),J=b?null===n||void 0===n?void 0:n.invertedPoolPrice:null===n||void 0===n?void 0:n.poolPrice,K=(0,k.Z)(L[I.g.CURRENCY_A]||0).multipliedBy((0,k.Z)(10).pow((null===l||void 0===l?void 0:l.decimals)||0)).toNumber(),Q=(0,k.Z)(L[I.g.CURRENCY_B]||0).multipliedBy((0,k.Z)(10).pow((null===u||void 0===u?void 0:u.decimals)||0)).toNumber(),ee=(0,P.s)(n.marketName);return(0,o.useEffect)((function(){K||Q?null===d||void 0===d||d(!0):null===d||void 0===d||d(!1)}),[d,K,Q]),(0,o.useEffect)((function(){S(""),N("")}),[]),(0,Z.jsxs)(Z.Fragment,{children:[ee&&(0,Z.jsx)(ve.K,{positionPoolData:n,currencyA:l,currencyB:u}),(0,Z.jsx)(fe.N,{title:"Select range",priceLower:U,priceUpper:F,feeAmount:n.feeAmount,ticksAtLimit:C,baseCurrency:l,quoteCurrency:u,getIncrementLower:Y,getIncrementUpper:W,getDecrementLower:H,getDecrementUpper:G,onLeftRangeInput:B,onRightRangeInput:R,onSetFullRange:$,onRateToggle:function(){var e,t,r,n,o;C[I.M.LOWER]||C[I.M.UPPER]||(B(null!==(e=null===(t=b?U:null===F||void 0===F?void 0:F.invert())||void 0===t?void 0:t.toSignificant(6))&&void 0!==e?e:""),R(null!==(r=null===(n=b?F:null===U||void 0===U?void 0:U.invert())||void 0===n?void 0:n.toSignificant(6))&&void 0!==r?r:""),S(null!==(o=L[I.g.CURRENCY_B])&&void 0!==o?o:""),p.replace({pathname:p.pathname,query:ye(ye({},m),{},{currencyIdA:null===u||void 0===u?void 0:u.wrapped.address,currencyIdB:null===l||void 0===l?void 0:l.wrapped.address})},void 0,{shallow:!0}))}}),(0,Z.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",alignItems:{xs:"start",md:"center"},gap:.5,mb:-4},children:[(0,Z.jsx)(D.Z,{variant:"main13",color:"text.secondary",children:"Current Price"}),(0,Z.jsxs)(c.Z,{sx:{display:"flex",gap:1.5,alignItems:"end",lineHeight:0},children:[(0,Z.jsx)(D.Z,{variant:"main16",children:(0,me.d)(J)}),(0,Z.jsxs)(D.Z,{variant:"main15",color:"text.tertiary",children:[null===l||void 0===l?void 0:l.symbol," per ",null===u||void 0===u?void 0:u.symbol]})]})]}),(0,Z.jsx)(ge.T,{positionPoolData:n,currencyA:l,currencyB:u,ticksAtLimit:C,price:null===J||void 0===J?void 0:J.toNumber(),priceLower:U,priceUpper:F,onLeftRangeInput:B,onRightRangeInput:R,interactive:!0},b?"inverted":"sorted"),(0,Z.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,Z.jsx)(D.Z,{variant:"main16",children:"Deposit amounts"}),(0,Z.jsx)(V.t,{id:"add-liquidity-input-token-a",value:L[I.g.CURRENCY_A],iconSymbol:null===a||void 0===a?void 0:a.iconSymbol,onUserInput:S,onMax:function(){var e,t;S(null!==(e=null===(t=w[I.g.CURRENCY_A])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},showMaxButton:!O[I.g.CURRENCY_A],currency:null!==(t=h[I.g.CURRENCY_A])&&void 0!==t?t:null,fiatValue:null===A||void 0===A?void 0:A.toFixed(2),showCommonBases:!0}),(0,Z.jsx)(V.t,{id:"add-liquidity-input-token-b",value:L[I.g.CURRENCY_B],iconSymbol:null===s||void 0===s?void 0:s.iconSymbol,onUserInput:N,onMax:function(){var e,t;N(null!==(e=null===(t=w[I.g.CURRENCY_B])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},showMaxButton:!O[I.g.CURRENCY_B],fiatValue:null===_||void 0===_?void 0:_.toFixed(2),currency:null!==(r=h[I.g.CURRENCY_B])&&void 0!==r?r:null,showCommonBases:!0})]})]})},be=r(4730),Ce=["label","value","selected","sx"];function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ze=function(e){var t=e.label,r=e.value,n=e.selected,o=e.sx,i=(0,be.Z)(e,Ce);return(0,Z.jsxs)(c.Z,we(we({},i),{},{sx:we({display:"flex",alignItems:"center",gap:2,borderRadius:"8px",paddingRight:2,paddingLeft:3,py:2,boxSizing:"border-box",border:"1px solid ".concat(n?"#AFF113":"rgba(255, 255, 255, 0.06)"),backgroundColor:n?"#2A2A32":"#1F1F23",cursor:"pointer"},o),children:[(0,Z.jsx)(D.Z,{variant:"secondary14",color:n?"text.primary":"text.tertiary",children:t}),r&&(0,Z.jsxs)(c.Z,{sx:{px:2,py:1,fontSize:"10px",fontWeight:"600",lineHeight:"12px",borderRadius:"6px",backgroundColor:"rgba(175, 241, 19, 0.16)",color:"success.main",opacity:n?1:.48},children:[r,"% APR"]})]}))},Oe=function(e){var t=e.strategies,r=e.onSelect,n=e.value;return(0,Z.jsxs)(c.Z,{children:[(0,Z.jsx)(D.Z,{variant:"secondary16",children:"Select strategy"}),(0,Z.jsx)(c.Z,{sx:{display:"flex",alignItems:"center",gap:2,mt:3},children:t.map((function(e){return(0,Z.jsx)(Ze,{label:e.name,value:e.apr,selected:n===e.name,onClick:function(){return r(e.name)}})}))})]})},Ae=["icon","title","description","selected","sx"];function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Le,Ee,Pe=function(e){var t=e.icon,r=e.title,n=e.description,o=e.selected,i=e.sx,a=(0,be.Z)(e,Ae);return(0,Z.jsxs)(c.Z,ke(ke({},a),{},{sx:ke({display:"flex",flexDirection:"column",gap:3,padding:4,borderRadius:"8px",border:"1px solid ".concat(o?"#AFF113":"rgba(255, 255, 255, 0.06)"),background:"#2A2A32",cursor:"pointer"},i),children:[(0,Z.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[t,(0,Z.jsx)(D.Z,{variant:"secondary16",children:r})]}),(0,Z.jsx)(D.Z,{variant:"secondary12",color:"text.secondary",children:n})]}))};function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Be.apply(this,arguments)}var Re,Se,Ne=function(e){return o.createElement("svg",Be({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Le||(Le=o.createElement("g",{id:"gamma-icon_svg__strategy-icon",filter:"url(#gamma-icon_svg__filter0_d_20375_26495)"},o.createElement("rect",{x:2,width:28,height:28,rx:6,fill:"url(#gamma-icon_svg__paint0_linear_20375_26495)"}),o.createElement("rect",{x:2,width:28,height:28,rx:6,fill:"url(#gamma-icon_svg__paint1_linear_20375_26495)"}),o.createElement("rect",{x:2.5,y:.5,width:27,height:27,rx:5.5,stroke:"white",strokeOpacity:.08}),o.createElement("g",{id:"gamma-icon_svg__Group"},o.createElement("g",{id:"gamma-icon_svg__Union"},o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.1162 7.94573C22.1982 8.02766 22.1982 8.1605 22.1162 8.24243L16.6143 13.7443H22.0641C22.18 13.7443 22.2739 13.8383 22.2739 13.9541C22.2739 14.07 22.18 14.1639 22.0641 14.1639H16.6853L20.71 18.1886C20.792 18.2705 20.792 18.4034 20.71 18.4853C20.6281 18.5673 20.4953 18.5673 20.4133 18.4853L16.2174 14.2894V20.0906C16.2174 20.2065 16.1234 20.3004 16.0076 20.3004C15.8917 20.3004 15.7978 20.2065 15.7978 20.0906V14.5609L10.241 20.1177C10.159 20.1996 10.0262 20.1996 9.94426 20.1177C9.86233 20.0358 9.86233 19.9029 9.94426 19.821L15.6013 14.1639H10.213C10.0971 14.1639 10.0032 14.07 10.0032 13.9541C10.0032 13.8383 10.0971 13.7443 10.213 13.7443H15.6723L12.0333 10.1053C11.9514 10.0234 11.9514 9.89053 12.0333 9.8086C12.1152 9.72667 12.2481 9.72667 12.33 9.8086L15.7978 13.2764V8.23945C15.7978 8.12358 15.8917 8.02964 16.0076 8.02964C16.1234 8.02964 16.2174 8.12358 16.2174 8.23945V13.5479L21.8195 7.94573C21.9015 7.86379 22.0343 7.86379 22.1162 7.94573Z",fill:"#ABABBF"}),o.createElement("path",{d:"M22.1162 8.24243L21.6743 7.80042L21.6743 7.80049L22.1162 8.24243ZM22.1162 7.94573L21.6742 8.38756L21.6743 8.38775L22.1162 7.94573ZM16.6143 13.7443L16.1724 13.3024L15.1054 14.3693H16.6143V13.7443ZM16.6853 14.1639V13.5389H15.1765L16.2434 14.6059L16.6853 14.1639ZM20.71 18.1886L20.2681 18.6306L20.2683 18.6308L20.71 18.1886ZM20.71 18.4853L20.2681 18.0434L20.2679 18.0436L20.71 18.4853ZM20.4133 18.4853L19.9714 18.9273L19.9714 18.9273L20.4133 18.4853ZM16.2174 14.2894L16.6593 13.8474L15.5924 12.7805V14.2894H16.2174ZM15.7978 14.5609H16.4228V13.052L15.3558 14.119L15.7978 14.5609ZM10.241 20.1177L10.6828 20.5598L10.6829 20.5597L10.241 20.1177ZM9.94426 20.1177L9.50224 20.5596L9.50242 20.5598L9.94426 20.1177ZM9.94426 19.821L10.3861 20.2631L10.3862 20.263L9.94426 19.821ZM15.6013 14.1639L16.0433 14.6059L17.1102 13.5389H15.6013V14.1639ZM15.6723 13.7443V14.3693H17.1812L16.1143 13.3024L15.6723 13.7443ZM12.0333 10.1053L12.4753 9.66337L12.4753 9.66337L12.0333 10.1053ZM12.0333 9.8086L12.4752 10.2506L12.4753 10.2505L12.0333 9.8086ZM12.33 9.8086L12.772 9.36666L12.772 9.36666L12.33 9.8086ZM15.7978 13.2764L15.3558 13.7183L16.4228 14.7853V13.2764H15.7978ZM16.2174 13.5479H15.5924V15.0568L16.6593 13.9898L16.2174 13.5479ZM21.8195 7.94573L21.3776 7.50371L21.3776 7.50379L21.8195 7.94573ZM22.5581 8.68445C22.8842 8.35842 22.8842 7.82974 22.5581 7.50371L21.6743 8.38775C21.5121 8.22558 21.5121 7.96258 21.6743 7.80042L22.5581 8.68445ZM17.0563 14.1863L22.5581 8.68437L21.6743 7.80049L16.1724 13.3024L17.0563 14.1863ZM22.0641 13.1193H16.6143V14.3693H22.0641V13.1193ZM22.8989 13.9541C22.8989 13.4932 22.5253 13.1193 22.0641 13.1193V14.3693C21.8347 14.3693 21.6489 14.1833 21.6489 13.9541H22.8989ZM22.0641 14.7889C22.5253 14.7889 22.8989 14.4151 22.8989 13.9541H21.6489C21.6489 13.7249 21.8347 13.5389 22.0641 13.5389V14.7889ZM16.6853 14.7889H22.0641V13.5389H16.6853V14.7889ZM21.152 17.7467L17.1273 13.722L16.2434 14.6059L20.2681 18.6306L21.152 17.7467ZM21.152 18.9273C21.4779 18.6013 21.4782 18.0726 21.1518 17.7465L20.2683 18.6308C20.1058 18.4684 20.1061 18.2054 20.2681 18.0434L21.152 18.9273ZM19.9714 18.9273C20.2973 19.2532 20.826 19.2535 21.1521 18.9271L20.2679 18.0436C20.4302 17.8811 20.6932 17.8814 20.8553 18.0434L19.9714 18.9273ZM15.7754 14.7313L19.9714 18.9273L20.8553 18.0434L16.6593 13.8474L15.7754 14.7313ZM16.8424 20.0906V14.2894H15.5924V20.0906H16.8424ZM16.0076 20.9254C16.4685 20.9254 16.8424 20.5518 16.8424 20.0906H15.5924C15.5924 19.8612 15.7784 19.6754 16.0076 19.6754V20.9254ZM15.1728 20.0906C15.1728 20.5518 15.5466 20.9254 16.0076 20.9254V19.6754C16.2368 19.6754 16.4228 19.8612 16.4228 20.0906H15.1728ZM15.1728 14.5609V20.0906H16.4228V14.5609H15.1728ZM10.6829 20.5597L16.2397 15.0028L15.3558 14.119L9.79903 19.6758L10.6829 20.5597ZM9.50242 20.5598C9.82841 20.8856 10.3568 20.8856 10.6828 20.5598L9.79913 19.6757C9.96125 19.5136 10.224 19.5136 10.3861 19.6757L9.50242 20.5598ZM9.50242 19.379C9.17618 19.7051 9.17643 20.2337 9.50224 20.5596L10.3863 19.6759C10.5482 19.8379 10.5485 20.1008 10.3861 20.2631L9.50242 19.379ZM15.1594 13.722L9.50232 19.3791L10.3862 20.263L16.0433 14.6059L15.1594 13.722ZM10.213 14.7889H15.6013V13.5389H10.213V14.7889ZM9.37815 13.9541C9.37815 14.4152 9.75192 14.7889 10.213 14.7889V13.5389C10.4423 13.5389 10.6282 13.7248 10.6282 13.9541H9.37815ZM10.213 13.1193C9.7519 13.1193 9.37815 13.4931 9.37815 13.9541H10.6282C10.6282 14.1834 10.4423 14.3693 10.213 14.3693V13.1193ZM15.6723 13.1193H10.213V14.3693H15.6723V13.1193ZM11.5914 10.5473L15.2304 14.1863L16.1143 13.3024L12.4753 9.66337L11.5914 10.5473ZM11.5914 9.36664C11.2653 9.69266 11.2654 10.2212 11.5914 10.5473L12.4753 9.66337C12.6374 9.8255 12.6374 10.0884 12.4752 10.2506L11.5914 9.36664ZM12.772 9.36666C12.446 9.04066 11.9174 9.04063 11.5914 9.36668L12.4753 10.2505C12.3131 10.4127 12.0502 10.4127 11.8881 10.2505L12.772 9.36666ZM16.2397 12.8344L12.772 9.36666L11.8881 10.2505L15.3558 13.7183L16.2397 12.8344ZM15.1728 8.23945V13.2764H16.4228V8.23945H15.1728ZM16.0076 7.40464C15.5465 7.40464 15.1728 7.7784 15.1728 8.23945H16.4228C16.4228 8.46875 16.2369 8.65464 16.0076 8.65464V7.40464ZM16.8424 8.23945C16.8424 7.77838 16.4686 7.40464 16.0076 7.40464V8.65464C15.7783 8.65464 15.5924 8.46877 15.5924 8.23945H16.8424ZM16.8424 13.5479V8.23945H15.5924V13.5479H16.8424ZM21.3776 7.50379L15.7754 13.1059L16.6593 13.9898L22.2614 8.38767L21.3776 7.50379ZM22.5582 7.50389C22.2322 7.17764 21.7036 7.1779 21.3776 7.50371L22.2614 8.38775C22.0994 8.54969 21.8365 8.54995 21.6742 8.38756L22.5582 7.50389Z",fill:"#ABABBF"})),o.createElement("g",{id:"gamma-icon_svg__Union_2"},o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.9326 7.76164C22.0146 7.84358 22.0146 7.97642 21.9326 8.05835L16.4308 13.5602H21.8803C21.9962 13.5602 22.0902 13.6541 22.0902 13.77C22.0902 13.8858 21.9962 13.9798 21.8803 13.9798H16.5L20.525 18.0048C20.607 18.0867 20.607 18.2195 20.525 18.3015C20.4432 18.3834 20.3103 18.3834 20.2283 18.3015L16.0336 14.1068V19.9067C16.0336 20.0226 15.9397 20.1165 15.8238 20.1165C15.7079 20.1165 15.614 20.0226 15.614 19.9067V14.377L10.0574 19.9336C9.97544 20.0156 9.8426 20.0156 9.76067 19.9336C9.67874 19.8517 9.67874 19.7189 9.76067 19.6369L15.4178 13.9798H10.0292C9.91333 13.9798 9.8194 13.8858 9.8194 13.77C9.8194 13.6541 9.91333 13.5602 10.0292 13.5602H15.487L11.8483 9.92144C11.7664 9.8395 11.7664 9.70666 11.8483 9.62473C11.9303 9.5428 12.0631 9.5428 12.145 9.62473L15.614 13.0937V8.05558C15.614 7.9397 15.7079 7.84577 15.8238 7.84577C15.9397 7.84577 16.0336 7.9397 16.0336 8.05558V13.3639L21.6359 7.76164C21.7179 7.67971 21.8507 7.67971 21.9326 7.76164Z",fill:"#F1F1F3"}),o.createElement("path",{d:"M21.9326 8.05835L21.6675 7.79314L21.6675 7.79319L21.9326 8.05835ZM21.9326 7.76164L21.6674 8.02675L21.6675 8.02686L21.9326 7.76164ZM16.4308 13.5602L16.1656 13.295L15.5255 13.9352H16.4308V13.5602ZM16.5 13.9798V13.6048H15.5947L16.2349 14.2449L16.5 13.9798ZM20.525 18.0048L20.2599 18.2699L20.26 18.2701L20.525 18.0048ZM20.2283 18.3015L19.9632 18.5667L19.9633 18.5668L20.2283 18.3015ZM16.0336 14.1068L16.2988 13.8416L15.6586 13.2014V14.1068H16.0336ZM15.614 14.377H15.989V13.4716L15.3488 14.1118L15.614 14.377ZM10.0574 19.9336L9.79221 19.6684L9.79216 19.6685L10.0574 19.9336ZM9.76067 19.9336L10.0259 19.6685L10.0258 19.6684L9.76067 19.9336ZM9.76067 19.6369L9.4955 19.3717L9.49546 19.3718L9.76067 19.6369ZM15.4178 13.9798L15.683 14.2449L16.3231 13.6048H15.4178V13.9798ZM15.487 13.5602V13.9352H16.3924L15.7522 13.295L15.487 13.5602ZM11.8483 9.92144L12.1135 9.65627L12.1135 9.65627L11.8483 9.92144ZM11.8483 9.62473L11.5832 9.35955L11.5832 9.35957L11.8483 9.62473ZM12.145 9.62473L12.4102 9.35957L12.4102 9.35957L12.145 9.62473ZM15.614 13.0937L15.3488 13.3589L15.989 13.9991V13.0937H15.614ZM16.0336 13.3639H15.6586V14.2693L16.2988 13.6291L16.0336 13.3639ZM21.6359 7.76164L21.3708 7.49643L21.3708 7.49648L21.6359 7.76164ZM22.1977 8.32356C22.4262 8.09517 22.4262 7.72482 22.1977 7.49643L21.6675 8.02686C21.603 7.96233 21.603 7.85766 21.6675 7.79314L22.1977 8.32356ZM16.696 13.8253L22.1978 8.32352L21.6675 7.79319L16.1656 13.295L16.696 13.8253ZM21.8803 13.1852H16.4308V13.9352H21.8803V13.1852ZM22.4652 13.77C22.4652 13.4469 22.2032 13.1852 21.8803 13.1852V13.9352C21.7892 13.9352 21.7152 13.8613 21.7152 13.77H22.4652ZM21.8803 14.3548C22.2032 14.3548 22.4652 14.093 22.4652 13.77H21.7152C21.7152 13.6786 21.7892 13.6048 21.8803 13.6048V14.3548ZM16.5 14.3548H21.8803V13.6048H16.5V14.3548ZM20.7902 17.7396L16.7652 13.7146L16.2349 14.2449L20.2599 18.2699L20.7902 17.7396ZM20.7902 18.5667C21.0186 18.3383 21.0187 17.9679 20.7901 17.7395L20.26 18.2701C20.1953 18.2054 20.1955 18.1007 20.2599 18.0363L20.7902 18.5667ZM19.9633 18.5668C20.1916 18.7949 20.5618 18.7951 20.7902 18.5667L20.2599 18.0363C20.3245 17.9717 20.429 17.9719 20.4934 18.0362L19.9633 18.5668ZM15.7685 14.3719L19.9632 18.5667L20.4935 18.0363L16.2988 13.8416L15.7685 14.3719ZM16.4086 19.9067V14.1068H15.6586V19.9067H16.4086ZM15.8238 20.4915C16.1468 20.4915 16.4086 20.2297 16.4086 19.9067H15.6586C15.6586 19.8155 15.7326 19.7415 15.8238 19.7415V20.4915ZM15.239 19.9067C15.239 20.2297 15.5008 20.4915 15.8238 20.4915V19.7415C15.9151 19.7415 15.989 19.8155 15.989 19.9067H15.239ZM15.239 14.377V19.9067H15.989V14.377H15.239ZM10.3225 20.1988L15.8792 14.6421L15.3488 14.1118L9.79221 19.6684L10.3225 20.1988ZM9.49546 20.1987C9.72385 20.4272 10.0942 20.4272 10.3226 20.1987L9.79216 19.6685C9.85669 19.6039 9.96135 19.6039 10.0259 19.6685L9.49546 20.1987ZM9.49546 19.3718C9.2672 19.6001 9.26704 19.9704 9.49556 20.1988L10.0258 19.6684C10.0904 19.733 10.0903 19.8376 10.0259 19.902L9.49546 19.3718ZM15.1526 13.7146L9.4955 19.3717L10.0258 19.9021L15.683 14.2449L15.1526 13.7146ZM10.0292 14.3548H15.4178V13.6048H10.0292V14.3548ZM9.4444 13.77C9.4444 14.0929 9.70622 14.3548 10.0292 14.3548V13.6048C10.1204 13.6048 10.1944 13.6787 10.1944 13.77H9.4444ZM10.0292 13.1852C9.70623 13.1852 9.4444 13.447 9.4444 13.77H10.1944C10.1944 13.8612 10.1204 13.9352 10.0292 13.9352V13.1852ZM15.487 13.1852H10.0292V13.9352H15.487V13.1852ZM11.5832 10.1866L15.2219 13.8253L15.7522 13.295L12.1135 9.65627L11.5832 10.1866ZM11.5832 9.35957C11.3548 9.58795 11.3548 9.95822 11.5832 10.1866L12.1135 9.65627C12.178 9.72078 12.178 9.82538 12.1135 9.88989L11.5832 9.35957ZM12.4102 9.35957C12.1818 9.13117 11.8115 9.13121 11.5832 9.35955L12.1135 9.88991C12.049 9.9544 11.9444 9.95442 11.8799 9.88989L12.4102 9.35957ZM15.8792 12.8286L12.4102 9.35957L11.8799 9.88989L15.3488 13.3589L15.8792 12.8286ZM15.239 8.05558V13.0937H15.989V8.05558H15.239ZM15.8238 7.47077C15.5009 7.47077 15.239 7.73259 15.239 8.05558H15.989C15.989 8.14682 15.915 8.22077 15.8238 8.22077V7.47077ZM16.4086 8.05558C16.4086 7.7326 16.1468 7.47077 15.8238 7.47077V8.22077C15.7326 8.22077 15.6586 8.14681 15.6586 8.05558H16.4086ZM16.4086 13.3639V8.05558H15.6586V13.3639H16.4086ZM21.3708 7.49648L15.7685 13.0988L16.2988 13.6291L21.9011 8.02681L21.3708 7.49648ZM22.1979 7.49654C21.9694 7.26802 21.5991 7.26818 21.3708 7.49643L21.901 8.02686C21.8366 8.09125 21.732 8.0914 21.6674 8.02675L22.1979 7.49654Z",fill:"#F1F1F3"}))))),Ee||(Ee=o.createElement("defs",null,o.createElement("filter",{id:"gamma-icon_svg__filter0_d_20375_26495",x:0,y:0,width:32,height:32,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),o.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),o.createElement("feOffset",{dy:2}),o.createElement("feGaussianBlur",{stdDeviation:1}),o.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),o.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),o.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_20375_26495"}),o.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_20375_26495",result:"shape"})),o.createElement("linearGradient",{id:"gamma-icon_svg__paint0_linear_20375_26495",x1:2.04279,y1:-.129636,x2:29.9557,y2:28.0662,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#232328"}),o.createElement("stop",{offset:.5,stopColor:"#1F1F23"}),o.createElement("stop",{offset:.878699,stopColor:"#18181B"})),o.createElement("linearGradient",{id:"gamma-icon_svg__paint1_linear_20375_26495",x1:2.04279,y1:-.129638,x2:15.9999,y2:14.1296,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"white",stopOpacity:.12}),o.createElement("stop",{offset:.5,stopColor:"#808080",stopOpacity:.06}),o.createElement("stop",{offset:1,stopOpacity:0})))))};function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Me.apply(this,arguments)}var Te,De,Ue,Ie,Ve,Fe,qe=function(e){return o.createElement("svg",Me({width:33,height:32,viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Re||(Re=o.createElement("g",{id:"steer-icon_svg__strategy-icon",filter:"url(#steer-icon_svg__filter0_d_20375_26516)"},o.createElement("rect",{x:2.66602,width:28,height:28,rx:6,fill:"url(#steer-icon_svg__paint0_linear_20375_26516)"}),o.createElement("rect",{x:2.66602,width:28,height:28,rx:6,fill:"url(#steer-icon_svg__paint1_linear_20375_26516)"}),o.createElement("rect",{x:3.16602,y:.5,width:27,height:27,rx:5.5,stroke:"white",strokeOpacity:.08}),o.createElement("path",{id:"steer-icon_svg__path1",fillRule:"evenodd",clipRule:"evenodd",d:"M23.3399 4.96705C23.0552 5.02967 20.8296 5.66062 20.2357 5.8475C20.0058 5.91974 19.509 6.07227 19.1315 6.18658C18.754 6.30089 18.0552 6.51698 17.5792 6.66693C17.1032 6.81689 16.3109 7.05963 15.8185 7.2067C13.4123 7.92531 13.167 8.24737 13.5799 10.1457C13.6086 10.2783 13.663 10.5914 13.701 10.8415C13.8002 11.4997 13.8092 11.5286 13.9467 11.6519C14.119 11.8067 15.1748 11.6099 15.9976 11.2698C16.0631 11.2425 16.6809 11.0512 17.3704 10.8444C18.0599 10.6376 18.7852 10.4196 18.9821 10.3599C19.1791 10.2998 20.2361 9.9861 21.3306 9.66211C24.2945 8.7852 24.4947 8.62562 24.321 7.2828C24.2368 6.6329 24.1473 6.03084 24.0856 5.70397C24.0552 5.54214 24.0144 5.29521 23.995 5.15554C23.9553 4.87137 23.8776 4.84921 23.3399 4.96705ZM18.9223 11.4005C18.6927 11.4699 18.2629 11.5916 17.9675 11.6709C17.672 11.7502 17.269 11.8613 17.072 11.9181C16.8751 11.975 16.6333 12.0421 16.5348 12.0678C14.1057 12.7003 14.1766 12.6091 14.1766 15.0922C14.1766 16.6906 14.1831 16.7911 14.2812 16.7564C14.4055 16.7127 14.7035 16.6273 15.3109 16.4613C15.5574 16.3942 15.8661 16.3091 15.9976 16.2719C16.1286 16.2349 16.4377 16.1508 16.6838 16.0847C16.9302 16.0185 17.3195 15.9061 17.5495 15.8345C17.7794 15.7629 18.1824 15.6406 18.4449 15.5629C18.8006 15.4576 18.99 15.3645 19.187 15.1972L19.4513 14.973L19.4965 14.3925C19.5215 14.073 19.5434 13.2398 19.5455 12.5407C19.5498 11.0814 19.6107 11.1928 18.9223 11.4005ZM18.5047 16.6248C18.2092 16.7111 17.6988 16.8579 17.3704 16.9503C17.042 17.0431 16.4646 17.2082 16.0871 17.317C15.7092 17.4259 15.2125 17.5656 14.9825 17.6279C13.8991 17.9213 13.0742 18.1512 12.4456 18.3343C12.0681 18.4444 11.4141 18.6345 10.9922 18.7568C9.31275 19.2436 9.02049 19.6556 9.2841 21.1638C9.42342 21.9623 9.55917 22.7018 9.61683 22.9763C9.65408 23.1529 10.1107 23.1391 10.7673 22.942C11.3224 22.775 12.8138 22.3563 13.4904 22.1775C13.72 22.1168 13.9617 22.0484 14.0276 22.0253C14.1899 21.9687 14.4231 21.901 14.9528 21.7571C15.1992 21.6904 15.7092 21.5459 16.0871 21.4367C17.8901 20.9143 18.2916 20.7996 18.624 20.711C20.168 20.2997 20.3643 19.864 19.9718 17.7184C19.9395 17.5418 19.8844 17.2406 19.8496 17.0492C19.7275 16.3823 19.5373 16.3223 18.5047 16.6248Z",fill:"#544CD4"}))),Se||(Se=o.createElement("defs",null,o.createElement("filter",{id:"steer-icon_svg__filter0_d_20375_26516",x:.666016,y:0,width:32,height:32,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),o.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),o.createElement("feOffset",{dy:2}),o.createElement("feGaussianBlur",{stdDeviation:1}),o.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),o.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),o.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_20375_26516"}),o.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_20375_26516",result:"shape"})),o.createElement("linearGradient",{id:"steer-icon_svg__paint0_linear_20375_26516",x1:2.70881,y1:-.129636,x2:30.6217,y2:28.0662,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#232328"}),o.createElement("stop",{offset:.5,stopColor:"#1F1F23"}),o.createElement("stop",{offset:.878699,stopColor:"#18181B"})),o.createElement("linearGradient",{id:"steer-icon_svg__paint1_linear_20375_26516",x1:2.70881,y1:-.129638,x2:16.6659,y2:14.1296,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"white",stopOpacity:.12}),o.createElement("stop",{offset:.5,stopColor:"#808080",stopOpacity:.06}),o.createElement("stop",{offset:1,stopOpacity:0})))))};function He(){return He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},He.apply(this,arguments)}var Ye,Ge,We=function(e){return o.createElement("svg",He({width:33,height:32,viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("g",{filter:"url(#defi-edge-icon_svg__filter0_d_20375_26527)"},Te||(Te=o.createElement("rect",{x:2.33398,width:28,height:28,rx:6,fill:"url(#defi-edge-icon_svg__paint0_linear_20375_26527)"})),De||(De=o.createElement("rect",{x:2.33398,width:28,height:28,rx:6,fill:"url(#defi-edge-icon_svg__paint1_linear_20375_26527)"})),Ue||(Ue=o.createElement("rect",{x:2.83398,y:.5,width:27,height:27,rx:5.5,stroke:"white",strokeOpacity:.08})),o.createElement("mask",{id:"defi-edge-icon_svg__mask0_20375_26527",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:10,y:5,width:13,height:18},Ie||(Ie=o.createElement("path",{d:"M22.0274 5.6001H10.0332V22.4001H22.0274V5.6001Z",fill:"white"}))),Ve||(Ve=o.createElement("g",{mask:"url(#defi-edge-icon_svg__mask0_20375_26527)"},o.createElement("path",{d:"M21.8549 15.7651C21.9676 15.2088 22.0279 14.6365 22.0279 14.048C22.0279 13.4192 21.9595 12.8106 21.8307 12.2221C20.8 11.7746 19.6646 11.5288 18.4728 11.5288C16.1415 11.5288 14.0318 12.472 12.5059 13.9996C14.0318 15.5273 16.1415 16.4704 18.4728 16.4704C19.6766 16.4704 20.8201 16.2206 21.8549 15.7651Z",fill:"url(#defi-edge-icon_svg__paint2_radial_20375_26527)"}),o.createElement("path",{d:"M21.8261 12.2261C20.7954 11.7787 19.66 11.5328 18.4682 11.5328C16.141 11.5328 14.0313 12.476 12.5053 13.9996C10.9794 12.4719 10.0332 10.3558 10.0332 8.02206C10.0332 7.43358 10.0936 6.86122 10.2063 6.30498C11.2411 5.84952 12.3845 5.59961 13.5884 5.59961C17.6268 5.59961 21.0007 8.4332 21.8342 12.2261H21.8261Z",fill:"url(#defi-edge-icon_svg__paint3_linear_20375_26527)"}),o.createElement("path",{d:"M21.8261 15.7735C20.7954 16.2209 19.66 16.4668 18.4682 16.4668C16.141 16.4668 14.0313 15.5236 12.5053 14C10.9794 15.5276 10.0332 17.6437 10.0332 19.9775C10.0332 20.566 10.0936 21.1383 10.2063 21.6946C11.2411 22.146 12.3845 22.4 13.5884 22.4C17.6268 22.4 21.0007 19.5664 21.8342 15.7735H21.8261Z",fill:"url(#defi-edge-icon_svg__paint4_linear_20375_26527)"})))),Fe||(Fe=o.createElement("defs",null,o.createElement("filter",{id:"defi-edge-icon_svg__filter0_d_20375_26527",x:.333984,y:0,width:32,height:32,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),o.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),o.createElement("feOffset",{dy:2}),o.createElement("feGaussianBlur",{stdDeviation:1}),o.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),o.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),o.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_20375_26527"}),o.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_20375_26527",result:"shape"})),o.createElement("linearGradient",{id:"defi-edge-icon_svg__paint0_linear_20375_26527",x1:2.37678,y1:-.129636,x2:30.2896,y2:28.0662,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#232328"}),o.createElement("stop",{offset:.5,stopColor:"#1F1F23"}),o.createElement("stop",{offset:.878699,stopColor:"#18181B"})),o.createElement("linearGradient",{id:"defi-edge-icon_svg__paint1_linear_20375_26527",x1:2.37678,y1:-.129638,x2:16.3339,y2:14.1296,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"white",stopOpacity:.12}),o.createElement("stop",{offset:.5,stopColor:"#808080",stopOpacity:.06}),o.createElement("stop",{offset:1,stopOpacity:0})),o.createElement("radialGradient",{id:"defi-edge-icon_svg__paint2_radial_20375_26527",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(14.2009 13.9835) scale(8.37461 7.09539)"},o.createElement("stop",{stopColor:"#3C69FF"}),o.createElement("stop",{offset:1,stopColor:"#0034AA"})),o.createElement("linearGradient",{id:"defi-edge-icon_svg__paint3_linear_20375_26527",x1:12.1067,y1:7.07082,x2:14.5676,y2:13.9818,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#2D5AF1"}),o.createElement("stop",{offset:1,stopColor:"#0034AA"})),o.createElement("linearGradient",{id:"defi-edge-icon_svg__paint4_linear_20375_26527",x1:10.3956,y1:19.2238,x2:18.8714,y2:17.7155,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#2D5CF3"}),o.createElement("stop",{offset:1,stopColor:"#0034AA"})))))},ze=(Ye={},(0,n.Z)(Ye,x.f6.Gamma,(0,Z.jsx)(Ne,{})),(0,n.Z)(Ye,x.f6.Steer,(0,Z.jsx)(qe,{})),(0,n.Z)(Ye,x.f6.DefiEdge,(0,Z.jsx)(We,{})),Ye),$e=(Ge={},(0,n.Z)(Ge,x.f6.Gamma,"Protocol for active liquidity management strategies"),(0,n.Z)(Ge,x.f6.Steer,"Multi-chain compute protocol with automated liquidity management"),(0,n.Z)(Ge,x.f6.DefiEdge,"Asset management protocol for DeFi  liquidity management"),Ge),Je=function(e){var t=e.strategyProviderNames,r=e.onSelect,n=e.value;return(0,Z.jsxs)(c.Z,{children:[(0,Z.jsx)(D.Z,{variant:"secondary16",children:"Select ALM and strategy"}),(0,Z.jsx)(D.Z,{variant:"secondary14",color:"text.tertiary",sx:{mt:.5},children:"Select one of automated liquidity management providers to manage position"}),(0,Z.jsx)(c.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:2,mt:3},children:t.map((function(e){return(0,Z.jsx)(Pe,{title:e,icon:ze[e],description:$e[e],selected:n===e,onClick:function(){return r(e)}})}))})]})},Xe=r(9144),Ke=r(17677),Qe=r(68346),et=["children"];function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var nt=function(e){var t=e.children,r=(0,be.Z)(e,et);return(0,Z.jsxs)(Qe.Z,rt(rt({},r),{},{sx:{display:"flex",alignItems:"center",gap:1.5,fontSize:"14px",fontWeight:"500",color:"#8061E5",textDecoration:"none",cursor:"pointer"},children:[t,(0,Z.jsx)(Ke.Z,{sx:{fontSize:"16px",color:"#8061E5"}})]}))},ot=function(e){var t=e.description,r=e.image;return(0,Z.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",gap:4},children:[(0,Z.jsxs)(c.Z,{children:[(0,Z.jsxs)(Xe.Z,{direction:"row",spacing:2,justifyContent:"space-between",mb:2,children:[(0,Z.jsx)(D.Z,{variant:"secondary16",children:"Strategy description"}),(0,Z.jsx)(nt,{children:"More details"})]}),(0,Z.jsx)(D.Z,{variant:"secondary14",color:"text.tertiary",children:t})]}),r&&(0,Z.jsx)(c.Z,{sx:{img:{width:{xs:"100%",md:"552px"},height:"auto",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.06)"}},children:(0,Z.jsx)("img",{src:r})})]})},it=function(e){var t,r,n=e.positionPoolData,i=e.almPools,a=e.tokenA,s=e.tokenB,l=e.baseCurrency,u=e.quoteCurrency,d=e.setAmount,p=e.strategyProviderName,m=e.setStrategyProviderName,v=e.strategyName,f=e.setStrategyName,g=ae({baseCurrency:l,quoteCurrency:u,tokenA:a,tokenB:s,almPools:i,strategyProviderName:p,strategyName:v}),x=g.strategyProviderNames,y=g.strategyNames,h=g.selectedVault,b=g.formattedAmounts,C=g.usdValueCurrencyA,w=g.usdValueCurrencyB,O=X({positionPoolData:n,baseCurrency:l,quoteCurrency:u}),A=O.atMaxAmounts,_=O.currencies,L=O.maxAmounts,E=O.noLiquidity,P=(0,j.EG)(E),B=P.onFieldAInput,R=P.onFieldBInput,S=(0,k.Z)(b[I.g.CURRENCY_A]||0).multipliedBy((0,k.Z)(10).pow((null===l||void 0===l?void 0:l.decimals)||0)).toNumber(),N=(0,k.Z)(b[I.g.CURRENCY_B]||0).multipliedBy((0,k.Z)(10).pow((null===u||void 0===u?void 0:u.decimals)||0)).toNumber(),M=y.map((function(e){return{name:e}}));return(0,o.useEffect)((function(){if(p){var e=ie(i,p);f(e[0])}else{m(x[0]);var t=ie(i,x[0]);f(t[0])}}),[p]),(0,o.useEffect)((function(){S||N?null===d||void 0===d||d(!0):null===d||void 0===d||d(!1)}),[d,S,N]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Je,{strategyProviderNames:x,onSelect:m,value:p}),(0,Z.jsx)(Oe,{strategies:M,onSelect:f,value:v}),(0,Z.jsx)(ot,{description:null===h||void 0===h?void 0:h.description,image:null===h||void 0===h?void 0:h.image}),(0,Z.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,Z.jsx)(D.Z,{variant:"main16",children:"Deposit amounts"}),(0,Z.jsx)(V.t,{id:"add-liquidity-input-token-a",value:b[I.g.CURRENCY_A],iconSymbol:null===a||void 0===a?void 0:a.iconSymbol,onUserInput:B,onMax:function(){var e,t;B(null!==(e=null===(t=L[I.g.CURRENCY_A])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},showMaxButton:!A[I.g.CURRENCY_A],currency:null!==(t=_[I.g.CURRENCY_A])&&void 0!==t?t:null,fiatValue:null===C||void 0===C?void 0:C.toFixed(2),showCommonBases:!0}),(0,Z.jsx)(V.t,{id:"add-liquidity-input-token-b",value:b[I.g.CURRENCY_B],iconSymbol:null===s||void 0===s?void 0:s.iconSymbol,onUserInput:R,onMax:function(){var e,t;R(null!==(e=null===(t=L[I.g.CURRENCY_B])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},showMaxButton:!A[I.g.CURRENCY_B],fiatValue:null===w||void 0===w?void 0:w.toFixed(2),currency:null!==(r=_[I.g.CURRENCY_B])&&void 0!==r?r:null,showCommonBases:!0})]})]})},at=r(70754),st=r(63206),lt=r(69897),ut=function(){var e=(0,f.Q)().requiredChainId;return(0,Z.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:20,pb:20},children:[(0,Z.jsx)(lt.I,{networkName:(0,st.Mo)(e).name,chainId:e}),(0,Z.jsx)(at.Z,{})]})},ct=r(4530),dt=[{value:F.J.Manual,label:"Manual"},{value:F.J.Automatic,label:"Automatic"}],pt=r(24997),mt=function(e){var t=e.value,r=e.onSelect,n=e.disabled;return(0,Z.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,Z.jsx)(D.Z,{variant:"secondary16",children:"Select mode"}),(0,Z.jsx)(ct.t,{color:"primary",exclusive:!0,value:t,onChange:function(e,t){return t&&r(t)},sx:{width:"100%"},disabled:n,children:dt.map((function(e){return(0,Z.jsx)(pt.C,{value:e.value,size:"small",sx:{flex:"1 1 auto",fontSize:"14px"},children:e.label},e.value)}))})]})},vt=r(46027),ft=r(81506),gt=r(70918),xt=r(56371),yt=r(54136),ht=r(539),bt=r(21878),Ct=r(42709),jt=r(8195),wt=r(6751),Zt=r(68861),Ot=r(635),At=r(49486),_t=r(98924),kt=function(e){var t=e.positionPoolData,r=e.feeAmount,n=e.baseCurrency,o=e.quoteCurrency,i=function(e){return e?{controlType:At.N3.ManualPosition,tokenId:-1e3,token0:e.pool.token0.address,token1:e.pool.token1.address,amount0:e.amount0.multiply(e.amount0.decimalScale).toSignificant(),amount1:e.amount1.multiply(e.amount1.decimalScale).toSignificant(),liquidity:Ot.BigNumber.from(e.liquidity.toString()||0),tickLower:e.tickLower,tickUpper:e.tickUpper,tickCurrent:0,sqrtPriceX96:Ot.BigNumber.from(0),fee:e.pool.fee,fee0:"0",fee1:"0"}:void 0}((0,j.m2)(n,o,r,n,t).position);return(0,E.Yh)((function(e){return(0,_t.vH)(e,i)}))},Lt=r(61722),Et=r(38210),Pt=r(59922),Bt=r(62330),Rt=r(67095),St=r(59148),Nt=r(11288),Mt=function(e){var t=e.amount,r=e.token;return(0,k.Z)(t||0).multipliedBy((0,k.Z)((null===r||void 0===r?void 0:r.priceInMarketReferenceCurrency)||0).div((0,k.Z)(10).pow(Nt.$3))).toNumber()},Tt=r(51324),Dt=r(44020),Ut=function(e){var t=e.tokenA,r=e.tokenB,n=e.amountA,o=e.amountB,i=e.tokenToBorrow,a=e.leverage;if(!i||!a)return(0,k.Z)(0);var s=(0,k.Z)(a).minus((0,k.Z)(a).multipliedBy(.005)).minus(1),l=(t&&r?(0,k.Z)(n.div((0,k.Z)(10).pow(t.decimals)).multipliedBy(t.priceInUSD)).plus(o.div((0,k.Z)(10).pow(r.decimals)).multipliedBy(r.priceInUSD)):(0,k.Z)(0)).multipliedBy(s).div(i.priceInUSD).multipliedBy((0,k.Z)(10).pow(i.decimals)).minus(1).decimalPlaces(0);return l.isGreaterThan(0)?l:(0,k.Z)(0)},It=r(50029),Vt=r(87794),Ft=r.n(Vt),qt=r(36667),Ht=r(72864),Yt=r(39771),Gt=r(92767),Wt=r(4710),zt=r(26581);function $t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xt=new q.gG(50,1e4),Kt=function(e){var t=e.strategyMode,r=e.almPool,n=e.positionPoolData,i=e.tokenA,a=e.tokenB,s=e.amountToSupplyA,l=e.amountToSupplyB,c=e.tokenToBorrow,p=e.amountToBorrow,m=e.creationStep,f=e.setCreationStep,g=e.hasAmount,x=e.expanded,h=e.setExpanded,b=e.existViewSummaryStep,C=void 0!==b&&b,w=e.slippage,O=(0,o.useState)(),A=O[0],_=O[1],L=(0,o.useState)(),P=L[0],B=L[1],R=(0,o.useState)(!1),S=R[0],N=R[1],M=(0,o.useState)(!1),T=M[0],D=M[1],U=(0,Gt.p)(),I=(0,v.Z)().currentAccount,V=(0,jt.vR)(),q=V.setTxError,H=V.setMainTxState,G=V.mainTxState,W=V.setGasLimit,z=(0,v.Z)().sendTx,$=(0,y.U)(i),J=(0,y.U)(a),X=(0,E.Yh)((function(e){return[e.currentMarketData,e.createAndLeveragePosition,e.createAndLeverageAlmPosition,e.estimateGasLimit]})),K=(0,u.Z)(X,4),Q=K[0],te=K[1],re=K[2],ne=K[3],oe=(0,j.m2)($,J,n.feeAmount,$,n).position,ie=m===F.V.Leverage&&C&&!x,ae=(0,zt.$)(),se=G.loading||G.loading&&!S&&!T,le=function(){return m===F.V.Create?!g:m===F.V.Leverage&&(ie?p.isLessThanOrEqualTo(0):S||T||!A||!P||!c||p.isLessThanOrEqualTo(0))},ue=(0,o.useCallback)((0,It.Z)(Ft().mark((function e(){var t,r,o,i,a,s,l;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(oe&&c&&p.isGreaterThan(0)&&ae&&w)||S||T||G.success){e.next=9;break}return t=oe.mintAmounts,r=t.amount0,o=t.amount1,i=oe.mintAmountsWithSlippage(Xt),a=(0,d._s)(i.amount0),s=(0,d._s)(i.amount1),l={fee:oe.pool.fee,token0:oe.pool.token0.address,token1:oe.pool.token1.address,tickLower:oe.tickLower,tickUpper:oe.tickUpper,amount0Desired:(0,d._s)(r),amount1Desired:(0,d._s)(o),amount0Min:a,amount1Min:s,recipient:I,deadline:ae.toString()},e.next=8,U({fn:te,args:[n.marketId,l,c.underlyingAsset,p.toFixed(),w]});case 8:return e.abrupt("return",e.sent);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)}))),[null===oe||void 0===oe?void 0:oe.pool.fee,null===oe||void 0===oe?void 0:oe.pool.token0,null===oe||void 0===oe?void 0:oe.pool.token1,null===c||void 0===c?void 0:c.underlyingAsset,p.toFixed(),null===ae||void 0===ae?void 0:ae.toString(),w,S,T,G.success]),ce=(0,o.useCallback)((0,It.Z)(Ft().mark((function e(){var t,n,o,i,a,u;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(I&&Q.addresses.ASSET_CONVERTER&&null!==r&&void 0!==r&&r.market.create_and_leverage_address&&null!==r&&void 0!==r&&r.address&&null!==c&&void 0!==c&&c.underlyingAsset&&p.isGreaterThan(0)&&w)){e.next=10;break}return t=(0,d._s)(Y().BigInt(s.toFixed(0))),n=(0,d._s)(Y().BigInt(l.toFixed(0))),o=(0,d._s)(Y().BigInt(s.minus(s.multipliedBy((0,k.Z)(w).div(1e4))).toFixed(0))),i=(0,d._s)(Y().BigInt(l.minus(l.multipliedBy((0,k.Z)(w).div(1e4))).toFixed(0))),a={depositParams:{vault:r.address,amount0Desired:t,amount1Desired:n,amount0Min:o,amount1Min:i,receiver:I},positionInitParams:{lpToken:r.address,lpAmount:(0,d._s)(0),tokenToBorrow:c.underlyingAsset,amountToBorrow:p.toFixed(),assetConverter:Q.addresses.ASSET_CONVERTER,maxSwapSlippage:w,owner:I}},u=re(r.market.create_and_leverage_address,a),e.next=9,ne(u);case 9:return e.abrupt("return",e.sent);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)}))),[I,Q.addresses.ASSET_CONVERTER,null===r||void 0===r?void 0:r.market.create_and_leverage_address,null===r||void 0===r?void 0:r.address,null===c||void 0===c?void 0:c.underlyingAsset,p.toFixed(),w]),de=function(){var e=(0,It.Z)(Ft().mark((function e(){var r,n,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,q(void 0),H(Jt(Jt({},G),{},{loading:!0})),t!==F.J.Manual){e.next=9;break}return e.next=6,ue();case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,ce();case 11:e.t0=e.sent;case 12:if(!(r=e.t0)){e.next=24;break}return e.next=16,z(r);case 16:return n=e.sent,e.next=19,n.wait(1);case 19:H({txHash:n.hash,loading:!1,success:!0}),Ht.queryClient.invalidateQueries({queryKey:[ee.iP.POSITIONS]}),Ht.queryClient.invalidateQueries({queryKey:[ee.iP.POSITIONS_DATA]}),e.next=25;break;case 24:H({loading:!1});case 25:e.next=32;break;case 27:e.prev=27,e.t1=e.catch(0),o=(0,Yt.WG)(e.t1,Yt.aD.GAS_ESTIMATION,!1),q(o),H({loading:!1});case 32:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){var e=function(){var e=(0,It.Z)(Ft().mark((function e(){var r,n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==F.J.Manual){e.next=6;break}return e.next=3,ue();case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,ce();case 8:e.t0=e.sent;case 9:(r=e.t0)&&W((null===(n=r.gasLimit)||void 0===n?void 0:n.toString())||"0");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=setTimeout(e,500),n=setInterval(e,15e3);return function(){clearTimeout(r),clearInterval(n)}}),[ue,re,t]),(0,Z.jsxs)(Z.Fragment,{children:[m===F.V.Leverage&&x&&(0,Z.jsx)(Wt.O,{marketId:n.marketId,poolAddress:null===r||void 0===r?void 0:r.market.create_and_leverage_address,tokenA:i,tokenB:a,amountToSupplyA:s,amountToSupplyB:l,approvedAmountA:A,approvedAmountB:P,setApprovedAmountA:_,setApprovedAmountB:B,requiresApprovalA:S,requiresApprovalB:T,setRequiresApprovalA:N,setRequiresApprovalB:D}),(0,Z.jsxs)(qt.Z,{variant:"contained",onClick:function(){ie?null===h||void 0===h||h(!0):m===F.V.Leverage?de():f(F.V.Leverage)},size:"large",fullWidth:!0,disabled:se||le(),sx:{minHeight:"44px",backgroundColor:"#AFF113",color:"#074245","&:disabled":{color:"#074245",backgroundColor:"#AFF113",opacity:"0.5"},"&:hover":{backgroundColor:"#cafc53"}},children:[se&&(0,Z.jsx)(at.Z,{color:"inherit",size:"16px",sx:{mr:2}}),function(){var e=le();return m===F.V.Create?e?"Enter an amount":"Next Step":m===F.V.Leverage?ie?p.isLessThanOrEqualTo(0)?"Choose leverage":"View Summary":p.isLessThanOrEqualTo(0)?"Choose leverage":"Create & Leverage Position":void 0}()]})]})};function Qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tr=function(e){var t,r=e.creationStep,n=e.setCreationStep,i=e.positionPoolData,a=e.tokenA,s=e.tokenB,l=e.tokenToBorrow,d=e.leverage,m=void 0===d?p.q:d,v=e.hasAmount,f=o.useState(te.P0[0]),g=(0,u.Z)(f,2),x=g[0],h=g[1],b=(0,o.useState)(!1),C=b[0],j=b[1],w=(0,M.Z)().breakpoints,O=(0,T.Z)(w.up("md")),A=(0,y.U)(a),_=(0,y.U)(s),L=(0,Pt.B)().data,E=(0,jt.vR)(),P=E.gasLimit,B=E.txError,R=E.setTxError,S=E.mainTxState,N=E.type,U=E.createUniswapPosition,V=E.close,q=X({positionPoolData:i,baseCurrency:A,quoteCurrency:_}),H=q.invertPrice,Y=q.pricesAtTicks,G=q.outOfRange,W=q.formattedAmounts,z=H?i.invertedPoolPrice:i.poolPrice,$=Y[I.M.LOWER],J=Y[I.M.UPPER],K=(0,k.Z)(W[I.g.CURRENCY_A]||0).multipliedBy((0,k.Z)(10).pow((null===a||void 0===a?void 0:a.decimals)||0)),Q=(0,k.Z)(W[I.g.CURRENCY_B]||0).multipliedBy((0,k.Z)(10).pow((null===s||void 0===s?void 0:s.decimals)||0)),ee=Mt({amount:W[I.g.CURRENCY_A],token:a}),re=Mt({amount:W[I.g.CURRENCY_B],token:s}),ne=(0,k.Z)(ee).plus(re).toString(),oe=kt({feeAmount:i.feeAmount,baseCurrency:A,quoteCurrency:_,positionPoolData:i}),ie=(0,ht.T)({liquidityTokenA:null===oe||void 0===oe?void 0:oe.token0.liquidity,liquidityTokenB:null===oe||void 0===oe?void 0:oe.token1.liquidity,marketReferenceCurrencyValue:null===oe||void 0===oe?void 0:oe.marketReferenceCurrencyValue,priceInMarketReferenceCurrencyA:null===oe||void 0===oe?void 0:oe.token0.priceInMarketReferenceCurrency,priceInMarketReferenceCurrencyB:null===oe||void 0===oe?void 0:oe.token1.priceInMarketReferenceCurrency,leverage:m}),ae=Ut({tokenA:a,tokenB:s,amountA:K,amountB:Q,tokenToBorrow:l,leverage:m}),se=(0,k.Z)(ae).div((0,k.Z)(10).pow((null===l||void 0===l?void 0:l.decimals)||0)).multipliedBy((null===l||void 0===l?void 0:l.priceInUSD)||0),le=(0,k.Z)(100).multipliedBy(se).div(ie.totalAmountUsd||0),ue=(0,k.Z)(ie.totalAmountUsd||0).multipliedBy((null===oe||void 0===oe?void 0:oe.liquidationThreshold)||0).div(se),ce=(0,me.d)(Number(null===$||void 0===$?void 0:$.toSignificant(6))),de=(0,me.d)(Number(null===J||void 0===J?void 0:J.toSignificant(6))),pe=(0,Et.Z)(i,(0,k.Z)((null===oe||void 0===oe?void 0:oe.liquidity.toString())||0).multipliedBy(m)),ve=(0,k.Z)((null===oe||void 0===oe?void 0:oe.token0.netWorthUsd)||0).plus((null===oe||void 0===oe?void 0:oe.token1.netWorthUsd)||0),fe=G?0:pe.div(ve).multipliedBy(100).toNumber(),ge=null===(t=L.find((function(e){return e.marketName===Bt.Z4.Uniswap})))||void 0===t?void 0:t.revenueFee,xe=(0,k.Z)(ge||0).multipliedBy(m-1).div(m).div(1e4).multipliedBy((0,k.Z)(fe).div(100)).toNumber(),ye=(0,k.Z)((0,Lt.p)({amountToBorrow:ae,tokenToBorrow:l})).multipliedBy(m-1),he=(0,k.Z)(fe||0).minus(ye).minus(100*xe).toNumber(),be=(0,k.Z)(100).multipliedBy((null===oe||void 0===oe?void 0:oe.liquidationThreshold)||0),Ce=(0,k.Z)(100).multipliedBy((null===oe||void 0===oe?void 0:oe.liquidationBonus)||0).minus(100);return(0,o.useEffect)((function(){return U(),function(){R(void 0),V()}}),[]),(0,o.useEffect)((function(){j(O)}),[O]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(ft.Z,{sx:{backgroundColor:"rgba(0, 0, 0, 0.75)"},open:C&&!O}),(0,Z.jsx)(gt.Z,{sx:function(e){return{position:{xs:"fixed",md:"sticky"},top:{xs:"unset",md:"88px"},bottom:{xs:0,md:"unset"},height:"max-content",gridArea:"overview",border:"1px solid ".concat(e.palette.divider),borderRadius:{xs:"12px 12px 0 0",md:"12px"},overflow:"hidden",padding:{xs:4,md:6},ml:{xs:"-16px",md:"unset"},width:{xs:"100%",md:"unset"},boxShadow:{xs:"0px -5px 20px 0px rgba(0, 0, 0, 1)",md:"unset"}}},children:S.success&&N===jt.w8.CreatePosition?(0,Z.jsx)(wt.R,{action:"Leveraged position",redirectUrl:Zt.Z6.leverage,customText:"\n              You have opened\n              ".concat(null===oe||void 0===oe?void 0:oe.token0.symbol," / ").concat(null===oe||void 0===oe?void 0:oe.token1.symbol,"\n              position for $").concat(null===oe||void 0===oe?void 0:oe.marketReferenceCurrencyValue.toFixed(2),"\n            ")}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,Z.jsx)(D.Z,{variant:"main16",sx:{mb:2},children:"Transaction Overview"}),!O&&(0,Z.jsx)(c.Z,{onClick:function(){return j((function(e){return!e}))},children:(0,Z.jsx)(vt.Z,{sx:{width:"28px",height:"28px",transform:C?"rotate(180deg)":"none",color:function(e){return e.palette.text.secondary}}})})]}),(null===a||void 0===a?void 0:a.symbol)&&(null===s||void 0===s?void 0:s.symbol)&&Boolean(i.feeAmount||!i.marketWithFees)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(yt.m,er({symbolToken0:null===a||void 0===a?void 0:a.symbol,symbolToken1:null===s||void 0===s?void 0:s.symbol,estNetApr:he,estApr:fe,revenueFee:xe,borrowApy:Number(ye),leverage:m,outOfRange:G,sx:{mb:C?1:4}},ie)),r===F.V.Create&&C&&(0,Z.jsxs)(c.Z,{sx:function(e){return{py:3,px:4,border:"1px solid ".concat(e.palette.divider),borderRadius:"8px",mb:{xs:4,mb:6}}},children:[(0,Z.jsx)(bt.oD,{description:"Fee Tier",value:Number(i.feeAmount)/1e6,percent:!0}),(0,Z.jsx)(bt.oD,{description:"Price Range",numberPrefix:"".concat(ce," \u2194 ").concat(de)}),(0,Z.jsx)(bt.oD,{description:"Current Price",value:Number(z),postfix:"\xa0".concat(null===a||void 0===a?void 0:a.symbol," per ").concat(null===s||void 0===s?void 0:s.symbol),sx:{mb:0}})]}),r===F.V.Leverage&&N===jt.w8.CreatePosition&&C&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(St.d,{totalAmountUsd:ne,feeAmount:i.feeAmount,tokenA:a,tokenB:s,amountA:W[I.g.CURRENCY_A],amountB:W[I.g.CURRENCY_B],priceLower:ce,priceUpper:de,currentPrice:i.poolPrice.toFixed()}),(0,Z.jsx)(Rt.s,{tokenToBorrow:l,amountToBorrow:ae,healthFactor:ue,totalBorrowedUsd:se,borrowApy:ye,ltv:le,liquidationThreshold:be,liquidationPenalty:Ce}),(0,Z.jsxs)(c.Z,{sx:{mt:2,mb:6},children:[(0,Z.jsx)(Dt.X,{defaultOptions:te.P0,value:x,onChange:h,sx:{mt:3,mb:2}}),(0,Z.jsx)(Ct.g,{gasLimit:(0,xt.parseUnits)(P||"0","wei")})]})]}),B&&(0,Z.jsx)(Tt.Y,{variant:"error",txError:B,onClose:function(){return R(void 0)},sx:{mb:6}}),(0,Z.jsx)(Kt,{strategyMode:F.J.Manual,positionPoolData:i,tokenA:a,tokenB:s,amountToSupplyA:K,amountToSupplyB:Q,tokenToBorrow:l,amountToBorrow:ae,creationStep:r,setCreationStep:n,hasAmount:v,expanded:C,setExpanded:j,existViewSummaryStep:!O,slippage:(0,k.Z)(x).multipliedBy(100).toNumber()})]})]})})]})},rr=r(14918);function nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ir=function(e){var t=e.strategyName,r=e.strategyProviderName,n=e.creationStep,i=e.setCreationStep,a=e.positionPoolData,s=e.almPools,l=e.tokenA,d=e.tokenB,m=e.baseCurrency,v=e.quoteCurrency,f=e.tokenToBorrow,g=e.leverage,x=void 0===g?p.q:g,y=e.hasAmount,h=o.useState(te.P0[0]),b=(0,u.Z)(h,2),C=b[0],j=b[1],w=(0,o.useState)(!1),O=w[0],A=w[1],_=(0,M.Z)().breakpoints,L=(0,T.Z)(_.up("md")),E=(0,jt.vR)(),P=E.gasLimit,B=E.txError,R=E.setTxError,S=E.mainTxState,N=E.type,U=E.createUniswapPosition,V=E.close,q=ae({baseCurrency:m,quoteCurrency:v,tokenA:l,tokenB:d,almPools:s,strategyProviderName:r,strategyName:t}),H=q.formattedAmounts,Y=q.selectedVault,G=(0,rr.A)({strategyProvider:r,poolAddress:null===Y||void 0===Y?void 0:Y.address}).data,W=(0,k.Z)(H[I.g.CURRENCY_A]||0).multipliedBy((0,k.Z)(10).pow((null===l||void 0===l?void 0:l.decimals)||0)),z=(0,k.Z)(H[I.g.CURRENCY_B]||0).multipliedBy((0,k.Z)(10).pow((null===d||void 0===d?void 0:d.decimals)||0)),$=Mt({amount:H[I.g.CURRENCY_A],token:l}),J=Mt({amount:H[I.g.CURRENCY_B],token:d}),X=(0,k.Z)($).plus(J).toString(),K=kt({feeAmount:a.feeAmount,baseCurrency:m,quoteCurrency:v,positionPoolData:a}),Q=(0,ht.T)({liquidityTokenA:Number(H[I.g.CURRENCY_A]),liquidityTokenB:Number(H[I.g.CURRENCY_B]),marketReferenceCurrencyValue:$+J,priceInMarketReferenceCurrencyA:l.priceInUSD,priceInMarketReferenceCurrencyB:d.priceInUSD,leverage:x}),ee=Ut({tokenA:l,tokenB:d,amountA:W,amountB:z,tokenToBorrow:f,leverage:x}),re=(0,k.Z)(ee).div((0,k.Z)(10).pow((null===f||void 0===f?void 0:f.decimals)||0)).multipliedBy((null===f||void 0===f?void 0:f.priceInUSD)||0),ne=(0,k.Z)(100).multipliedBy(re).div(Q.totalAmountUsd||0),oe=(0,k.Z)(Q.totalAmountUsd||0).multipliedBy((null===K||void 0===K?void 0:K.liquidationThreshold)||0).div(re),ie=G.apr,se=(0,k.Z)((0,Lt.p)({amountToBorrow:ee,tokenToBorrow:f})).multipliedBy(x-1),le=(0,k.Z)((0,k.Z)(Q.totalAmountUsd).multipliedBy(ie).minus(re.multipliedBy(se))).div((0,k.Z)(Q.totalAmountUsd).minus(re)).toNumber(),ue=(0,k.Z)(100).multipliedBy((null===K||void 0===K?void 0:K.liquidationThreshold)||0),ce=(0,k.Z)(100).multipliedBy((null===K||void 0===K?void 0:K.liquidationBonus)||0).minus(100);return(0,o.useEffect)((function(){return U(),function(){R(void 0),V()}}),[]),(0,o.useEffect)((function(){A(L)}),[L]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(ft.Z,{sx:{backgroundColor:"rgba(0, 0, 0, 0.75)"},open:O&&!L}),(0,Z.jsx)(gt.Z,{sx:function(e){return{position:{xs:"fixed",md:"sticky"},top:{xs:"unset",md:"88px"},bottom:{xs:0,md:"unset"},height:"max-content",gridArea:"overview",border:"1px solid ".concat(e.palette.divider),borderRadius:{xs:"12px 12px 0 0",md:"12px"},overflow:"hidden",padding:{xs:4,md:6},ml:{xs:"-16px",md:"unset"},width:{xs:"100%",md:"unset"},boxShadow:{xs:"0px -5px 20px 0px rgba(0, 0, 0, 1)",md:"unset"}}},children:S.success&&N===jt.w8.CreatePosition?(0,Z.jsx)(wt.R,{action:"Leveraged position",redirectUrl:Zt.Z6.leverage,customText:"\n              You have opened\n              ".concat(null===K||void 0===K?void 0:K.token0.symbol," / ").concat(null===K||void 0===K?void 0:K.token1.symbol,"\n              position for $").concat(null===K||void 0===K?void 0:K.marketReferenceCurrencyValue.toFixed(2),"\n            ")}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,Z.jsx)(D.Z,{variant:"main16",sx:{mb:2},children:"Transaction Overview"}),!L&&(0,Z.jsx)(c.Z,{onClick:function(){return A((function(e){return!e}))},children:(0,Z.jsx)(vt.Z,{sx:{width:"28px",height:"28px",transform:O?"rotate(180deg)":"none",color:function(e){return e.palette.text.secondary}}})})]}),(0,Z.jsx)(yt.m,or({symbolToken0:null===l||void 0===l?void 0:l.symbol,symbolToken1:null===d||void 0===d?void 0:d.symbol,estNetApr:le,estApr:ie,borrowApy:Number(se),leverage:x,sx:{mb:O?1:4}},Q)),n===F.V.Create&&O&&(0,Z.jsx)(c.Z,{sx:function(e){return{py:3,px:4,border:"1px solid ".concat(e.palette.divider),borderRadius:"8px",mb:{xs:4,mb:6}}},children:(0,Z.jsx)(bt.oD,{description:"Current Price",value:a.poolPrice.toNumber(),postfix:"\xa0".concat(null===l||void 0===l?void 0:l.symbol," per ").concat(null===d||void 0===d?void 0:d.symbol),sx:{mb:0}})}),n===F.V.Leverage&&N===jt.w8.CreatePosition&&O&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(St.d,{totalAmountUsd:X,tokenA:l,tokenB:d,amountA:H[I.g.CURRENCY_A],amountB:H[I.g.CURRENCY_B],currentPrice:a.poolPrice.toFixed()}),(0,Z.jsx)(Rt.s,{tokenToBorrow:f,amountToBorrow:ee,healthFactor:oe,totalBorrowedUsd:re,borrowApy:se,ltv:ne,liquidationThreshold:ue,liquidationPenalty:ce}),(0,Z.jsxs)(c.Z,{sx:{mt:2,mb:6},children:[(0,Z.jsx)(Dt.X,{defaultOptions:te.P0,value:C,onChange:j,sx:{mt:3,mb:2}}),(0,Z.jsx)(Ct.g,{gasLimit:(0,xt.parseUnits)(P||"0","wei")})]})]}),B&&(0,Z.jsx)(Tt.Y,{variant:"error",txError:B,onClose:function(){return R(void 0)},sx:{mb:6}}),(0,Z.jsx)(Kt,{strategyMode:F.J.Automatic,positionPoolData:a,almPool:Y,tokenA:l,tokenB:d,amountToSupplyA:W,amountToSupplyB:z,tokenToBorrow:f,amountToBorrow:ee,creationStep:n,setCreationStep:i,hasAmount:y,expanded:O,setExpanded:A,existViewSummaryStep:!L,slippage:(0,k.Z)(C).multipliedBy(100).toNumber()})]})})]})},ar=function(e){var t=e.marketId,r=e.creationStep,n=e.setCreationStep,i=e.feeAmountFromUrl,a=e.currencyIdA,s=e.currencyIdB,l=(0,o.useState)(F.J.Manual),w=l[0],O=l[1],A=(0,o.useState)(!1),M=A[0],T=A[1],D=(0,o.useState)(p.q),U=D[0],I=D[1],V=o.useState(),q=(0,u.Z)(V,2),H=q[0],Y=q[1],G=o.useState(),W=(0,u.Z)(G,2),z=W[0],$=W[1],J=(0,o.useState)(),X=J[0],K=J[1],Q=(0,m.HT)(),ee=Q.reserves,te=Q.loading,re=(0,v.Z)(),ne=re.currentAccount,oe=re.loading,ie=(0,f.Q)().isWrongNetwork,ae=(0,j.EG)(),le=ae.onFieldAInput,ue=ae.onFieldBInput,de=(0,x.ye)({clMarketId:t,token0:a,token1:s}),pe=de.data,me=de.isLoading,ve=i&&Object.values(d.lk).includes(parseFloat(i))?Number(i):void 0,fe=(0,g.v)({reserves:ee,address:a}),ge=(0,g.v)({reserves:ee,address:s}),xe=(0,y.U)(fe),ye=(0,y.U)(ge),be=function(e){var t,r=e.marketId,n=e.baseCurrency,i=e.quoteCurrency,a=e.feeAmount,s=void 0===a?0:a,l=(0,E.Yh)((function(e){return e.getMarketDataById(r)})).marketName,u=(0,P.s)(l),c=u?s||d.lk.LOW:0,p=n&&i&&(null===n||void 0===n?void 0:n.wrapped.sortsBefore(null===i||void 0===i?void 0:i.wrapped)),m=(0,B.z)({marketId:r,token0:p?null===n||void 0===n?void 0:n.wrapped.address:null===i||void 0===i?void 0:i.wrapped.address,token1:p?null===i||void 0===i?void 0:i.wrapped.address:null===n||void 0===n?void 0:n.wrapped.address,feeAmount:c}),v=m.data,f=m.isLoading,g=v.address,x=v.liquidity,y=v.estimated_usd_fees_per_day,h=(0,R.b)(g,l),b=h.data,C=h.isLoading,j=(0,S.f)(g,l),w=j.data,Z=j.isLoading,O=w.tick,A=w.price,_=c?d.LX[c]:null===b||void 0===b?void 0:b[0],M=(0,N.AI)(n,i,c),T=(0,o.useMemo)((function(){var e;return O||(0,L.Y)({tickCurrent:null===(e=M[1])||void 0===e?void 0:e.tickCurrent,feeAmount:c})}),[M,c,O]),D=(0,k.Z)((null===A||void 0===A?void 0:A.toString())||(null===(t=M[1])||void 0===t?void 0:t.sqrtRatioX96.toString())||0),U=(0,k.Z)(D).multipliedBy(D).multipliedBy((0,k.Z)(10).pow((p?null===n||void 0===n?void 0:n.decimals:null===i||void 0===i?void 0:i.decimals)||0)).div((0,k.Z)(10).pow((p?null===i||void 0===i?void 0:i.decimals:null===n||void 0===n?void 0:n.decimals)||0)).div((0,k.Z)(2).pow(192)),I=U.isPositive()?(0,k.Z)(1).div(U):(0,k.Z)(0),V=f||!u&&C||!u&&Z;return n&&i&&r&&l&&g&&_&&U&&void 0!==T?{data:{feeAmount:c,marketId:r,marketName:l,address:g,liquidity:x,estimated_usd_fees_per_day:y,tickSpacing:_,activeTick:T,sqrtPriceX96:D,poolPrice:U,invertedPoolPrice:I,marketWithFees:u},isLoading:V}:{data:void 0,isLoading:V}}({marketId:t,baseCurrency:xe,quoteCurrency:ye,feeAmount:ve}),Ce=be.data,je=be.isLoading,we=(0,h.z)({positionPoolData:Ce,currencyA:xe,currencyB:ye}),Ze=we.largestUsageFeeTier,Oe=we.onFeePoolSelect,Ae=we.isError,_e=we.isLoading,ke=oe||te||_e||je||me||!ne||!Ce||!xe||!ye||!fe||!ge,Le=Boolean(ve||!(null!==Ce&&void 0!==Ce&&Ce.marketWithFees))&&!ie&&fe&&ge;return(0,o.useEffect)((function(){r===F.V.Create&&I(p.q)}),[r]),(0,o.useEffect)((function(){ve||ke||Ae||!Ze||null===Oe||void 0===Oe||Oe(Ze)}),[ve,Oe,Ze]),(0,o.useEffect)((function(){return function(){le(""),ue("")}}),[]),ke?(0,Z.jsx)(_,{}):(0,Z.jsxs)(c.Z,{sx:{display:{xs:"flex",md:"grid"},flexDirection:{xs:"column",md:"row"},gridTemplateAreas:{xs:"unset",md:'"switch overview" "main overview"'},gridTemplateRows:"44px auto",gridTemplateColumns:{xs:"unset",md:"600px 448px"},gap:"24px"},children:[(0,Z.jsx)(ce,{creationStep:r,setCreationStep:n,hasAmount:M}),(0,Z.jsx)(b.w,{sx:{mb:{xs:"272px",md:"unset"}},children:ie?(0,Z.jsx)(ut,{}):(0,Z.jsxs)(Z.Fragment,{children:[r===F.V.Create&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(C.Z,{title:"Select Pair",baseCurrency:xe,quoteCurrency:ye}),(0,Z.jsx)(mt,{value:w,onSelect:O,disabled:!pe.length})]}),r===F.V.Create&&w===F.J.Manual&&(0,Z.jsx)(he,{positionPoolData:Ce,tokenA:fe,tokenB:ge,baseCurrency:xe,quoteCurrency:ye,setAmount:T}),r===F.V.Create&&w===F.J.Automatic&&(0,Z.jsx)(it,{positionPoolData:Ce,almPools:pe,tokenA:fe,tokenB:ge,baseCurrency:xe,quoteCurrency:ye,setAmount:T,strategyProviderName:H,strategyName:z,setStrategyProviderName:Y,setStrategyName:$}),r===F.V.Leverage&&(0,Z.jsx)(se,{strategyMode:w,almPools:pe,positionPoolData:Ce,tokenA:fe,tokenB:ge,baseCurrency:xe,quoteCurrency:ye,leverage:U,setLeverage:I,tokenToBorrow:X,setTokenToBorrow:K,strategyProviderName:H,strategyName:z})]})}),Le&&w===F.J.Manual&&(0,Z.jsx)(tr,{creationStep:r,positionPoolData:Ce,tokenA:fe,tokenB:ge,tokenToBorrow:X,setCreationStep:n,leverage:U,hasAmount:M}),Le&&w===F.J.Automatic&&(0,Z.jsx)(ir,{creationStep:r,almPools:pe,strategyName:z,strategyProviderName:H,positionPoolData:Ce,tokenA:fe,tokenB:ge,baseCurrency:xe,quoteCurrency:ye,tokenToBorrow:X,setCreationStep:n,leverage:U,hasAmount:M})]})},sr=r(25389),lr=r(88175),ur=r(94233);function cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dr(){var e=(0,o.useState)(F.V.Create),t=e[0],r=e[1],a=(0,v.Z)(),u=a.currentAccount,c=a.loading,d=(0,lr.T)().isPermissionsLoading,p=(0,i.useRouter)(),m=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},p.query),f=m.marketId,g=m.fee,x=m.currencyIdA,y=m.currencyIdB,h=u&&p.isReady&&!d;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(l.T,{title:"Create & Leverage Position",creationStep:t,setCreationStep:r}),(0,Z.jsx)(s.O,{sx:h?{width:{xs:"100%",md:"max-content"},paddingBottom:{xs:0,md:"40px"}}:void 0,children:h?(0,Z.jsx)(ar,{marketId:Number(f),creationStep:t,setCreationStep:r,feeAmountFromUrl:g,currencyIdA:x,currencyIdB:y}):(0,Z.jsx)(ur.w,{loading:c})}),(0,Z.jsx)(sr.v,{})]})}dr.getLayout=function(e){return(0,Z.jsx)(a.Z,{children:e})}},26581:function(e,t,r){"use strict";r.d(t,{$:function(){return l}});var n=r(81088),o=r(67294),i=r(6731),a=r(37221),s=r(20154);var l=function(){var e=(0,n.useWeb3React)().chainId,t=function(){var e,t,r,n=(0,a.h$)(),l=null===(e=(0,s.Wk)(n,"getCurrentBlockTimestamp"))||void 0===e||null===(t=e.result)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.toString();return(0,o.useMemo)((function(){return"string"===typeof l?i.O$.from(l):void 0}),[l])}();return(0,o.useMemo)((function(){if(t)return t.add(3e4)}),[t,e])}},1036:function(e,t,r){"use strict";r.d(t,{t:function(){return B}});var n=r(59499),o=r(71383),i=r(70794),a=r(67294),s=r(37885),l=r(81719),u=r(61953),c=r(81138),d=r(72667),p=r(77537),m=r(96901),v=r(98260),f=[v.a_.BASE_GOERLI];var g,x=r(4730),y=r(95691),h=r(96486),b=r(85893),C=["value","onUserInput","placeholder","prependSymbol"];function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z=y.ZP.input(g||(g=(0,o.Z)(["\n  pointer-events: ",";\n  width: 100%;\n  color: white;\n  text-align: left;\n  position: relative;\n  font-weight: 485;\n  outline: none;\n  border: none;\n  flex: 1 1 auto;\n  background-color: transparent;\n  font-size: ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding: 0;\n  -webkit-appearance: textfield;\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  [type='number'] {\n    -moz-appearance: textfield;\n  }\n\n  ::-webkit-outer-spin-button,\n  ::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n\n  ::placeholder {\n    color: ",";\n  }\n"])),(function(e){return e.disabled?"none":"auto"}),(function(e){var t=e.fontSize;return null!==t&&void 0!==t?t:"28px"}),(function(e){return e.theme.neutral3})),O=RegExp("^\\d*(?:\\\\[.])?\\d*$"),A=(0,a.forwardRef)((function(e,t){var r=e.value,n=e.onUserInput,o=e.placeholder,i=e.prependSymbol,a=(0,x.Z)(e,C),s=function(e){(""===e||O.test((0,h.escapeRegExp)(e)))&&n(e)},l=r;return(0,b.jsx)(Z,w(w({},a),{},{ref:t,value:i&&r?i+l:l,onChange:function(e){if(i){var t=e.target.value,r=t.toString().includes(i)?t.toString().slice(i.length,t.toString().length+1):t;s(r.replace(/,/g,"."))}else s(e.target.value.replace(/,/g,"."))},inputMode:"decimal",autoComplete:"off",autoCorrect:"off",type:"text",pattern:"^[0-9]*[.,]?[0-9]*$",placeholder:o||"0",minLength:1,maxLength:79,spellCheck:"false"}))}));A.displayName="Input";var _,k=a.memo(A);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P=(0,l.ZP)(k)(_||(_=(0,o.Z)(["\n  font-size: 20px !important;\n  text-align: left;\n"]))),B=function(e){var t=e.value,r=e.onUserInput,n=e.onMax,o=e.currency,a=e.fiatValue,l=e.loading,g=void 0!==l&&l,x=e.disableErrors,y=e.iconSymbol,h=e.disabled,C=e.sx,j=(0,p.Z)(),w=j.chainId,Z=j.currentAccount,O=(0,m._h)(Z,null!==o&&void 0!==o?o:void 0),A=function(e,t){return t&&e&&e in t?t[e]:!!e&&-1!==v.Gw.indexOf(e)&&-1===f.indexOf(e)}(w),_=(0,i.Z)(t||0).isZero()||(0,i.Z)(t).isLessThanOrEqualTo((null===O||void 0===O?void 0:O.toFixed())||0);return(0,b.jsxs)(u.Z,{children:[(0,b.jsxs)(u.Z,{sx:E({display:"flex",flexDirection:"column",gap:2,py:3,px:4,borderRadius:2,border:_?"1px solid rgba(255, 255, 255, 0.06)":"1px solid #FF0548",backgroundColor:"#26262B"},C),children:[(0,b.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,b.jsx)(P,{className:"token-amount-input",value:t,onUserInput:r,disabled:!A||h,$loading:g}),(null===o||void 0===o?void 0:o.symbol)&&y&&(0,b.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[(0,b.jsx)(d.T1,{symbol:y,fontSize:"medium"}),(0,b.jsx)(c.Z,{variant:"main19",children:o.symbol})]})]}),(0,b.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,b.jsxs)(c.Z,{variant:"main13",color:"text.secondary",children:["$",a||0]}),(0,b.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"space-between",gap:1},children:[(0,b.jsxs)(c.Z,{variant:"main13",color:"text.secondary",children:["Wallet balance: ",null===O||void 0===O?void 0:O.toFixed(2)]}),n&&!h&&(0,b.jsx)(c.Z,{sx:{fontSize:"11px",fontWeight:"600",cursor:"pointer"},onClick:n,children:"MAX"})]})]})]}),!_&&!x&&(0,b.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center",gap:1,pt:1},children:[(0,b.jsx)(s.Z,{color:"error",sx:{width:"18px",height:"18px"}}),(0,b.jsx)(c.Z,{variant:"main13",sx:{color:"#FCB6C8"},children:"Insufficient funds to supply"})]})]})}},4710:function(e,t,r){"use strict";r.d(t,{O:function(){return Z}});var n=r(59499),o=r(50029),i=r(17674),a=r(87794),s=r.n(a),l=r(67294),u=r(61953),c=r(36667),d=r(70754),p=r(33896),m=r(87899),v=r(77537),f=r(72667),g=r(8195),x=r(39771),y=r(78934),h=r(82482),b=r(48321),C=r(85893);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z=function(e){var t=e.marketId,r=e.poolAddress,n=e.tokenA,o=e.tokenB,i=e.approvedAmountA,a=e.approvedAmountB,s=e.amountToSupplyA,l=e.amountToSupplyB,c=e.setApprovedAmountA,d=e.setApprovedAmountB,p=e.requiresApprovalA,m=e.requiresApprovalB,v=e.setRequiresApprovalA,f=e.setRequiresApprovalB,g=e.isIncreaseLiquidity;return(0,C.jsxs)(u.Z,{sx:{mb:6},children:[(0,C.jsx)(O,{marketId:t,poolAddress:r,token:n,approvedAmount:i,amountToSupply:s,setApprovedAmount:c,requiresApproval:p,setRequiresApproval:v,isIncreaseLiquidity:g}),(0,C.jsx)(O,{marketId:t,poolAddress:r,token:o,approvedAmount:a,amountToSupply:l,setApprovedAmount:d,requiresApproval:m,setRequiresApproval:f,isIncreaseLiquidity:g})]})},O=function(e){var t,r=e.marketId,a=e.poolAddress,j=e.token,Z=e.approvedAmount,O=e.amountToSupply,A=e.setApprovedAmount,_=e.requiresApproval,k=e.setRequiresApproval,L=e.isIncreaseLiquidity,E=(0,v.Z)().sendTx,P=(0,g.vR)(),B=P.setTxError,R=P.setMainTxState,S=P.mainTxState,N=(0,m.Yh)((function(e){return[e.getPoolApprovedAmount,e.generatePositionApproval,e.estimateGasLimit,e.currentMarketData]})),M=(0,i.Z)(N,4),T=M[0],D=M[1],U=M[2],I=M[3],V=(0,h.P)(I).walletBalances,F=(0,l.useCallback)(function(){var e=(0,o.Z)(s().mark((function e(t){var n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=2;break}return e.abrupt("return");case 2:if(!r||Z&&!t){e.next=7;break}return e.next=5,T({marketId:r,poolAddress:a,token:null===j||void 0===j?void 0:j.underlyingAsset,isIncreaseLiquidity:L});case 5:n=e.sent,A(n);case 7:Z&&(o=(0,b.iv)({approvedAmount:Z.amount,amount:(0,y.p)(O,j.decimals).toString(),signedAmount:"0"}),k(o));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Z,O.toString(),T]),q=function(){var e=(0,o.Z)(s().mark((function e(){var t,r,n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(_&&Z&&null!==j&&void 0!==j&&j.underlyingAsset)){e.next=15;break}return R(w(w({},S),{},{loading:!0,approvingToken:j.symbol})),t=V[null===j||void 0===j?void 0:j.underlyingAsset.toLowerCase()].amountWithDecimals,e.next=6,U(D(w(w({},Z),{},{amount:t||p.ke})));case 6:return r=e.sent,e.next=9,E(r);case 9:return n=e.sent,e.next=12,n.wait(1);case 12:return e.next=14,F(!0);case 14:R({loading:!1});case 15:e.next=22;break;case 17:e.prev=17,e.t0=e.catch(0),o=(0,x.WG)(e.t0,x.aD.GAS_ESTIMATION,!1),B(o),R({loading:!1});case 22:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),H=S.loading&&S.approvingToken===(null===j||void 0===j?void 0:j.symbol);return(0,l.useEffect)((function(){F()}),[F,null===j||void 0===j?void 0:j.symbol,O.toString()]),j?(0,C.jsxs)(u.Z,{sx:(t={display:"flex",justifyContent:"space-between",alignContent:"center",py:2,pl:4,pr:2,border:"1px solid rgba(255, 255, 255, 0.06)"},(0,n.Z)(t,"&:first-child",{borderRadius:"8px 8px 2px 2px",mb:1}),(0,n.Z)(t,"&:last-child",{borderRadius:"2px 2px 8px 8px"}),t),children:[(0,C.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,C.jsx)(f.T1,{symbol:j.iconSymbol,fontSize:"small"}),j.symbol]}),(0,C.jsx)(c.Z,{variant:"contained",disabled:!_||H,onClick:q,startIcon:H&&(0,C.jsx)(d.Z,{size:"16px"}),children:"Approve"})]}):null}},14918:function(e,t,r){"use strict";r.d(t,{A:function(){return L}});var n=r(59499),o=r(4730),i=r(73502),a=r(50029),s=r(87794),l=r.n(s),u=r(17e3),c=r(31001),d=r(46930),p=["data"];function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var v=function(){var e=(0,a.Z)(l().mark((function e(t){var r,n,o,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.vaultAddress,n=t.chainId,e.prev=1,o="https://api.steer.finance/pool/fee-apr?address=".concat(r,"&chain=").concat(n,"&interval=604800"),e.next=5,fetch(o);case 5:return i=e.sent,e.next=8,i.json();case 8:return a=e.sent,e.abrupt("return",a);case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),f={apr:0,vaultAddress:""},g=function(e){var t=e.vaultAddress,r=e.enabled,i=(0,d.f)().currentChainId,a=(0,u.a)({queryKey:[c.iP.STEER_POOL_APR,i,t],queryFn:function(){return v({chainId:i,vaultAddress:t})},select:function(e){return{vaultAddress:t||"",apr:(null===e||void 0===e?void 0:e.apr.apr)||0}},enabled:r&&Boolean(i&&t),refetchInterval:c.g_}),s=a.data,l=(0,o.Z)(a,p);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({data:s||f},l)},x=r(17674),y=r(70794),h=r(65216),b=["data"];function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var j=function(){var e=(0,a.Z)(l().mark((function e(){var t,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://wire2.gamma.xyz/quickswap/polygon/hypervisors/feeReturns/daily",e.next=4,fetch("https://wire2.gamma.xyz/quickswap/polygon/hypervisors/feeReturns/daily");case 4:return t=e.sent,e.next=7,t.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),w={apr:0,vaultAddress:""},Z=function(e){var t=e.vaultAddress,r=e.enabled,i=void 0===r||r,a=(0,d.f)().currentChainId,s=(0,u.a)({queryKey:[c.iP.GAMMA_POOL_APR,a,t],queryFn:j,select:function(e){var r,n=null===(r=Object.entries(e).find((function(e){var r=(0,x.Z)(e,1)[0];return(0,h.toChecksumAddress)(r)===(0,h.toChecksumAddress)(t||"")})))||void 0===r?void 0:r[1].feeApy;return{vaultAddress:t||"",apr:(0,y.Z)(n||0).multipliedBy(100).toNumber()}},enabled:i&&Boolean(a&&t),refetchInterval:c.g_}),l=s.data,p=(0,o.Z)(s,b);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({data:l||w},p)},O=["data"],A=["data"];function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L=function(e){var t=e.strategyProvider,r=e.poolAddress,n=g({vaultAddress:r,enabled:t===i.f6.Steer}),a=n.data,s=(0,o.Z)(n,O),l=Z({vaultAddress:r,enabled:t===i.f6.Gamma}),u=l.data,c=(0,o.Z)(l,A);switch(t){case i.f6.Steer:return k({data:a},s);case i.f6.Gamma:return k({data:u},c);default:return{data:{apr:0,vaultAddress:""},isLoading:!1}}}},539:function(e,t,r){"use strict";r.d(t,{T:function(){return i}});var n=r(67294),o=r(70794),i=function(e){var t=e.liquidityTokenA,r=void 0===t?0:t,i=e.liquidityTokenB,a=void 0===i?0:i,s=e.marketReferenceCurrencyValue,l=void 0===s?0:s,u=e.priceInMarketReferenceCurrencyA,c=void 0===u?0:u,d=e.priceInMarketReferenceCurrencyB,p=void 0===d?0:d,m=e.leverage,v=void 0===m?1:m;return(0,n.useMemo)((function(){var e=(0,o.Z)(l).multipliedBy(v),t=(0,o.Z)(r).multipliedBy(v),n=(0,o.Z)(a).multipliedBy(v),i=t.multipliedBy(c),s=n.multipliedBy(p);return{totalAmountUsd:e.toNumber(),amountToken0:t.toNumber(),amountToken1:n.toNumber(),amountUsdToken0:i.toNumber(),amountUsdToken1:s.toNumber()}}),[r,a,l,c,p,v])}},50623:function(e,t,r){"use strict";r.d(t,{l:function(){return x}});var n=r(59499),o=r(70794),i=r(67294),a=r(61953),s=r(81138),l=r(11288),u=r(91327),c=r(18081),d=r(24997),p=r(68861),m=r(81719),v=r(59248),f=(0,m.ZP)(v.ZP)((function(e){var t=e.theme;return{color:"#8061E5",height:2,padding:"15px 0","& .MuiSlider-thumb":{height:16,width:16,backgroundColor:"#7F61E3",border:"2px solid #FFF","&:focus, &:hover, &.Mui-active":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)","@media (hover: none)":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)"}}},"& .MuiSlider-valueLabel":{fontSize:12,fontWeight:"normal",top:-6,backgroundColor:"unset",color:t.palette.text.primary,"&:before":{display:"none"},"& *":{background:"transparent",color:"dark"===t.palette.mode?"#fff":"#000"}},"& .MuiSlider-track":{color:"#8061E5",border:"none"},"& .MuiSlider-rail":{backgroundColor:"#4F4F63"},"& .MuiSlider-mark":{backgroundColor:"#4F4F63",height:8,width:1,marginTop:"3px","&.MuiSlider-markActive":{opacity:1,backgroundColor:"currentColor"}}}})),g=r(85893),x=function(e){var t=e.tokenA,r=e.tokenB,m=e.amountA,v=e.amountB,x=e.tokenToBorrow,y=e.setTokenToBorrow,h=e.estNetApr,b=e.leverage,C=e.setLeverage,j=(0,i.useRef)(),w=function(e){var t=e.tokenA,r=e.tokenB,n=e.amountA,i=e.amountB,a=e.tokenToBorrow,s=(0,o.Z)(n||0).multipliedBy(t.priceInMarketReferenceCurrency).div((0,o.Z)(10).pow(l.$3)),c=(0,o.Z)(i||0).multipliedBy(r.priceInMarketReferenceCurrency).div((0,o.Z)(10).pow(l.$3)),d=s.plus(c),p=(0,o.Z)(t.availableLiquidityUSD),m=(0,o.Z)(r.availableLiquidityUSD),v=(0,o.Z)(t.baseLTVasCollateral).div(1e4),f=(0,o.Z)(r.baseLTVasCollateral).div(1e4),g=o.Z.min(v,f),x=(0,o.Z)(1).div((0,o.Z)(1).minus(g)).multipliedBy(.99),y=o.Z.min(x,p.div(d).plus(1)),h=o.Z.min(x,m.div(d).plus(1));return t.underlyingAsset===(null===a||void 0===a?void 0:a.underlyingAsset)?y:r.underlyingAsset===(null===a||void 0===a?void 0:a.underlyingAsset)?h:(0,o.Z)(u.q)}({tokenA:t,tokenB:r,amountA:m,amountB:v,tokenToBorrow:x}).decimalPlaces(2,o.Z.ROUND_DOWN).toNumber();(0,i.useEffect)((function(){b>w&&C(w)}),[w,b]);var Z=[{value:u.q,label:(0,g.jsxs)(a.Z,{sx:{ml:"16px"},children:[(0,g.jsx)(s.Z,{variant:"secondary14",children:"1x"}),(0,g.jsx)(s.Z,{variant:"secondary12",color:"text.secondary",children:"Min"})]})},{value:w,label:(0,g.jsxs)(a.Z,{sx:{ml:"-52px",textAlign:"right"},children:[(0,g.jsxs)(s.Z,{variant:"secondary14",children:[w,"x"]}),(0,g.jsx)(s.Z,{variant:"secondary12",color:"text.secondary",children:"Available"})]})}];return(0,g.jsxs)(a.Z,{sx:{pt:{xs:0,mb:5},mb:1},children:[(0,g.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,g.jsx)(s.Z,{sx:{mb:2},variant:"main16",color:"text.primary",children:"Asset to borrow"}),(0,g.jsx)(p.rU,{href:"https://ylbs.gitbook.io/ylbs/user-guide/how-to-leverage/how-to-choose-an-asset-for-leverage",target:"_blank",sx:(0,n.Z)({color:"#8061E5"},":hover",{color:"#a48eed"}),children:"How to choose?"})]}),(0,g.jsx)(a.Z,{sx:{mb:5},children:(0,g.jsxs)(c.t,{color:"primary",exclusive:!0,value:null===x||void 0===x?void 0:x.symbol,onChange:function(e,n){n===t.symbol&&(y(t),window.gtag("event","leverage-modal-asset-to-borrow",{asset:t.symbol})),n===r.symbol&&(y(r),window.gtag("event","leverage-modal-asset-to-borrow",{asset:r.symbol})),C(u.q)},sx:{width:"100%",height:"36px",borderRadius:"8px"},children:[(0,g.jsx)(d.C,{value:t.symbol,sx:{width:"50%",borderRadius:"6px !important"},children:t.symbol}),(0,g.jsx)(d.C,{value:r.symbol,sx:{width:"50%",borderRadius:"6px !important"},children:r.symbol})]})}),(0,g.jsx)(s.Z,{sx:{mb:2},variant:"main16",color:"text.primary",children:"Leverage"}),(0,g.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"end"},children:[(0,g.jsxs)(s.Z,{variant:"main16",children:[b,"x"]}),!!h&&(0,g.jsxs)(a.Z,{sx:{textAlign:"right"},children:[(0,g.jsx)(s.Z,{variant:"secondary13",color:"text.secondary",children:"Estimated Net APR"}),(0,g.jsxs)(s.Z,{variant:"main16",sx:{color:h>0?"#AFF113":void 0},children:[h.toFixed(2),"%"]})]})]}),(0,g.jsx)(f,{defaultValue:b,value:b,marks:Z,step:.01,min:1,max:w,onChange:function(e,t){var r=t>=w?w:t;C(r),j.current&&clearTimeout(j.current),j.current=setTimeout((function(){window.gtag("event","leverage_modal_change_leverage",{value:r})}),2e3)}})]})}},48321:function(e,t,r){"use strict";r.d(t,{pQ:function(){return i},Fi:function(){return a},iv:function(){return s},Vc:function(){return l},yI:function(){return u}});r(70794);var n,o=r(29946);!function(e){e[e.SUPPLY_CAP_REACHED=0]="SUPPLY_CAP_REACHED",e[e.HF_BELOW_ONE=1]="HF_BELOW_ONE",e[e.NOT_ENOUGH_COLLATERAL_TO_REPAY_WITH=2]="NOT_ENOUGH_COLLATERAL_TO_REPAY_WITH",e[e.ZERO_LTV_WITHDRAW_BLOCKED=3]="ZERO_LTV_WITHDRAW_BLOCKED"}(n||(n={}));var i=65e3,a=55e3,s=function(e){var t=e.approvedAmount,r=e.signedAmount,n=e.amount;return!("-1"===t||"0"!==t&&Number(t)>=Number(n)||Number(r)>=Number(n))},l=function(e){var t=[];return e.userReservesData.forEach((function(e){Number(e.scaledYTokenBalance)>0&&"0"===e.reserve.baseLTVasCollateral&&e.usageAsCollateralEnabledOnUser&&"0"!==e.reserve.reserveLiquidationThreshold&&t.push(e.reserve.symbol)})),t},u=function(e){if(!e.reserve.usageAsCollateralEnabled)return o.z.UNAVAILABLE;o.z.ENABLED;return e&&"0"!==e.scaledYTokenBalance?e.usageAsCollateralEnabledOnUser?o.z.ENABLED:o.z.DISABLED:o.z.ENABLED}},19447:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/leverage-add",function(){return r(13322)}])}},function(e){e.O(0,[3662,1066,6165,5278,626,729,1011,8873,2490,7529,1018,8403,5525,5691,284,4716,468,534,1878,1618,6158,7978,3062,6901,1543,9774,2888,179],(function(){return t=19447,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=leverage-add-b6729ad8076f2563.js.map