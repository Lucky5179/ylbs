(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5292],{79776:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return bt}});var n=r(49501),s=r(61953),o=r(81138),i=r(67294),a=r(34637),l=r(59379),c=r(88175),u=r(94233),d=r(15446),p=r(46158),b=r(77537),y=r(62097),x=r(61225),m=r(59499),v=r(33896),h=r(15060),j=r(11288),f=r(45884),g=r(99435),w=r(1475),C=r(69331),O=r(57646),S=r(41551),P=r(45556),k=r(71467),D=r(46930),A=r(4071),Z=r(59286),B=r(95700),T=r(77461),I=r(20736),N=r(26509),E=r(85893),M=function(e){var t=e.title,r=e.withTopMargin,n=e.head,s=(0,y.Z)(),i=(0,x.Z)(s.breakpoints.down("xsm"));return(0,E.jsx)(P.l,{titleComponent:(0,E.jsx)(o.Z,{component:"div",variant:"h3",sx:{mr:4},children:t}),withTopMargin:r,children:(0,E.jsxs)(E.Fragment,{children:[!i&&(0,E.jsx)(T.B,{head:n}),i?(0,E.jsx)(N.H,{}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(I.x,{head:n}),(0,E.jsx)(I.x,{head:n})]})]})})},R=r(36667),U=r(8195),F=r(41024),K=r(58771),L=r(81645),Y=r(4132),_=r(81902),z=function(e){var t=e.availableValue,r=e.isUSD,s=e.capType,o=r?"".concat(t,"$"):t,i=void 0;return t>0?i=s===_.R.supplyCap?(0,E.jsx)(n.cC,{id:"This asset has almost reached its supply cap. There can only be {messageValue} supplied to this market.",values:{messageValue:o}}):(0,E.jsx)(n.cC,{id:"This asset has almost reached its borrow cap. There is only {messageValue} available to be borrowed from this market.",values:{messageValue:o}}):t<=0&&(i=s===_.R.supplyCap?(0,E.jsx)(n.cC,{id:"This asset has reached its supply cap. Nothing is available to be supplied from this market."}):(0,E.jsx)(n.cC,{id:"This asset has reached its borrow cap. Nothing is available to be borrowed from this market."})),(0,E.jsx)(Y.a,{tooltipContent:(0,E.jsx)(E.Fragment,{children:i||""}),children:(0,E.jsx)(L.Z,{sx:{fontSize:"14px",color:"error.main"},children:(0,E.jsx)(K.Z,{})})})},W=function(e){var t=e.capType,r=e.capAmount,i=e.totalAmount,a=e.isUSD,l=e.withoutText,c=Number(r);if(c<=0)return null;var u=(0,h.hE)(i).dividedBy(c).toNumber(),d=(0,h.hE)(c).minus(i).multipliedBy("0.995").toNumber(),p=t===_.R.supplyCap?(0,E.jsx)(n.cC,{id:"Available to supply"}):(0,E.jsx)(n.cC,{id:"Available to borrow"});return u<.99?null:(0,E.jsxs)(s.Z,{sx:{display:"flex",alignItems:"center",ml:l?1:0},children:[(0,E.jsx)(z,{availableValue:d,isUSD:a,capType:t}),!l&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(o.Z,{variant:"tooltip",color:"text.secondary",children:p}),(0,E.jsx)(F.BK,{value:d>=0?d:0,compact:!0,symbol:a?"USD":void 0,variant:"tooltip"})]})]})},V=r(52906),q=function(e){var t=e.value,r=e.incentives,n=e.symbol,o=e.tooltip;return(0,E.jsx)(f.h,{children:(0,E.jsxs)(s.Z,{sx:{display:"flex"},children:[(0,E.jsx)(V.J,{value:t,incentives:r,symbol:n}),o]})})},H=r(4730),J=r(17575),X=r(99430),$=r(14249),Q=r(85642),G=r(32383),ee=r(72667),te=["symbol","iconSymbol","children","name","detailsAddress","currentMarket","frozen","borrowEnabled","showSupplyCapTooltips","showBorrowCapTooltips","showDebtCeilingTooltips"];function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){(0,m.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var se=function(e){var t,r=e.symbol,n=e.iconSymbol,i=e.children,a=e.name,l=(e.detailsAddress,e.currentMarket),c=e.frozen,u=e.borrowEnabled,d=void 0===u||u,p=e.showSupplyCapTooltips,b=void 0!==p&&p,y=e.showBorrowCapTooltips,x=void 0!==y&&y,m=(e.showDebtCeilingTooltips,(0,H.Z)(e,te)),v=(0,O.ov)(),h=v.supplyCap,j=v.borrowCap,g=null===(t=Q.U[l])||void 0===t?void 0:t[r],w=!c&&!d;return(0,E.jsxs)(G.H,ne(ne({},m),{},{children:[(0,E.jsxs)(f.h,{maxWidth:A.r.CELL,isRow:!0,children:[(0,E.jsx)(ee.T1,{symbol:n,fontSize:"large"}),(0,E.jsx)(J.Z,{title:(0,E.jsxs)(s.Z,{sx:{mb:2},children:[a," (",r,")"]}),placement:"top",arrow:!0,children:(0,E.jsx)(o.Z,{variant:"subheader1",sx:{ml:3},noWrap:!0,"data-cy":"assetName",children:r})}),g&&(0,E.jsx)($.H,{discussionLink:g}),w&&(0,E.jsx)(X.w,{symbol:r,currentMarket:l}),b&&h.displayMaxedTooltip({supplyCap:h}),x&&j.displayMaxedTooltip({borrowCap:j})]}),i]}))},oe=r(87925),ie=function(e){var t=e.symbol,r=e.iconSymbol,s=e.name,o=e.availableBorrows,i=e.availableBorrowsInUSD,a=e.borrowCap,l=e.totalBorrows,c=e.variableBorrowRate,u=e.vIncentivesData,d=e.underlyingAsset,p=e.isFreezed,b=(0,U.vR)().openBorrow,y=(0,D.f)().currentMarket,x=p||Number(o)<=0;return(0,E.jsxs)(se,{symbol:t,iconSymbol:r,name:s,detailsAddress:d,"data-cy":"dashboardBorrowListItem_".concat(t.toUpperCase()),currentMarket:y,children:[(0,E.jsx)(oe.k,{symbol:t,value:Number(o),subValue:Number(i),disabled:0===Number(o),capsComponent:(0,E.jsx)(W,{capType:_.R.borrowCap,capAmount:a,totalAmount:l,withoutText:!0})}),(0,E.jsx)(q,{value:Number(c),incentives:u,symbol:t}),(0,E.jsx)(B.T,{children:(0,E.jsx)(R.Z,{disabled:x,variant:"contained",onClick:function(){b(d,y,s,"dashboard"),window.gtag("event","lending_borrow_click",{place:"Assets to borrow"})},children:(0,E.jsx)(n.cC,{id:"Borrow"})})})]})},ae=r(92391),le=r(15880),ce=function(e){var t=e.title,r=e.capsComponent,n=e.value,o=e.subValue,i=e.disabled;return(0,E.jsx)(ae.X,{caption:t,captionVariant:"description",align:"flex-start",mb:2,children:(0,E.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,E.jsxs)(s.Z,{sx:{display:"flex",alignItems:"center",mb:.5},children:[(0,E.jsx)(F.BK,{value:n,variant:"secondary14",color:i?"text.disabled":"text.primary"}),r]}),!i&&(0,E.jsx)(F.BK,{value:o,variant:"secondary12",color:"text.secondary",symbol:"USD",mb:.5})]})})},ue=function(e){var t=e.symbol,r=e.iconSymbol,o=e.name,i=e.availableBorrows,a=e.availableBorrowsInUSD,l=e.borrowCap,c=e.totalBorrows,u=e.variableBorrowRate,d=e.vIncentivesData,p=e.underlyingAsset,b=e.isFreezed,y=(0,U.vR)().openBorrow,x=(0,D.f)().currentMarket,m=b||Number(i)<=0;return(0,E.jsxs)(le.o,{symbol:t,iconSymbol:r,name:o,underlyingAsset:p,currentMarket:x,children:[(0,E.jsx)(ce,{title:(0,E.jsx)(n.cC,{id:"Available"}),value:Number(i),subValue:Number(a),disabled:0===Number(i),capsComponent:(0,E.jsx)(W,{capType:_.R.borrowCap,capAmount:l,totalAmount:c,withoutText:!0})}),(0,E.jsx)(ae.X,{caption:(0,E.jsx)(n.cC,{id:"Borrow APY"}),align:"flex-start",captionVariant:"description",mb:2,children:(0,E.jsx)(V.J,{value:Number(u),incentives:d,symbol:t,variant:"secondary14"})}),(0,E.jsx)(s.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:5},children:(0,E.jsx)(R.Z,{disabled:m,variant:"contained",onClick:function(){return y(p,x,o,"dashboard")},fullWidth:!0,children:(0,E.jsx)(n.cC,{id:"Borrow"})})})]})};function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){(0,m.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var be=[{title:(0,E.jsx)(n.cC,{id:"Asset"}),sortKey:"symbol"},{title:(0,E.jsx)(n.cC,{id:"Available"},"availableBorrows"),sortKey:"availableBorrows"},{title:(0,E.jsx)(n.cC,{id:"APY"},"variableBorrowAPY"),sortKey:"variableBorrowAPY"}],ye=function(){var e=(0,D.f)().currentNetworkConfig,t=(0,k.HT)(),r=t.user,a=t.reserves,l=t.marketReferencePriceInUsd,c=t.loading,u=(0,y.Z)().breakpoints,d=(0,x.Z)(u.down("xsm")),p=(0,x.Z)(u.up("md")),b=(0,i.useState)(""),m=b[0],T=b[1],I=(0,i.useState)(!1),N=I[0],R=I[1],U=e.baseAssetSymbol,F=a.filter((function(e){return(0,Z.hF)(e)})).map((function(e){var t=r?Number((0,Z.nG)(e,r)):0,n=(0,h.hE)(t).multipliedBy(e.formattedPriceInMarketReferenceCurrency).multipliedBy(l).shiftedBy(-j.$3).toFixed(2);return pe(pe({},e),{},{reserve:e,totalBorrows:e.totalDebt,availableBorrows:t,availableBorrowsInUSD:n,variableBorrowRate:e.borrowingEnabled?Number(e.variableBorrowAPY):-1,iconSymbol:e.iconSymbol},e.isWrappedBaseAsset?(0,S.QD)({symbol:U,underlyingAsset:v.hP.toLowerCase()}):{})})),K=(0,h.hE)((null===r||void 0===r?void 0:r.totalBorrowsMarketReferenceCurrency)||"0").plus((null===r||void 0===r?void 0:r.availableBorrowsMarketReferenceCurrency)||"0"),L=K.eq(0)?"0":(0,h.hE)((null===r||void 0===r?void 0:r.totalBorrowsMarketReferenceCurrency)||"0").div(K).toFixed(),Y="0"===(null===r||void 0===r?void 0:r.totalCollateralMarketReferenceCurrency)||+L>=.98?F:F.filter((function(e){var t=e.availableBorrowsInUSD,r=e.totalLiquidityUSD;return"0.00"!==t&&"0"!==r})),_=(0,A.A)(N,m,"asset",Y),z=!_.length;return c?(0,E.jsx)(M,{title:(0,E.jsx)(n.cC,{id:"Assets to borrow"}),head:be.map((function(e){return e.title})),withTopMargin:!0}):(0,E.jsx)(P.l,{titleComponent:(0,E.jsx)(o.Z,{component:"div",variant:"h3",sx:{mr:4,mb:{xs:0,md:2}},children:(0,E.jsx)(n.cC,{id:"Assets to borrow"})}),localStorageName:"borrowAssetsDashboardTableCollapse",withTopMargin:!0,noData:z,hasCollapseButton:!p,subChildrenComponent:(0,E.jsx)(E.Fragment,{children:+L>=.98&&(0,E.jsx)(s.Z,{sx:{px:6,mb:4},children:(0,E.jsx)(C.v,{severity:"error",children:(0,E.jsx)(n.cC,{id:"Be careful - You are very close to liquidation. Consider depositing more collateral or paying down some of your borrowed positions"})})})}),children:(0,E.jsxs)(E.Fragment,{children:[!d&&!!Y.length&&(0,E.jsxs)(w.u,{children:[be.map((function(e){return(0,E.jsx)(f.h,{isRow:"symbol"===e.sortKey,maxWidth:"symbol"===e.sortKey?A.r.ASSET:void 0,children:(0,E.jsx)(g.M,{sortName:m,sortDesc:N,setSortName:T,setSortDesc:R,sortKey:e.sortKey,children:e.title})},e.sortKey)})),(0,E.jsx)(B.T,{isColumnHeader:!0})]}),null===_||void 0===_?void 0:_.map((function(e){return(0,E.jsx)(i.Fragment,{children:(0,E.jsx)(O.hv,{asset:e.reserve,children:d?(0,E.jsx)(ue,pe({},e)):(0,E.jsx)(ie,pe({},e))})},e.underlyingAsset)}))]})})},xe=r(26079),me=r(63206);function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){(0,m.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var je=function(e){var t=e.item,r=(0,O.ov)().borrowCap,n=(0,D.f)(),s=n.currentMarket,o=n.currentMarketData,i=(0,y.Z)(),a=(0,x.Z)(i.breakpoints.down("xsm")),l=(0,U.vR)(),c=l.openBorrow,u=l.openRepay,d=t.reserve,p=!d.isActive||!d.borrowingEnabled||d.isFrozen||d.isPaused||r.isMaxed,b=!d.isActive||d.isPaused,m=me.cr.debtSwitch(o)||!1,v=d.isPaused||!d.isActive||"stETH"==d.symbol,h=he(he({},t),{},{disableBorrow:p,disableSwitch:v,disableRepay:b,showSwitchButton:m,totalBorrows:t.variableBorrows,totalBorrowsUSD:t.variableBorrowsUSD,borrowAPY:Number(d.variableBorrowAPY),incentives:d.vIncentivesData,onOpenBorrow:function(){c(d.underlyingAsset,s,d.name,"dashboard")},onOpenRepay:function(){u(d.underlyingAsset,d.isFrozen,s,d.name,"dashboard")}});return a?(0,E.jsx)(ge,he({},h)):(0,E.jsx)(fe,he({},h))},fe=function(e){var t=e.reserve,r=e.disableRepay,s=e.totalBorrows,o=e.totalBorrowsUSD,i=e.borrowAPY,a=e.incentives,l=e.onOpenRepay,c=(0,D.f)().currentMarket,u=t.name;return(0,E.jsxs)(se,{symbol:t.symbol,iconSymbol:t.iconSymbol,name:u,detailsAddress:t.underlyingAsset,currentMarket:c,frozen:t.isFrozen,borrowEnabled:t.borrowingEnabled,"data-cy":"dashboardBorrowedListItem_".concat(t.symbol.toUpperCase()),showBorrowCapTooltips:!0,children:[(0,E.jsx)(oe.k,{symbol:t.symbol,value:s,subValue:o}),(0,E.jsx)(q,{value:i,incentives:a,symbol:t.symbol}),(0,E.jsx)(B.T,{children:(0,E.jsx)(R.Z,{disabled:r,variant:"contained",onClick:function(){l(),window.gtag("event","lending_repay_click")},children:(0,E.jsx)(n.cC,{id:"Repay"})})})]})},ge=function(e){var t=e.reserve,r=e.totalBorrows,o=e.totalBorrowsUSD,i=e.borrowAPY,a=e.incentives,l=e.disableRepay,c=e.onOpenRepay,u=(0,D.f)().currentMarket,d=t.symbol,p=t.iconSymbol,b=t.name;return(0,E.jsxs)(le.o,{symbol:d,iconSymbol:p,name:b,underlyingAsset:t.underlyingAsset,currentMarket:u,frozen:t.isFrozen,borrowEnabled:t.borrowingEnabled,showBorrowCapTooltips:!0,children:[(0,E.jsx)(ce,{title:(0,E.jsx)(n.cC,{id:"Debt"}),value:r,subValue:o,disabled:0===Number(r)}),(0,E.jsx)(ae.X,{caption:(0,E.jsx)(n.cC,{id:"APY"}),align:"flex-start",captionVariant:"description",mb:2,children:(0,E.jsx)(V.J,{value:i,incentives:a,symbol:d,variant:"secondary14"})}),(0,E.jsx)(s.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:5},children:(0,E.jsx)(R.Z,{disabled:l,variant:"contained",onClick:function(){c(),window.gtag("event","lending_repay_click")},fullWidth:!0,children:(0,E.jsx)(n.cC,{id:"Repay"})})})]})},we=function(e){var t=e.item;return(0,E.jsx)(O.hv,{asset:t.reserve,children:(0,E.jsx)(je,{item:t})})},Ce=r(82853);function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){(0,m.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Pe=[{title:(0,E.jsx)(n.cC,{id:"Asset"},"symbol"),sortKey:"symbol"},{title:(0,E.jsx)(n.cC,{id:"Debt"},"Debt"),sortKey:"variableBorrows"},{title:(0,E.jsx)(n.cC,{id:"APY"},"APY"),sortKey:"borrowAPY"}],ke=function(){var e=(0,k.HT)(),t=e.user,r=e.loading,a=(0,D.f)().currentNetworkConfig,l=(0,i.useState)(""),c=l[0],u=l[1],d=(0,i.useState)(!1),p=d[0],b=d[1],m=(0,y.Z)().breakpoints,j=(0,x.Z)(m.down("xsm")),C=(0,x.Z)(m.up("md")),O=(null===t||void 0===t?void 0:t.userReservesData.reduce((function(e,t){return"0"!==t.variableBorrows&&e.push(Se(Se({},t),{},{reserve:Se(Se({},t.reserve),t.reserve.isWrappedBaseAsset?(0,S.QD)({symbol:a.baseAssetSymbol,underlyingAsset:v.hP.toLowerCase()}):{})})),e}),[]))||[],Z=(0,h.hE)((null===t||void 0===t?void 0:t.totalBorrowsMarketReferenceCurrency)||"0").plus((null===t||void 0===t?void 0:t.availableBorrowsMarketReferenceCurrency)||"0"),T=Z.eq(0)?"0":(0,h.hE)((null===t||void 0===t?void 0:t.totalBorrowsMarketReferenceCurrency)||"0").div(Z).toFixed(),I=O,N=(0,A.A)(p,c,"position",I,!0),R=function(){return(0,E.jsxs)(w.u,{children:[Pe.map((function(e){return(0,E.jsx)(f.h,{isRow:"symbol"===e.sortKey,maxWidth:"symbol"===e.sortKey?A.r.ASSET:void 0,children:(0,E.jsx)(g.M,{sortName:c,sortDesc:p,setSortName:u,setSortDesc:b,sortKey:e.sortKey,children:e.title})},e.sortKey)})),(0,E.jsx)(B.T,{isColumnHeader:!0})]})};return r?(0,E.jsx)(M,{title:(0,E.jsx)(n.cC,{id:"Your borrows"}),head:Pe.map((function(e){return e.title}))}):(0,E.jsx)(P.l,{titleComponent:(0,E.jsx)(o.Z,{component:"div",variant:"h3",sx:{mr:4},children:(0,E.jsx)(n.cC,{id:"Your borrows"})}),localStorageName:"borrowedAssetsDashboardTableCollapse",noData:!N.length,hasCollapseButton:!C,subTitleComponent:(0,E.jsxs)(s.Z,{sx:{display:"flex",gap:6},children:[(0,E.jsx)(Ce.C,{caption:"Balance",value:(null===t||void 0===t?void 0:t.totalBorrowsUSD)||0,symbol:"USD"}),(0,E.jsx)(Ce.C,{caption:"APY",value:(null===t||void 0===t?void 0:t.debtAPY)||0,percent:!0}),(0,E.jsx)(Ce.C,{caption:"Borrow power used",value:T||0,percent:!0})]}),children:N.length?(0,E.jsxs)(E.Fragment,{children:[!j&&(0,E.jsx)(R,{}),N.map((function(e){return(0,E.jsx)(we,{item:e},e.underlyingAsset)}))]}):(0,E.jsx)(xe.N,{text:(0,E.jsx)(n.cC,{id:"Nothing borrowed yet"})})})},De=function(e){var t=e.reserve,r=e.underlyingBalance,o=e.underlyingBalanceUSD,i=e.underlyingAsset,a=(0,D.f)().currentMarket,l=(0,U.vR)().openWithdraw,c=t.symbol,u=t.iconSymbol,d=t.name,p=t.supplyAPY,b=t.aIncentivesData,y=t.isActive,x=t.isPaused,m=!y||x;return(0,E.jsxs)(le.o,{symbol:c,iconSymbol:u,name:d,underlyingAsset:i,currentMarket:a,frozen:t.isFrozen,showSupplyCapTooltips:!0,showDebtCeilingTooltips:!0,children:[(0,E.jsx)(ce,{title:(0,E.jsx)(n.cC,{id:"Supply balance"}),value:Number(r),subValue:Number(o),disabled:0===Number(r)}),(0,E.jsx)(ae.X,{caption:(0,E.jsx)(n.cC,{id:"Supply APY"}),align:"flex-start",captionVariant:"description",mb:2,children:(0,E.jsx)(V.J,{value:Number(p),incentives:b,symbol:c,variant:"secondary14"})}),(0,E.jsx)(s.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:5},children:(0,E.jsx)(R.Z,{variant:"contained",disabled:m,onClick:function(){return l(i)},fullWidth:!0,children:(0,E.jsx)(n.cC,{id:"Withdraw"})})})]})},Ae=r(90871),Ze=r(87899),Be=r(98924),Te=function(e){var t=e.tokenId,r=(0,y.Z)().breakpoints;return(0,x.Z)(r.up("md"))?(0,E.jsx)(B.T,{size:"small",children:(0,E.jsx)(Ie,{tokenId:t})}):(0,E.jsx)(Ie,{tokenId:t})},Ie=function(e){var t=e.tokenId,r=(0,U.vR)().openWithdrawPosition;return(0,E.jsx)(R.Z,{variant:"contained",onClick:function(){t&&r(t),window.gtag("event","lending_withdraw_click",{asset:"Uniswap position"})},children:(0,E.jsx)(n.cC,{id:"Withdraw"})})},Ne=r(57911),Ee=r(41764),Me=function(e){var t=e.reserve,r=e.underlyingBalance,s=e.underlyingBalanceUSD,o=e.usageAsCollateralEnabledOnUser,i=e.underlyingAsset,a=t.aIncentivesData,l=t.isActive,c=t.isPaused,u=(0,D.f)().currentMarket,d=(0,U.vR)().openWithdraw,p="0"!==t.reserveLiquidationThreshold,b=!l||c;return(0,E.jsxs)(se,{symbol:t.symbol,iconSymbol:t.iconSymbol,name:t.name,detailsAddress:i,currentMarket:u,frozen:t.isFrozen,"data-cy":"dashboardSuppliedListItem_".concat(t.symbol.toUpperCase(),"_").concat(p&&o?"Collateral":"NoCollateral"),showSupplyCapTooltips:!0,showDebtCeilingTooltips:!0,children:[(0,E.jsx)(oe.k,{symbol:t.iconSymbol,value:Number(r),subValue:Number(s),disabled:0===Number(r)}),(0,E.jsx)(q,{value:Number(t.supplyAPY),incentives:a,symbol:t.symbol}),(0,E.jsx)(B.T,{children:(0,E.jsx)(R.Z,{disabled:b,variant:"contained",onClick:function(){d(i),window.gtag("event","lending_withdraw_click",{asset:t.symbol})},children:(0,E.jsx)(n.cC,{id:"Withdraw"})})})]})};function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){(0,m.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fe=[{title:(0,E.jsx)(n.cC,{id:"Asset"}),sortKey:"symbol"},{title:(0,E.jsx)(n.cC,{id:"Balance"},"Balance"),sortKey:"underlyingBalance"},{title:(0,E.jsx)(n.cC,{id:"APY"},"APY"),sortKey:"supplyAPY"}],Ke=[{title:(0,E.jsx)(n.cC,{id:"Pool"}),sortKey:"pool"},{title:(0,E.jsx)(n.cC,{id:"Liquidity"},"Liquidity"),sortKey:"liquidity"},{title:(0,E.jsx)(n.cC,{id:"Fees Earned"},"feesEarned"),sortKey:"feesEarned"}],Le=function(){var e=(0,k.HT)(),t=e.user,r=e.loading,a=(0,D.f)().currentNetworkConfig,l=(0,y.Z)().breakpoints,c=(0,x.Z)(l.down("xsm")),u=(0,x.Z)(l.up("md")),d=(0,i.useState)(""),p=d[0],b=d[1],m=(0,i.useState)(!1),h=m[0],j=m[1],C=(0,i.useState)(P.L.Assets),Z=C[0],T=C[1],I=(0,Ee.y)().data,N=(0,Ze.Yh)((function(e){return(0,Be.Jc)(e,I)})),R=(null===t||void 0===t?void 0:t.userReservesData.filter((function(e){return"0"!==e.underlyingBalance})).map((function(e){return Ue(Ue({},e),{},{supplyAPY:e.reserve.supplyAPY,reserve:Ue(Ue({},e.reserve),e.reserve.isWrappedBaseAsset?(0,S.QD)({symbol:a.baseAssetSymbol,underlyingAsset:v.hP.toLowerCase()}):{})})})))||[],U=!!R.length||!!N.length,F=R,K=(0,A.A)(h,p,"position",F);return r?(0,E.jsx)(M,{title:(0,E.jsx)(n.cC,{id:"Your supplies"}),head:Fe.map((function(e){return e.title}))}):(0,E.jsxs)(P.l,{titleComponent:(0,E.jsx)(o.Z,{component:"div",variant:"h3",sx:{mr:4},children:(0,E.jsx)(n.cC,{id:"Your supplies"})}),localStorageName:"suppliedAssetsDashboardTableCollapse",noData:!U,displayMode:Z,onSwitchDisplayMode:T,hasCollapseButton:!u,subTitleComponent:(0,E.jsxs)(s.Z,{sx:{display:"flex",gap:6},children:[(0,E.jsx)(Ne.C,{caption:"Total Balance",value:(null===t||void 0===t?void 0:t.totalLiquidityUSD)||0,symbol:"USD"}),(0,E.jsx)(Ne.C,{caption:"Collateral",value:(null===t||void 0===t?void 0:t.totalCollateralUSD)||0,symbol:"USD"}),(0,E.jsx)(Ne.C,{caption:"Avg. APY",value:(null===t||void 0===t?void 0:t.earnedAPY)||0,percent:!0})]}),children:[Z===P.L.Assets&&(0,E.jsxs)(E.Fragment,{children:[!!K.length&&!c&&(0,E.jsxs)(w.u,{children:[Fe.map((function(e){return(0,E.jsx)(f.h,{isRow:"symbol"===e.sortKey,maxWidth:"symbol"===e.sortKey?A.r.ASSET:void 0,children:(0,E.jsx)(g.M,{sortName:p,sortDesc:h,setSortName:b,setSortDesc:j,sortKey:e.sortKey,children:e.title})},e.sortKey)})),(0,E.jsx)(B.T,{isColumnHeader:!0})]}),K.length?K.map((function(e){return(0,E.jsx)(i.Fragment,{children:(0,E.jsx)(O.hv,{asset:e.reserve,children:c?(0,E.jsx)(De,Ue({},e)):(0,E.jsx)(Me,Ue({},e))})},e.underlyingAsset)})):(0,E.jsx)(xe.N,{text:(0,E.jsx)(n.cC,{id:"Nothing supplied yet"})})]}),Z===P.L.Positions&&(0,E.jsx)(Ae.O,{head:Ke,positions:N,actions:function(e){return(0,E.jsx)(Te,{tokenId:e.tokenId})},columnsType:"lending"})]})},Ye=r(70794),_e=r(82482),ze=r(52064),We=function(e){var t=e.tokenId,r=(0,y.Z)().breakpoints;return(0,x.Z)(r.up("md"))?(0,E.jsx)(B.T,{size:"small",children:(0,E.jsx)(Ve,{tokenId:t})}):(0,E.jsx)(Ve,{tokenId:t})},Ve=function(e){var t=e.tokenId,r=(0,U.vR)().openSupplyPosition;return(0,E.jsx)(R.Z,{variant:"contained",onClick:function(){t&&r(t),window.gtag("event","lending_supply_click",{asset:"Uniswap position"})},children:(0,E.jsx)(n.cC,{id:"Supply"})})},qe=r(22841),He=r(54181),Je=function(e){var t=e.value,r=e.onClick,o=e.localStorageName;return(0,E.jsx)(s.Z,{sx:{display:"flex",alignItems:{xs:"flex-start",xsm:"center"},justifyContent:"space-between",flexDirection:{xs:"column-reverse",xsm:"row"},px:{xs:4,xsm:6},py:{xs:0,xsm:2},pl:{xs:"18px",xsm:"27px"},ml:{xs:1,md:0}},children:(0,E.jsx)(qe.Z,{control:(0,E.jsx)(He.Z,{sx:{p:"6px"}}),checked:t,onChange:function(){!function(e,t,r){e?(localStorage.setItem(r,"false"),t(!1)):(localStorage.setItem(r,"true"),t(!0))}(t,r,o)},label:(0,E.jsx)(n.cC,{id:"Hide zero balances"})})})},Xe=function(e){var t=e.symbol,r=e.iconSymbol,s=e.name,o=e.walletBalance,i=e.walletBalanceUSD,a=e.supplyCap,l=e.totalLiquidity,c=e.supplyAPY,u=e.aIncentivesData,d=e.underlyingAsset,p=e.isActive,b=e.isFreezed,y=e.detailsAddress,x=e.isPaused,m=(0,Ze.Yh)((function(e){return e.currentMarket})),v=(0,U.vR)().openSupply,h=(0,O.ov)().supplyCap.isMaxed,j=!p||x||b||Number(o)<=0||h;return(0,E.jsxs)(se,{symbol:t,iconSymbol:r,name:s,detailsAddress:y,"data-cy":"dashboardSupplyListItem_".concat(t.toUpperCase()),currentMarket:m,showDebtCeilingTooltips:!0,children:[(0,E.jsx)(oe.k,{symbol:t,value:Number(o),subValue:i,disabled:0===Number(o)||h,capsComponent:(0,E.jsx)(W,{capType:_.R.supplyCap,capAmount:a,totalAmount:l,withoutText:!0})}),(0,E.jsx)(q,{value:Number(c),incentives:u,symbol:t}),(0,E.jsx)(B.T,{children:(0,E.jsx)(R.Z,{disabled:j,variant:"contained",onClick:function(){v(d),window.gtag("event","lending_supply_click",{asset:t})},children:(0,E.jsx)(n.cC,{id:"Supply"})})})]})},$e=r(64343),Qe=r(14463),Ge=r(44749),et=function(e){var t=e.children;return(0,E.jsxs)(s.Z,{sx:{display:"flex",alignItems:{xs:"flex-end",xsm:"center"},justifyContent:"center",flexDirection:"column"},children:[t,(0,E.jsx)(Ge.Ch,{})]})},tt=function(e){var t=e.isIsolated,r=e.usageAsCollateralEnabled,n=function(){return r&&!t?(0,E.jsx)(L.Z,{sx:{color:"success.main",fontSize:{xs:"20px",xsm:"24px"}},children:(0,E.jsx)($e.Z,{})}):r&&t?null:(0,E.jsx)(Qe.J,{variant:"main14",color:"text.secondary"})};return(0,E.jsx)(s.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:t?(0,E.jsx)(et,{children:(0,E.jsx)(n,{})}):(0,E.jsx)(n,{})})},rt=function(e){var t=e.symbol,r=e.iconSymbol,o=e.name,i=e.walletBalance,a=e.walletBalanceUSD,l=e.supplyCap,c=e.totalLiquidity,u=e.supplyAPY,d=e.aIncentivesData,p=e.isIsolated,b=e.usageAsCollateralEnabledOnUser,y=e.isActive,x=e.isFreezed,m=e.underlyingAsset,v=e.isPaused,h=(0,D.f)().currentMarket,j=(0,U.vR)().openSupply,f=(0,O.ov)().supplyCap.isMaxed,g=!y||v||x||Number(i)<=0||f;return(0,E.jsxs)(le.o,{symbol:t,iconSymbol:r,name:o,underlyingAsset:m,currentMarket:h,showDebtCeilingTooltips:!0,children:[(0,E.jsx)(ce,{title:(0,E.jsx)(n.cC,{id:"Supply balance"}),value:Number(i),subValue:a,disabled:0===Number(i)||f,capsComponent:(0,E.jsx)(W,{capType:_.R.supplyCap,capAmount:l,totalAmount:c,withoutText:!0})}),(0,E.jsx)(ae.X,{caption:(0,E.jsx)(n.cC,{id:"Supply APY"}),align:"flex-start",captionVariant:"description",mb:2,children:(0,E.jsx)(V.J,{value:Number(u),incentives:d,symbol:t,variant:"secondary14"})}),(0,E.jsx)(ae.X,{caption:(0,E.jsx)(n.cC,{id:"Can be collateral"}),align:"flex-start",captionVariant:"description",mb:2,children:(0,E.jsx)(tt,{isIsolated:p,usageAsCollateralEnabled:b})}),(0,E.jsx)(s.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:5},children:(0,E.jsx)(R.Z,{variant:"contained",disabled:g,onClick:function(){return j(m)},fullWidth:!0,children:(0,E.jsx)(n.cC,{id:"Supply"})})})]})};function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(r),!0).forEach((function(t){(0,m.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ot=[{title:(0,E.jsx)(n.cC,{id:"Assets"},"assets"),sortKey:"symbol"},{title:(0,E.jsx)(n.cC,{id:"Balance"},"Wallet balance"),sortKey:"walletBalance"},{title:(0,E.jsx)(n.cC,{id:"APY"},"APY"),sortKey:"supplyAPY"}],it=[{title:(0,E.jsx)(n.cC,{id:"Pool"}),sortKey:"pool"},{title:(0,E.jsx)(n.cC,{id:"Liquidity"},"Liquidity"),sortKey:"liquidity"},{title:(0,E.jsx)(n.cC,{id:"Fees Earned"},"feesEarned"),sortKey:"feesEarned"}],at=function(){var e=(0,Ze.Yh)((function(e){return e.currentNetworkConfig})),t=(0,Ze.Yh)((function(e){return e.currentMarketData})),r=(0,y.Z)().breakpoints,s=(0,x.Z)(r.up("md")),a=(0,k.HT)(),l=a.reserves,c=a.marketReferencePriceInUsd,u=a.loading,d=(0,ze.q)(),p=d.data,b=d.isLoading,m=(0,Ze.Yh)((function(e){return(0,Be.Jc)(e,p)})).filter((function(e){return e.marketReferenceCurrencyValue>0})),C=(0,_e.P)(t),D=C.walletBalances,Z=C.loading,T=(0,y.Z)(),I=(0,x.Z)(T.breakpoints.down("xsm")),N=(0,i.useState)(""),R=N[0],U=N[1],F=(0,i.useState)(!1),K=F[0],L=F[1],Y=(0,i.useState)(P.L.Assets),_=Y[0],z=Y[1],W=e.bridge,V=e.baseAssetSymbol,q="showSupplyZeroAssets",H=(0,i.useState)("true"===localStorage.getItem(q)),J=H[0],X=H[1],$=l.filter((function(e){return!(e.isFrozen||e.isPaused)})).map((function(e){var t,r,n=null===(t=D[e.underlyingAsset])||void 0===t?void 0:t.amount,s=null===(r=D[e.underlyingAsset])||void 0===r?void 0:r.amountUSD,o=(0,h.hE)(n);"0"!==e.supplyCap&&(o=Ye.Z.min(o,new Ye.Z(e.supplyCap).minus(e.totalLiquidity).multipliedBy("0.995")));var i=(0,h.hE)(o).multipliedBy(e.priceInMarketReferenceCurrency).multipliedBy(c).shiftedBy(-j.$3).toString(),a="0"!==e.reserveLiquidationThreshold;if(e.isWrappedBaseAsset){var l,u,d,p=(0,h.hE)(null===(l=D[v.hP.toLowerCase()])||void 0===l?void 0:l.amount);"0"!==e.supplyCap&&(p=Ye.Z.min(p,new Ye.Z(e.supplyCap).minus(e.totalLiquidity).multipliedBy("0.995")));var b=(0,h.hE)(p).multipliedBy(e.priceInMarketReferenceCurrency).multipliedBy(c).shiftedBy(-j.$3).toString();return[st(st(st({},e),{},{reserve:e,underlyingAsset:v.hP.toLowerCase()},(0,S.QD)({symbol:V,underlyingAsset:v.hP.toLowerCase()})),{},{walletBalance:null===(u=D[v.hP.toLowerCase()])||void 0===u?void 0:u.amount,walletBalanceUSD:null===(d=D[v.hP.toLowerCase()])||void 0===d?void 0:d.amountUSD,availableToDeposit:p.toString(),availableToDepositUSD:b,usageAsCollateralEnabledOnUser:a,detailsAddress:e.underlyingAsset,id:e.id+"base"}),st(st({},e),{},{reserve:e,walletBalance:n,walletBalanceUSD:s,availableToDeposit:o.toNumber()<=0?"0":o.toString(),availableToDepositUSD:Number(i)<=0?"0":i.toString(),usageAsCollateralEnabledOnUser:a,detailsAddress:e.underlyingAsset})]}return st(st({},e),{},{reserve:e,walletBalance:n,walletBalanceUSD:s,availableToDeposit:o.toNumber()<=0?"0":o.toString(),availableToDepositUSD:Number(i)<=0?"0":i.toString(),usageAsCollateralEnabledOnUser:a,detailsAddress:e.underlyingAsset})})).flat(),Q=$.sort((function(e,t){return+e.walletBalanceUSD>+t.walletBalanceUSD?-1:1})),G=Q.filter((function(e){return"0"!==e.availableToDepositUSD})),ee=J&&G.length>=1?G:Q,te=(0,A.A)(K,R,"assets",ee),re=!$.length;return u||Z||b?(0,E.jsx)(M,{head:ot.map((function(e){return e.title})),title:(0,E.jsx)(n.cC,{id:"Assets to supply"}),withTopMargin:!0}):(0,E.jsxs)(P.l,{titleComponent:(0,E.jsx)(o.Z,{component:"div",variant:"h3",sx:{mr:4},children:(0,E.jsx)(n.cC,{id:"Assets to supply"})}),displayMode:_,onSwitchDisplayMode:z,hasCollapseButton:!s,localStorageName:"supplyAssetsDashboardTableCollapse",withTopMargin:!0,noData:re,subChildrenComponent:(0,E.jsx)(E.Fragment,{children:G.length>=1&&(0,E.jsx)(Je,{value:J,onClick:X,localStorageName:q,bridge:W})}),children:[_===P.L.Assets&&(0,E.jsxs)(E.Fragment,{children:[te.length&&!I&&!!te&&!re&&(0,E.jsxs)(w.u,{children:[ot.map((function(e){return(0,E.jsx)(f.h,{isRow:"symbol"===e.sortKey,maxWidth:"symbol"===e.sortKey?A.r.ASSET:void 0,overFlow:"visible",children:(0,E.jsx)(g.M,{sortName:R,sortDesc:K,setSortName:U,setSortDesc:L,sortKey:e.sortKey,children:e.title})},e.sortKey)})),(0,E.jsx)(B.T,{isColumnHeader:!0})]}),te.length?te.map((function(e){return(0,E.jsx)(i.Fragment,{children:(0,E.jsx)(O.hv,{asset:e.reserve,children:I?(0,i.createElement)(rt,st(st({},e),{},{key:e.id})):(0,i.createElement)(Xe,st(st({},e),{},{key:e.id}))})},e.underlyingAsset)})):(0,E.jsx)(xe.N,{text:(0,E.jsx)(n.cC,{id:"Nothing supplied yet"})})]}),_===P.L.Positions&&(0,E.jsx)(Ae.O,{head:it,positions:m,actions:function(e){return(0,E.jsx)(We,{tokenId:e.tokenId})},columnsType:"lending"})]})},lt=function(e){var t=e.isBorrow,r=(0,y.Z)().breakpoints,n=(0,x.Z)(r.up("lg")),o=n?"calc(50% - 8px)":"100%";return(0,E.jsx)(s.Z,{children:(0,E.jsxs)(s.Z,{sx:{display:n?"flex":"block",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,E.jsxs)(s.Z,{sx:{position:"relative",display:{xs:t?"none":"block",lg:"block"},width:o},children:[(0,E.jsx)(Le,{}),(0,E.jsx)(at,{})]}),(0,E.jsxs)(s.Z,{sx:{position:"relative",display:{xs:t?"block":"none",lg:"block"},width:o},children:[(0,E.jsx)(ke,{}),(0,E.jsx)(ye,{})]})]})})},ct=r(36336),ut=r(96875),dt=r(87369),pt=function(){var e=(0,k.HT)(),t=e.user,r=e.loading,i=(0,b.Z)().currentAccount,a=(0,y.Z)(),l=(0,x.Z)(a.breakpoints.down("sm")),c=l?"main16":"main21",u=l?"secondary16":"secondary21";return(0,E.jsx)(s.Z,{sx:{pt:{xs:8,md:12},pb:{xs:4,md:8}},children:(0,E.jsx)(ct.Z,{sx:{pb:0},children:(0,E.jsxs)(s.Z,{sx:{px:0},children:[(0,E.jsx)(o.Z,{variant:"h1",sx:{fontSize:{xs:"28px",md:"32px"}},children:"Lending"}),(0,E.jsxs)(s.Z,{sx:{display:"flex",alignItems:"flex-start",gap:8,flexWrap:"wrap",width:"100%",mt:4},children:[(0,E.jsx)(dt.d,{title:(0,E.jsx)(n.cC,{id:"Net worth"}),loading:r,hideIcon:!0,children:i?(0,E.jsx)(F.BK,{value:Number((null===t||void 0===t?void 0:t.netWorthUSD)||0),symbol:"USD",variant:c,visibleDecimals:2,compact:!0,symbolsColor:"#62677B",symbolsVariant:u}):(0,E.jsx)(Qe.J,{variant:u,sx:{opacity:"0.7"}})}),(0,E.jsx)(dt.d,{title:(0,E.jsx)("div",{style:{display:"flex"},children:(0,E.jsx)(n.cC,{id:"Net APY"})}),loading:r,hideIcon:!0,children:i&&Number(null===t||void 0===t?void 0:t.netWorthUSD)>0?(0,E.jsx)(F.BK,{value:t.netAPY,variant:c,visibleDecimals:2,percent:!0,symbolsColor:"#A5A8B6",symbolsVariant:u}):(0,E.jsx)(Qe.J,{variant:u,sx:{opacity:"0.7"}})}),i&&"-1"!==(null===t||void 0===t?void 0:t.healthFactor)&&(0,E.jsx)(dt.d,{title:(0,E.jsx)(s.Z,{sx:{display:"inline-flex",alignItems:"center"},children:(0,E.jsx)(n.cC,{id:"Health factor"})}),loading:r,hideIcon:!0,children:(0,E.jsx)(ut.o,{value:(null===t||void 0===t?void 0:t.healthFactor)||"-1",variant:c})})]})]})})})};function bt(){var e=(0,b.Z)(),t=e.currentAccount,r=e.loading,p=(0,c.T)().isPermissionsLoading,y=(0,i.useState)("supply"),x=y[0],m=y[1];return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(pt,{}),(0,E.jsxs)(d.O,{children:[t&&!p&&(0,E.jsx)(s.Z,{sx:{display:{xs:"flex",lg:"none"},justifyContent:{xs:"center",xsm:"flex-start"},mb:{xs:3,xsm:4}},children:(0,E.jsxs)(l.Z,{color:"primary",value:x,exclusive:!0,onChange:function(e,t){return m(t)},sx:{width:{xs:"100%",xsm:"359px"},height:"44px"},children:[(0,E.jsx)(a.Z,{value:"supply",disabled:"supply"===x,children:(0,E.jsx)(o.Z,{variant:"subheader1",children:(0,E.jsx)(n.cC,{id:"Supply"})})}),(0,E.jsx)(a.Z,{value:"borrow",disabled:"borrow"===x,children:(0,E.jsx)(o.Z,{variant:"subheader1",children:(0,E.jsx)(n.cC,{id:"Borrow"})})})]})}),t&&!p?(0,E.jsx)(lt,{isBorrow:"borrow"===x}):(0,E.jsx)(u.w,{loading:r})]})]})}bt.getLayout=function(e){return(0,E.jsx)(p.Z,{children:e})}},34637:function(e,t,r){"use strict";r.d(t,{Y:function(){return d},Z:function(){return p}});var n=r(59499),s=r(81719),o=r(87054),i=(r(67294),r(85893));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=(0,s.ZP)(o.Z)((function(e){var t=e.theme;return{border:"0px",flex:1,backgroundColor:"transparent",borderRadius:"6px !important","&.Mui-selected, &.Mui-selected:hover":{borderRadius:"6px !important"},"&.Mui-selected, &.Mui-disabled":{zIndex:100,height:"100%",display:"flex",justifyContent:"center",border:"none",".MuiTypography-subheader1":{color:t.palette.text.primary},".MuiTypography-secondary14":{color:t.palette.primary.contrastText}}}})),u=(0,s.ZP)(o.Z)((function(e){var t=e.theme;return{border:"0px",flex:1,color:t.palette.text.muted,borderRadius:"4px","&.Mui-selected, &.Mui-selected:hover":{border:"1px solid ".concat(t.palette.other.standardInputLine),backgroundColor:"#FFFFFF",borderRadius:"4px !important"},"&.Mui-selected, &.Mui-disabled":{zIndex:100,height:"100%",display:"flex",justifyContent:"center",color:t.palette.background.header}}}));function d(e){return(0,i.jsx)(u,l({},e))}function p(e){return(0,i.jsx)(c,l({},e))}},59379:function(e,t,r){"use strict";r.d(t,{f:function(){return d},Z:function(){return p}});var n=r(59499),s=r(81719),o=r(85390),i=r(85893);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=(0,s.ZP)(o.Z)((function(e){return{gap:"4px",backgroundColor:e.theme.palette.background.surface,border:"1px solid rgba(235, 235, 237, 0.12)",padding:"3px",borderRadius:"8px"}})),u=(0,s.ZP)(o.Z)((function(e){return{backgroundColor:e.theme.palette.background.header,padding:"2px",height:"36px",width:"100%"}}));function d(e){return(0,i.jsx)(u,l({},e))}function p(e){return(0,i.jsx)(c,l({},e))}},87369:function(e,t,r){"use strict";r.d(t,{d:function(){return c}});var n=r(62097),s=r(61225),o=r(61953),i=r(81138),a=r(91655),l=r(85893),c=function(e){var t=e.icon,r=e.title,c=e.titleIcon,u=e.children,d=e.hideIcon,p=(e.variant,e.withLine),b=e.loading,y=e.withoutIconWrapper,x=(0,n.Z)(),m=(0,s.Z)(x.breakpoints.up("sm"));return(0,l.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[p&&(0,l.jsx)(o.Z,{sx:{mr:8,my:"auto",width:"1px",bgcolor:"#F2F3F729",height:"37px"}}),!d&&(y?t&&t:(0,l.jsx)(o.Z,{sx:{display:{xs:"none",md:"flex"},alignItems:"center",justifyContent:"center",border:"1px solid #EBEBED1F",borderRadius:"12px",bgcolor:"#383D51",boxShadow:"0px 2px 1px rgba(0, 0, 0, 0.05), 0px 0px 1px rgba(0, 0, 0, 0.25)",width:42,height:42,mr:3},children:t&&t})),(0,l.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,l.jsxs)(o.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,l.jsx)(i.Z,{sx:{color:"#A5A8B6"},variant:m?"description":"caption",component:"div",children:r}),c&&c]}),b?(0,l.jsx)(a.Z,{width:60,height:m?28:24,sx:{mt:1}}):u]})]})}},81902:function(e,t,r){"use strict";var n;r.d(t,{R:function(){return n}}),function(e){e.supplyCap="supplyCap",e.borrowCap="borrowCap"}(n||(n={}))},52906:function(e,t,r){"use strict";r.d(t,{J:function(){return l}});var n=r(61953),s=r(41024),o=r(14463),i=r(12349),a=r(85893),l=function(e){var t=e.symbol,r=e.value,l=e.incentives,c=e.variant,u=void 0===c?"secondary14":c,d=e.symbolsVariant,p=e.align,b=e.color,y=e.tooltip;return(0,a.jsxs)(n.Z,{sx:{display:"flex",flexDirection:"column",alignItems:p||{xs:"flex-end",xsm:"center"},justifyContent:"center",textAlign:"center"},children:["-1"!==r.toString()?(0,a.jsxs)(n.Z,{sx:{display:"flex"},children:[(0,a.jsx)(s.BK,{"data-cy":"apy",value:r,percent:!0,variant:u,symbolsVariant:d,color:b,symbolsColor:b}),y]}):(0,a.jsx)(o.J,{variant:u,color:b||"text.secondary"}),(0,a.jsx)(i.M,{incentives:l,symbol:t})]})}},14463:function(e,t,r){"use strict";r.d(t,{J:function(){return l}});var n=r(59499),s=r(81138),o=(r(67294),r(85893));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(e){return(0,o.jsx)(s.Z,a(a({},e),{},{children:"\u2014"}))}},41764:function(e,t,r){"use strict";r.d(t,{y:function(){return g}});var n=r(59499),s=r(50029),o=r(4730),i=r(17674),a=r(87794),l=r.n(a),c=r(96486),u=r(17e3),d=r(65216),p=r(13613),b=r(87899),y=r(31001),x=r(49486),m=r(71467),v=["data"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=[],g=function(e){var t=(0,m.HT)(),r=t.user,n=t.loading,a=(0,p.z)().uiPositionService,h=(0,b.Yh)((function(e){return[e.currentChainId,e.isMarketsReady,e.getCurrentChainMarketData()]})),g=(0,i.Z)(h,3),w=g[0],C=g[1],O=g[2],S=r.userERC1155ReservesData,P=e||S.map((function(e){return e.tokenId})),k=(0,u.a)({queryKey:[y.iP.SUPPLIED_POSITIONS_DATA,w,P],queryFn:function(){var e=S.filter((function(e){return P.includes(e.tokenId)})).reduce((function(e,t){var r=function(e,t){return e.find((function(e){return e.addresses.positionWrapperAddress===(0,d.toChecksumAddress)(t)}))}(O,t.asset);if(r){var n=r.addresses.dataProviderAddress;e[n]?e[n].tokenIds.push(t.tokenId):e[n]={market:r,tokenIds:[t.tokenId]}}return e}),{}),t=(0,c.entries)(e).map((function(e){var t=(0,i.Z)(e,2),r=t[0],n=t[1],o=n.market,c=n.tokenIds,u=function(){var e=(0,s.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getPositionsData(w,r,c);case 2:return t=e.sent,e.abrupt("return",{market:o,marketResponse:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u()}));return Promise.all(t)},enabled:!n&&C,refetchInterval:y.g_,keepPreviousData:!0,select:function(e){return e.reduce((function(e,t){var r=t.market;return t.marketResponse.forEach((function(t){e.push(j(j({},t),{},{controlType:x.N3.ManualPosition,marketId:null===r||void 0===r?void 0:r.marketId,marketName:null===r||void 0===r?void 0:r.marketName,tokenId:t.tokenId.toNumber(),fee0:t.fee0.toString(),fee1:t.fee1.toString(),amount0:t.amount0.toString(),amount1:t.amount1.toString()}))})),e}),[])}}),D=k.data,A=(0,o.Z)(k,v);return j({data:D||f},A)}},59286:function(e,t,r){"use strict";r.d(t,{nG:function(){return a},hF:function(){return l}});var n=r(15060),s=r(70794),o=r(46547),i=r(87385);function a(e,t){var r=e.availableLiquidityUSD,a=s.Z.min(t.availableBorrowsUSD,r),l="0"===e.borrowCap?(0,n.hE)(o.Bz.toString()):(0,n.hE)(Number(e.borrowCap)).minus((0,n.hE)(e.totalDebt)),c=s.Z.max(s.Z.min(e.formattedAvailableLiquidity,l),0),u=(0,n.hE)((null===t||void 0===t?void 0:t.availableBorrowsMarketReferenceCurrency)||0).div(e.formattedPriceInMarketReferenceCurrency),d=s.Z.min(u,c),p=d.gte(u)||"0"!==t.totalBorrowsMarketReferenceCurrency&&a.lt(r)||a.eq(r)&&"0"!==e.totalDebt||e.borrowCapUSD&&"0"!==e.totalDebt&&a.gte(r)?d.multipliedBy("0.99"):d;return(0,i.$w)(p.toString(10),e.decimals)}function l(e){var t=e.borrowingEnabled,r=e.isActive,n=e.isFrozen,s=e.isPaused;return!(!t||!r||n||s)}},26309:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lending",function(){return r(79776)}])},64343:function(e,t,r){"use strict";var n=r(67294);const s=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"}))}));t.Z=s}},function(e){e.O(0,[3662,1066,6165,5278,626,729,1011,8873,2490,7529,1018,5525,4411,468,534,1878,7331,6158,7978,7593,762,2548,9774,2888,179],(function(){return t=26309,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=lending-ca9959bc7eaf3089.js.map