"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2548],{1611:function(e,t,n){var r,o,i=n(67294);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",s({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 1C11.13 1 8.13 2.58867 6.21 5.056C5.56712 4.95328 4.90961 4.99128 4.28285 5.16737C3.65608 5.34346 3.07499 5.65345 2.57967 6.07594C2.08436 6.49844 1.68661 7.02337 1.41388 7.61453C1.14116 8.20568 0.999947 8.84897 1 9.5C1 9.63261 1.05268 9.75978 1.14645 9.85355C1.24021 9.94732 1.36739 10 1.5 10H4.25467C4.76617 10.6482 5.35195 11.2342 6 11.746V14.5C6 14.6326 6.05268 14.7598 6.14645 14.8536C6.24022 14.9473 6.36739 15 6.5 15C7.15097 15 7.79419 14.8588 8.38529 14.5862C8.97639 14.3135 9.50129 13.9158 9.92377 13.4205C10.3463 12.9253 10.6563 12.3443 10.8324 11.7176C11.0085 11.0909 11.0466 10.4335 10.944 9.79067C13.4113 7.87 15 4.87067 15 1.5C15 1.36739 14.9473 1.24021 14.8536 1.14645C14.7598 1.05268 14.6326 1 14.5 1ZM8.93934 4.93934C9.22064 4.65804 9.60218 4.5 10 4.5C10.3978 4.5 10.7794 4.65804 11.0607 4.93934C11.342 5.22064 11.5 5.60218 11.5 6C11.5 6.39782 11.342 6.77936 11.0607 7.06066C10.7794 7.34196 10.3978 7.5 10 7.5C9.60218 7.5 9.22064 7.34196 8.93934 7.06066C8.65804 6.77936 8.5 6.39782 8.5 6C8.5 5.60218 8.65804 5.22064 8.93934 4.93934Z",fill:"#AFF113"})),o||(o=i.createElement("path",{d:"M3.63722 11.3497C3.6036 11.4061 3.55919 11.4554 3.50653 11.4947C2.89453 11.9513 2.49986 12.68 2.49986 13.5C2.88949 13.5004 3.2738 13.4095 3.62202 13.2347C3.97024 13.0599 4.27271 12.806 4.5052 12.4933C4.54401 12.4395 4.59314 12.394 4.64973 12.3594C4.70632 12.3247 4.76923 12.3017 4.8348 12.2917C4.90037 12.2816 4.96729 12.2847 5.03166 12.3007C5.09603 12.3168 5.15656 12.3455 5.20973 12.3851C5.2629 12.4248 5.30764 12.4747 5.34135 12.5318C5.37505 12.589 5.39705 12.6522 5.40606 12.718C5.41507 12.7837 5.41091 12.8505 5.39382 12.9147C5.37673 12.9788 5.34706 13.0388 5.30653 13.0913C4.92619 13.6029 4.41322 14.0006 3.82311 14.2417C3.233 14.4827 2.58822 14.5577 1.95853 14.4587C1.85371 14.4422 1.75685 14.3928 1.68194 14.3177C1.60704 14.2426 1.55798 14.1455 1.54186 14.0407C1.44276 13.411 1.5177 12.7663 1.75858 12.1762C1.99947 11.5861 2.39712 11.0731 2.90853 10.6927C2.96119 10.6534 3.02107 10.6249 3.08474 10.6088C3.14842 10.5926 3.21465 10.5892 3.27965 10.5987C3.34465 10.6082 3.40715 10.6303 3.46358 10.664C3.52001 10.6976 3.56926 10.742 3.60853 10.7947C3.64779 10.8473 3.6763 10.9072 3.69243 10.9709C3.70855 11.0346 3.71197 11.1008 3.7025 11.1658C3.69303 11.2308 3.67085 11.2933 3.63722 11.3497Z",fill:"#AFF113"})))}},68690:function(e,t,n){var r,o=n(67294);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}t.Z=function(e){return o.createElement("svg",i({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M13.7562 10H2.08954M2.08954 10L5.42287 13.3334M2.08954 10L5.42287 6.66669M6.24369 10L17.9104 10M17.9104 10L14.577 6.66669M17.9104 10L14.577 13.3334",stroke:"#4F4F63",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}},76478:function(e,t,n){n.d(t,{U:function(){return i}});var r=n(98260),o=n(46930);function i(e){var t=(0,o.f)().currentChainId;return e?new r.WU(t,e.underlyingAsset,e.decimals,e.symbol,e.name):void 0}},67365:function(e,t,n){n.d(t,{L:function(){return o}});var r=n(25525);function o(e,t,n){if(e&&t&&"number"===typeof n)return(0,r.zz)(e,t,n)}},82853:function(e,t,n){n.d(t,{C:function(){return c}});var r=n(62097),o=n(61225),i=n(61953),s=n(81138),a=(n(67294),n(41024)),l=n(85893),c=function(e){var t=e.caption,n=e.value,c=e.symbol,u=e.percent,d=(0,r.Z)().breakpoints,p=(0,o.Z)(d.up("md"));return(0,l.jsxs)(i.Z,{children:[(0,l.jsx)(s.Z,{variant:p?"secondary13":"secondary12",color:"text.secondary",children:t}),(0,l.jsx)(a.BK,{value:n,symbol:c,variant:p?"secondary15":"secondary14",percent:u,compact:!0})]})}},57911:function(e,t,n){n.d(t,{C:function(){return r.C}});var r=n(82853)},8534:function(e,t,n){n.d(t,{U:function(){return c}});var r=n(59499),o=n(18081),i=n(24997),s=n(85893);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){var t=e.isSorted,n=e.invertDisabled,a=e.onCurrencyToggle,c=e.baseCurrencySymbol,u=e.quoteCurrencySymbol,d=e.sx;return(0,s.jsxs)(o.t,{color:"primary",exclusive:!0,value:t,onChange:a,disabled:n,sx:l((0,r.Z)({height:"28px",flex:{xs:"1 1 auto",md:"unset"},width:{xs:"100%",md:"unset"},mb:{xs:1,md:"unset"},padding:"2px"},">button",{border:"none !important"}),d),children:[(0,s.jsx)(i.C,{size:"small",value:!0,children:t?c:u}),(0,s.jsx)(i.C,{size:"small",value:!1,children:t?u:c})]})}},90871:function(e,t,n){n.d(t,{O:function(){return Se}});var r=n(90116),o=n(59499),i=n(49501),s=n(67294),a=n(62097),l=n(61225),c=n(1475),u=n(45884),d=n(4071),p=n(99435),x=n(95700),m=n(49486),y=n(62330),v=n(26079),b=function(e,t){return"pool"===e?t.sort((function(e,t){var n="".concat(e.token0.symbol).concat(e.token1.symbol).toUpperCase(),r="".concat(t.token0.symbol).concat(t.token1.symbol).toUpperCase();return n.localeCompare(r)})):"type"===e?t.sort((function(e,t){return e.poolType?e.poolType.localeCompare(t.poolType||e.poolType):-1})):"liquidity"===e?t.sort((function(e,t){return e.marketReferenceCurrencyValue-t.marketReferenceCurrencyValue})):"maxLeverage"===e?t.sort((function(e,t){return e.maxLeverage-t.maxLeverage})):"maxApr"===e?t.sort((function(e,t){return(e.maxApr&&(e.positionInRange||e.type===m.Tw.Pool)?e.maxApr:0)-(t.maxApr&&(t.positionInRange||t.type===m.Tw.Pool)?t.maxApr:0)})):t},j=function(e,t){return"pool"===e?t.sort((function(e,t){var n="".concat(e.token0.symbol).concat(e.token1.symbol).toUpperCase();return"".concat(t.token0.symbol).concat(t.token1.symbol).toUpperCase().localeCompare(n)})):"type"===e?t.sort((function(e,t){return t.poolType?t.poolType.localeCompare(e.poolType||t.poolType):-1})):"liquidity"===e?t.sort((function(e,t){return t.marketReferenceCurrencyValue-e.marketReferenceCurrencyValue})):"maxLeverage"===e?t.sort((function(e,t){return t.maxLeverage-e.maxLeverage})):"maxApr"===e?t.sort((function(e,t){var n=e.maxApr&&(e.positionInRange||e.type===m.Tw.Pool)?e.maxApr:0;return(t.maxApr&&(t.positionInRange||t.type===m.Tw.Pool)?t.maxApr:0)-n})):t},f=n(4730),h=n(1611),g=n(23378),k=n(61953),C=n(44373),w=n(81138),P=n(75503),O=n(32383),Z=n(70794),A=n(17575),T=n(2802),N=n(85893),S=function(e){var t=e.label,n=e.value,r=e.postfix;return(0,N.jsxs)(k.Z,{sx:{display:"flex",justifyContent:"space-between",gap:4},children:[(0,N.jsx)(w.Z,{variant:"main14",color:"text.secondary",sx:{whiteSpace:"nowrap"},children:t}),(0,N.jsxs)(w.Z,{variant:"main14",noWrap:!0,children:[(0,T.d)(n)," ",r]})]})},D=function(e){var t=e.lowerPosition,n=e.upperPosition,r=e.currentPrice,o=e.symbolTokenA,i=e.symbolTokenB,s=r.isLessThan(t)||r.isGreaterThan(n),a=n.minus(t).div(70).multipliedBy(15),l=t.minus(a),c=n.plus(a),u=r.minus(l).div(c.minus(l)).decimalPlaces(2),d=u.isLessThan(0)?(0,Z.Z)(0):u.isGreaterThan(1)?(0,Z.Z)(100):u.multipliedBy(100);return(0,N.jsx)(k.Z,{sx:{py:"4px"},children:(0,N.jsx)(A.Z,{title:(0,N.jsxs)(k.Z,{sx:{display:"flex",flexDirection:"column",gap:1,pb:2},children:[(0,N.jsx)(S,{label:"Min Price",value:t,postfix:"".concat(o," per ").concat(i)}),(0,N.jsx)(S,{label:"Max Price",value:n,postfix:"".concat(o," per ").concat(i)}),(0,N.jsx)(S,{label:"Current Price",value:r,postfix:"".concat(o," per ").concat(i)})]}),placement:"bottom-end",arrow:!0,children:(0,N.jsx)(k.Z,{sx:{position:"relative",width:"100%",height:"6px",px:"15%",backgroundColor:"#2A2A32",border:"rgba(255, 255, 255, 0.08)",borderRadius:"2px"},children:r.isPositive()&&t.isPositive()&&n.isPositive()&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(k.Z,{sx:{width:"100%",height:"6px",backgroundColor:s?"#F01952":"#95CC16",borderRadius:"2px"}}),(0,N.jsx)(k.Z,{sx:{position:"absolute",left:"calc(".concat(d,"% - 2px)"),top:"-4px",width:"4px",height:"14px",borderRadius:"2px",backgroundColor:"#CCCCCC",border:"1px solid rgb(24, 24, 27)"}})]})})})})},L=n(5799),R=n(82153),E=["token0","token1","fee","children","details","lowerPosition","upperPosition","type","poolPrice","marketName","controlType","almMarketName","isManual","isAutomatic"];function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=function(e){var t=e.token0,n=e.token1,r=e.fee,o=e.children,i=e.details,a=e.lowerPosition,l=e.upperPosition,c=e.type,p=e.poolPrice,x=e.marketName,y=e.controlType,v=e.almMarketName,b=e.isManual,j=e.isAutomatic,h=(0,f.Z)(e,E),C=(0,s.useState)(!1),Z=C[0],A=C[1];return(0,N.jsxs)(O.H,I(I({},h),{},{sx:{flexDirection:"column"},children:[(0,N.jsxs)(k.Z,{sx:{display:"flex",height:"72px",width:"100%",alignItems:"center"},children:[(0,N.jsxs)(u.h,{maxWidth:d.r.POOL,minWidth:d.r.POOL,isRow:!0,children:[(0,N.jsx)(k.Z,{onClick:function(){c!==m.Tw.Pool&&A((function(e){return!e}))},children:(0,N.jsx)(P.Z,{sx:{width:"20px",ml:"-6px",mt:"4px",mr:"12px",transform:Z?"none":"rotate(270deg)",cursor:c===m.Tw.Pool?"default":"pointer",opacity:c===m.Tw.Pool?.4:1}})}),(0,N.jsx)(R.P,{iconSymbolTokenA:t.iconSymbol,iconSymbolTokenB:n.iconSymbol,marketName:x}),(0,N.jsxs)(k.Z,{sx:{ml:3,width:"100%"},children:[(0,N.jsxs)(k.Z,{sx:{display:"flex",marginBottom:"1px"},children:[(0,N.jsxs)(w.Z,{variant:"subheader1",noWrap:!0,children:[t.symbol,"/",n.symbol]}),Boolean(r)&&c!==m.Tw.Pool&&(0,N.jsxs)(w.Z,{variant:"main14",sx:{color:"#62677B",pl:"4px"},children:[r,"%"]})]}),c===m.Tw.Pool&&(0,N.jsxs)(k.Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:[j&&(0,N.jsx)(g.Z,{label:"ALM"}),b&&(0,N.jsx)(g.Z,{label:"Manual"})]}),y===m.N3.ManualPosition&&c!==m.Tw.Pool&&(0,N.jsx)(D,{lowerPosition:a,upperPosition:l,currentPrice:p,symbolTokenA:t.symbol,symbolTokenB:n.symbol}),y===m.N3.AlmPosition&&(0,N.jsx)(L.k,{almMarketName:v})]})]}),o]}),Z&&i]}))},F=n(87925),U=n(41024);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(e){var t=e.value,n=e.disabled,r=e.capsComponent;return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(k.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,N.jsx)(U.BK,{value:t,variant:"secondary14",sx:{mb:0},color:n?"text.disabled":"text.main",symbol:"USD"}),r]})})},_=function(e){var t=e.symbol,n=e.value,r=e.capsComponent,o=e.disabled,i=e.listColumnProps,s=void 0===i?{}:i;return(0,N.jsx)(u.h,W(W({},s),{},{children:(0,N.jsx)(K,{symbol:t,value:n,capsComponent:r,disabled:o})}))},H=function(e){var t=e.label,n=e.value;return(0,N.jsxs)(k.Z,{sx:{display:"flex",gap:.5},children:[(0,N.jsx)(w.Z,{variant:"main12",color:"#696986",children:t}),(0,N.jsx)(w.Z,{variant:"main12",color:"text.secondary",children:n})]})},z=n(72667),q=[{title:(0,N.jsx)(i.cC,{id:"Asset"},"symbol"),sortKey:"symbol"},{title:(0,N.jsx)(i.cC,{id:"Liquidity"},"liquidity"),sortKey:"variableBorrows"},{title:(0,N.jsx)(i.cC,{id:"Debt Value"},"debtValue"),sortKey:"debtValue",leveraged:!0},{title:(0,N.jsx)(i.cC,{id:"Fees Earned"},"feesEarned"),sortKey:"feesEarned"},{title:(0,N.jsx)(i.cC,{id:"Net Worth"},"netWorth"),sortKey:"netWorth",leveraged:!0}],Y=function(e){var t=e.debtAsset===e.token0.underlyingAsset?e.debt:0,n=e.debtAsset===e.token1.underlyingAsset?e.debt:0,r=e.debtAsset===e.token0.underlyingAsset?e.marketReferenceCurrencyDebt:0,o=e.debtAsset===e.token1.underlyingAsset?e.marketReferenceCurrencyDebt:0,i=e.marketReferenceCurrencyValue/(e.marketReferenceCurrencyValue-(e.marketReferenceCurrencyDebt||0)),s=e.type===m.Tw.LeveragedPosition;return(0,N.jsxs)(k.Z,{children:[(0,N.jsxs)(k.Z,{sx:{display:"flex",alignItems:"end",justifyContent:"space-between"},children:[(0,N.jsx)(w.Z,{variant:"h4",children:"Position Info"}),(0,N.jsx)(H,{label:"ID:",value:e.tokenId.toString()})]}),(0,N.jsxs)(k.Z,{sx:{my:2,borderRadius:3,border:"1px solid",borderColor:"divider"},children:[(0,N.jsx)(c.u,{sx:{backgroundColor:"transparent",borderTop:"none"},children:q.filter((function(e){return s||!s&&!e.leveraged})).map((function(e){return(0,N.jsx)(u.h,{isRow:"symbol"===e.sortKey,maxWidth:"symbol"===e.sortKey?d.r.ASSET:void 0,children:(0,N.jsx)(p.M,{children:e.title})},e.sortKey)}))}),(0,N.jsxs)(O.H,{children:[(0,N.jsxs)(u.h,{maxWidth:d.r.CELL,isRow:!0,children:[(0,N.jsx)(z.T1,{symbol:e.token0.iconSymbol,fontSize:"large"}),(0,N.jsx)(w.Z,{variant:"subheader1",sx:{ml:3},noWrap:!0,"data-cy":"assetName",children:e.token0.symbol})]}),(0,N.jsx)(F.k,{value:e.token0.liquidity,subValue:e.token0.marketReferenceCurrencyValue,symbol:e.token0.iconSymbol}),s&&(0,N.jsx)(F.k,{value:t||0,subValue:r||0,symbol:e.token0.iconSymbol}),(0,N.jsx)(F.k,{value:e.token0.fee,subValue:e.token0.marketReferenceCurrencyFee,symbol:e.token0.iconSymbol}),s&&(0,N.jsx)(F.k,{value:e.token0.netWorth,subValue:e.token0.netWorthUsd,symbol:e.token0.iconSymbol})]}),(0,N.jsxs)(O.H,{children:[(0,N.jsxs)(u.h,{maxWidth:d.r.CELL,isRow:!0,children:[(0,N.jsx)(z.T1,{symbol:e.token1.iconSymbol,fontSize:"large"}),(0,N.jsx)(w.Z,{variant:"subheader1",sx:{ml:3},noWrap:!0,"data-cy":"assetName",children:e.token1.symbol})]}),(0,N.jsx)(F.k,{value:e.token1.liquidity,subValue:e.token1.marketReferenceCurrencyValue,symbol:e.token1.iconSymbol}),s&&(0,N.jsx)(F.k,{value:n||0,subValue:o||0,symbol:e.token1.iconSymbol}),(0,N.jsx)(F.k,{value:e.token1.fee,subValue:e.token1.marketReferenceCurrencyFee,symbol:e.token1.iconSymbol}),s&&(0,N.jsx)(F.k,{value:e.token1.netWorth,subValue:e.token1.netWorthUsd,symbol:e.token1.iconSymbol})]})]}),s&&(0,N.jsx)(H,{label:"Current Leverage:",value:i.toFixed(2)})]})},G=n(68690),X=n(8534),Q=n(76478),J=n(18528),$=n(71467),ee=n(67365),te=function(e){var t,n,r,o,i=e.poolPrice,a=e.invertedPoolPrice,l=e.token0,c=e.token1,u=e.tickLower,d=e.tickUpper,p=(0,s.useState)(),x=p[0],m=p[1],y=(0,$.HT)().reserves,v=(0,Q.U)(null===x||void 0===x?void 0:x.tokenA),b=(0,Q.U)(null===x||void 0===x?void 0:x.tokenB),j=v&&b&&(null===v||void 0===v?void 0:v.wrapped.sortsBefore(null===b||void 0===b?void 0:b.wrapped)),f=(0,ee.L)(null===v||void 0===v?void 0:v.wrapped,null===b||void 0===b?void 0:b.wrapped,j?u:d),h=(0,ee.L)(null===v||void 0===v?void 0:v.wrapped,null===b||void 0===b?void 0:b.wrapped,j?d:u),g=j?i:a,C=(0,s.useCallback)((function(){m({tokenA:null===x||void 0===x?void 0:x.tokenB,tokenB:null===x||void 0===x?void 0:x.tokenA})}),[x]);return(0,s.useEffect)((function(){var e=(0,J.v)({reserves:y,address:l.underlyingAsset}),t=(0,J.v)({reserves:y,address:c.underlyingAsset});m({tokenA:e,tokenB:t})}),[l.underlyingAsset,c.underlyingAsset]),(0,N.jsxs)(k.Z,{children:[(0,N.jsxs)(k.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,N.jsxs)(k.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,N.jsx)(w.Z,{variant:"h4",children:"Price Range"}),(0,N.jsx)(H,{label:"Current Price:",value:(0,T.d)(g)})]}),(0,N.jsx)(X.U,{baseCurrencySymbol:j?l.symbol:c.symbol,quoteCurrencySymbol:j?c.symbol:l.symbol,isSorted:j,onCurrencyToggle:C})]}),(0,N.jsxs)(k.Z,{sx:{display:"flex",gap:3,my:2},children:[(0,N.jsx)(ne,{title:"Min Price:",value:(0,T.d)(null===f||void 0===f?void 0:f.toFixed(12)),description:"".concat(null===x||void 0===x||null===(t=x.tokenA)||void 0===t?void 0:t.symbol," per ").concat(null===x||void 0===x||null===(n=x.tokenB)||void 0===n?void 0:n.symbol)}),(0,N.jsx)(G.Z,{}),(0,N.jsx)(ne,{title:"Max Price:",value:(0,T.d)(null===h||void 0===h?void 0:h.toFixed(12)),description:"".concat(null===x||void 0===x||null===(r=x.tokenA)||void 0===r?void 0:r.symbol," per ").concat(null===x||void 0===x||null===(o=x.tokenB)||void 0===o?void 0:o.symbol)})]})]})},ne=function(e){var t=e.title,n=e.value,r=e.description;return(0,N.jsxs)(k.Z,{sx:{px:4,py:3,display:"flex",flexDirection:"column",gap:1,alignItems:"center",justifyContent:"center",flex:"1 1 auto",borderRadius:3,border:"1px solid",borderColor:"divider"},children:[(0,N.jsx)(w.Z,{variant:"main13",color:"text.secondary",children:t}),(0,N.jsx)(w.Z,{sx:{fontSize:"15px",fontWeight:"700"},children:n}),(0,N.jsx)(w.Z,{variant:"main12",color:"text.tertiary",children:r})]})};function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=function(e){return(0,s.useEffect)((function(){"lending"===e.columnsType&&window.gtag("event","lending_position_unfold"),"leverage"===e.columnsType&&window.gtag("event","leverage_position_unfold"),"leveraged"===e.columnsType&&window.gtag("event","leveraged_position_unfold")}),[]),(0,N.jsxs)(k.Z,{sx:{display:"flex",flexDirection:"column",gap:4,p:6,width:"calc(100% + 48px)",backgroundColor:"#1F1F23"},children:[(0,N.jsx)(Y,oe({},e)),e.controlType===m.N3.ManualPosition&&(0,N.jsx)(te,oe({},e))]})},se=n(46398),ae=n(34275),le=n(21878),ce=n(70253),ue=["position","columnsType","setEstNetAprHandler"];function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=function(e){var t,n=e.position,r=e.columnsType,o=e.setEstNetAprHandler,i=(0,f.Z)(e,ue),a=null===(t=se.sS.find((function(e){return e.value===n.poolType})))||void 0===t?void 0:t.label,l=(0,ae.v)({marketId:n.marketId,positions:n.positionAddress?[n.positionAddress]:void 0}).data,c=null===l||void 0===l?void 0:l.compounds[0].initialized,d=null===l||void 0===l?void 0:l.compounds[0].maxTotalFeePercent.div(100).toNumber(),p=(0,ce.o)({position:n,autoCompoundInitialized:c,autoCompoundValue:d}),x=p.estApr,y=p.estNetApr,v=p.borrowApy,b=p.revenueFee,j=p.netWorthUsd,w=p.isLoading;(0,s.useEffect)((function(){null===o||void 0===o||o({tokenId:n.tokenId,estNetApr:y,isLoading:w})}),[n.tokenId,y,w]);var P=n.type!==m.Tw.Pool&&w;return(0,N.jsxs)(M,pe(pe({},n),{},{details:(0,N.jsx)(ie,pe(pe({},n),{},{columnsType:r,notLeveraged:!0})),children:["leverage"===r&&(0,N.jsx)(u.h,{children:a&&(0,N.jsx)(g.Z,{label:a})}),(0,N.jsx)(_,{value:n.marketReferenceCurrencyValue,disabled:!n.marketReferenceCurrencyValue}),"lending"===r&&(0,N.jsx)(_,{value:n.token0.marketReferenceCurrencyFee+n.token1.marketReferenceCurrencyFee}),"leverage"===r&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(F.k,{value:y,percent:!0,disabled:y<=0,loading:P,color:"text.brand",capsComponent:y>0?(0,N.jsx)(k.Z,{sx:{ml:1,mb:"-3px"},children:(0,N.jsx)(h.Z,{})}):void 0}),(0,N.jsx)(F.k,{value:n.maxLeverage})]}),"leveraged"===r&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(_,{value:n.marketReferenceCurrencyDebt||0}),(0,N.jsx)(_,{value:n.token0.marketReferenceCurrencyFee+n.token1.marketReferenceCurrencyFee}),(0,N.jsx)(_,{value:j}),(0,N.jsx)(F.k,{value:y,color:y>=0?y>0?"text.brand":void 0:"error.dark",underline:!0,loading:P,percent:!0,tooltip:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(le.oD,{description:"Estimated APR",value:x,percent:!0}),(0,N.jsx)(le.oD,{description:"Total Borrow APY",value:v?"-".concat(v):0,percent:!0}),(0,N.jsx)(le.oD,{description:"Protocol Fee",value:b?"-".concat(b):0,percent:!0}),(0,N.jsx)(C.Z,{sx:{mb:1.5}}),(0,N.jsx)(le.oD,{description:"Estimated Net APR",value:y,percent:!0})]})}),(0,N.jsx)(F.k,{value:n.healthFactor||0})]}),i.actions({position:n,tokenId:n.tokenId.toString(),positionAddress:n.positionAddress,isEmptyPosition:n.type===m.Tw.Pool,uniswapLink:n.uniswapLink})]}))},me=["position","columnsType","setEstNetAprHandler"];function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=function(e){var t,n=e.position,r=e.columnsType,o=e.setEstNetAprHandler,i=(0,f.Z)(e,me),a=(0,ce.o)({position:n}),l=a.estApr,c=a.estNetApr,d=a.borrowApy,p=a.netWorthUsd,x=a.isLoading;(0,s.useEffect)((function(){null===o||void 0===o||o({tokenId:n.tokenId,estNetApr:c,isLoading:x})}),[n.tokenId,c,x]);var y=n.type!==m.Tw.Pool&&x;return(0,N.jsxs)(M,ve(ve({},n),{},{marketName:n.marketName,almMarketName:null===(t=n.almMarket)||void 0===t?void 0:t.marketName,details:(0,N.jsx)(ie,ve(ve({},n),{},{columnsType:r,notLeveraged:!0})),children:[(0,N.jsx)(_,{value:n.marketReferenceCurrencyValue,disabled:!n.marketReferenceCurrencyValue}),(0,N.jsx)(_,{value:n.marketReferenceCurrencyDebt||0}),(0,N.jsx)(u.h,{}),(0,N.jsx)(_,{value:p}),(0,N.jsx)(F.k,{value:c,color:c>=0?c>0?"text.brand":void 0:"error.dark",underline:!0,loading:y,percent:!0,tooltip:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(le.oD,{description:"Estimated APR",value:l,percent:!0}),(0,N.jsx)(le.oD,{description:"Total Borrow APY",value:d?"-".concat(d):0,percent:!0}),(0,N.jsx)(C.Z,{sx:{mb:1.5}}),(0,N.jsx)(le.oD,{description:"Estimated Net APR",value:c,percent:!0})]})}),(0,N.jsx)(F.k,{value:n.healthFactor||0}),i.actions({position:n,tokenId:n.tokenId.toString(),positionAddress:n.positionAddress,isEmptyPosition:n.type===m.Tw.Pool,uniswapLink:n.uniswapLink})]}))},je=["position","columnsType","setEstNetAprHandler"];function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge,ke=function(e){var t,n=e.position,r=e.columnsType,o=e.setEstNetAprHandler,i=(0,f.Z)(e,je),a=null===(t=se.sS.find((function(e){return e.value===n.poolType})))||void 0===t?void 0:t.label,l=(0,ae.v)({marketId:n.marketId,positions:n.positionAddress?[n.positionAddress]:void 0}).data,c=null===l||void 0===l?void 0:l.compounds[0].initialized,d=null===l||void 0===l?void 0:l.compounds[0].maxTotalFeePercent.div(100).toNumber(),p=(0,ce.o)({position:n,autoCompoundInitialized:c,autoCompoundValue:d}),x=p.estApr,y=p.estNetApr,v=p.borrowApy,b=p.revenueFee,j=p.netWorthUsd,w=p.isLoading;(0,s.useEffect)((function(){null===o||void 0===o||o({tokenId:n.tokenId,estNetApr:y,isLoading:w})}),[n.tokenId,y,w]);var P=n.type!==m.Tw.Pool&&w;return(0,N.jsxs)(M,he(he({},n),{},{isManual:!0,isAutomatic:Boolean(n.almMarketName),details:(0,N.jsx)(ie,he(he({},n),{},{columnsType:r,notLeveraged:!0})),children:["leverage"===r&&(0,N.jsx)(u.h,{children:a&&(0,N.jsx)(g.Z,{label:a})}),(0,N.jsx)(_,{value:n.marketReferenceCurrencyValue,disabled:!n.marketReferenceCurrencyValue}),"lending"===r&&(0,N.jsx)(_,{value:n.token0.marketReferenceCurrencyFee+n.token1.marketReferenceCurrencyFee}),"leverage"===r&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(F.k,{value:y,percent:!0,disabled:y<=0,loading:P,color:"text.brand",capsComponent:y>0?(0,N.jsx)(k.Z,{sx:{ml:1,mb:"-3px"},children:(0,N.jsx)(h.Z,{})}):void 0}),(0,N.jsx)(F.k,{value:n.maxLeverage})]}),"leveraged"===r&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(_,{value:n.marketReferenceCurrencyDebt||0}),(0,N.jsx)(_,{value:n.token0.marketReferenceCurrencyFee+n.token1.marketReferenceCurrencyFee}),(0,N.jsx)(_,{value:j}),(0,N.jsx)(F.k,{value:y,color:y>=0?y>0?"text.brand":void 0:"error.dark",underline:!0,loading:P,percent:!0,tooltip:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(le.oD,{description:"Estimated APR",value:x,percent:!0}),(0,N.jsx)(le.oD,{description:"Total Borrow APY",value:v?"-".concat(v):0,percent:!0}),(0,N.jsx)(le.oD,{description:"Protocol Fee",value:b?"-".concat(b):0,percent:!0}),(0,N.jsx)(C.Z,{sx:{mb:1.5}}),(0,N.jsx)(le.oD,{description:"Estimated Net APR",value:y,percent:!0})]})}),(0,N.jsx)(F.k,{value:n.healthFactor||0})]}),i.actions({position:n,tokenId:n.tokenId.toString(),positionAddress:n.positionAddress,isEmptyPosition:n.type===m.Tw.Pool,uniswapLink:n.uniswapLink})]}))},Ce=function(e){var t=e.children,n=e.position,r=e.isManual,o=e.isAutomatic,i=e.almMarketName,s=e.marketName;return(0,N.jsxs)(k.Z,{children:[(0,N.jsx)(C.Z,{}),(0,N.jsxs)(k.Z,{sx:{display:"flex",flexDirection:"column",gap:3,p:4},children:[(0,N.jsxs)(k.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,N.jsx)(R.P,{iconSymbolTokenA:n.token0.iconSymbol,iconSymbolTokenB:n.token1.iconSymbol,marketName:s,size:"large"}),(0,N.jsxs)(k.Z,{sx:{pl:3,width:"calc(100% - 16px)"},children:[(0,N.jsxs)(k.Z,{sx:{display:"flex"},children:[(0,N.jsxs)(w.Z,{variant:"main16",noWrap:!0,children:[n.token0.symbol,"/",n.token1.symbol]}),Boolean(n.fee)&&n.type!==m.Tw.Pool&&(0,N.jsxs)(w.Z,{variant:"main16",color:"text.tertiary",sx:{pl:"4px"},children:[n.fee,"%"]})]}),n.type===m.Tw.Pool&&(0,N.jsxs)(k.Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:[o&&(0,N.jsx)(g.Z,{label:"ALM"}),r&&(0,N.jsx)(g.Z,{label:"Manual"})]}),n.lowerPosition&&n.upperPosition&&n.controlType!==m.N3.AlmPosition&&(0,N.jsx)(D,{lowerPosition:n.lowerPosition,upperPosition:n.upperPosition,currentPrice:n.poolPrice,symbolTokenA:n.token0.symbol,symbolTokenB:n.token1.symbol}),n.controlType===m.N3.AlmPosition&&(0,N.jsx)(L.k,{almMarketName:i})]})]}),(0,N.jsx)(k.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:t})]})]})},we=function(e){var t=e.caption,n=e.children;return(0,N.jsxs)(k.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,N.jsx)(w.Z,{variant:"secondary14",color:"text.secondary",children:t}),(0,N.jsx)(w.Z,{variant:"secondary14",children:n})]})},Pe=function(e){var t,n=e.position,r=e.actions,o=(0,ce.o)({position:n}).estNetApr,s=null===(t=se.sS.find((function(e){return e.value===n.poolType})))||void 0===t?void 0:t.label;return(0,N.jsxs)(Ce,{position:n,isManual:!0,isAutomatic:Boolean(n.almMarketName),children:[(0,N.jsx)(we,{caption:(0,N.jsx)(i.cC,{id:"Type"}),children:(0,N.jsx)(g.Z,{label:s})}),(0,N.jsx)(we,{caption:(0,N.jsx)(i.cC,{id:"Max Leverage"}),children:(0,N.jsx)(U.BK,{value:n.maxLeverage,variant:"secondary14",postfix:"x",compact:!0})}),(0,N.jsx)(we,{caption:(0,N.jsx)(i.cC,{id:"Max Net APR"}),children:(0,N.jsxs)(k.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,N.jsx)(U.BK,{value:o,variant:"secondary14",color:o>0?"text.brand":"text.tertiary",symbolsColor:o>0?"text.brand":"text.tertiary",percent:!0,compact:!0}),o>0&&(0,N.jsx)(k.Z,{sx:{ml:1,mb:"-3px"},children:(0,N.jsx)(h.Z,{})})]})}),(0,N.jsx)(k.Z,{sx:{display:"flex",flexDirection:"column",gap:2,mt:3},children:r({position:n,tokenId:n.tokenId.toString(),positionAddress:n.positionAddress,isEmptyPosition:n.type===m.Tw.Pool,uniswapLink:n.uniswapLink})})]})},Oe=function(e){var t,n=e.position,r=e.actions,o=(0,ce.o)({position:n}).estNetApr,s=null===(t=se.sS.find((function(e){return e.value===n.poolType})))||void 0===t?void 0:t.label;return(0,N.jsxs)(Ce,{position:n,children:[n.type===m.Tw.LeveragedPosition?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(we,{caption:(0,N.jsx)(i.cC,{id:"Liquidity"}),children:(0,N.jsx)(U.BK,{value:n.marketReferenceCurrencyValue,symbol:"USD",variant:"secondary14",compact:!0})}),(0,N.jsx)(we,{caption:(0,N.jsx)(i.cC,{id:"Debt Value"}),children:(0,N.jsx)(U.BK,{value:n.marketReferenceCurrencyDebt||0,symbol:"USD",variant:"secondary14",compact:!0})}),(0,N.jsx)(we,{caption:(0,N.jsx)(i.cC,{id:"Fees Earned"}),children:(0,N.jsx)(U.BK,{value:n.token0.marketReferenceCurrencyFee+n.token1.marketReferenceCurrencyFee,symbol:"USD",variant:"secondary14",compact:!0})}),(0,N.jsx)(we,{caption:(0,N.jsx)(i.cC,{id:"Net Worth"}),children:(0,N.jsx)(U.BK,{value:n.token0.netWorthUsd+n.token1.netWorthUsd,symbol:"USD",variant:"secondary14",compact:!0})}),(0,N.jsx)(we,{caption:(0,N.jsx)(i.cC,{id:"Est. Net APR"}),children:(0,N.jsx)(U.BK,{value:o,variant:"secondary14",color:o>0?"text.brand":"text.tertiary",symbolsColor:o>0?"text.brand":"text.tertiary",percent:!0,compact:!0})}),(0,N.jsx)(we,{caption:(0,N.jsx)(i.cC,{id:"Health"}),children:(0,N.jsx)(U.BK,{value:n.healthFactor||0,variant:"secondary14",compact:!0})})]}):(0,N.jsxs)(N.Fragment,{children:[s&&(0,N.jsx)(we,{caption:(0,N.jsx)(i.cC,{id:"Type"}),children:(0,N.jsx)(g.Z,{label:s})}),(0,N.jsx)(we,{caption:(0,N.jsx)(i.cC,{id:"Liquidity"}),children:(0,N.jsx)(U.BK,{value:n.marketReferenceCurrencyValue,symbol:"USD",variant:"secondary14",color:n.marketReferenceCurrencyValue<=0?"text.tertiary":void 0,compact:!0})}),(0,N.jsx)(we,{caption:(0,N.jsx)(i.cC,{id:"Max Leverage"}),children:(0,N.jsx)(U.BK,{value:n.maxLeverage,variant:"secondary14",postfix:"x",compact:!0})}),(0,N.jsx)(we,{caption:(0,N.jsx)(i.cC,{id:"Max Net APR"}),children:(0,N.jsxs)(k.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,N.jsx)(U.BK,{value:o,variant:"secondary14",color:o>0?"text.brand":"text.tertiary",symbolsColor:o>0?"text.brand":"text.tertiary",percent:!0,compact:!0}),o>0&&(0,N.jsx)(k.Z,{sx:{ml:1,mb:"-3px"},children:(0,N.jsx)(h.Z,{})})]})})]}),(0,N.jsx)(k.Z,{sx:{display:"flex",flexDirection:"column",gap:2,mt:3},children:r({position:n,tokenId:n.tokenId.toString(),positionAddress:n.positionAddress,isEmptyPosition:n.type===m.Tw.Pool,uniswapLink:n.uniswapLink})})]})},Ze=function(e){var t,n=e.position,r=e.actions,o=(0,ce.o)({position:n}).estNetApr;return(0,N.jsxs)(Ce,{position:n,marketName:n.marketName,almMarketName:null===(t=n.almMarket)||void 0===t?void 0:t.marketName,children:[(0,N.jsx)(we,{caption:(0,N.jsx)(i.cC,{id:"Liquidity"}),children:(0,N.jsx)(U.BK,{value:n.marketReferenceCurrencyValue,symbol:"USD",variant:"secondary14",compact:!0})}),(0,N.jsx)(we,{caption:(0,N.jsx)(i.cC,{id:"Debt Value"}),children:(0,N.jsx)(U.BK,{value:n.marketReferenceCurrencyDebt||0,symbol:"USD",variant:"secondary14",compact:!0})}),(0,N.jsx)(we,{caption:(0,N.jsx)(i.cC,{id:"Net Worth"}),children:(0,N.jsx)(U.BK,{value:n.token0.netWorthUsd+n.token1.netWorthUsd,symbol:"USD",variant:"secondary14",compact:!0})}),(0,N.jsx)(we,{caption:(0,N.jsx)(i.cC,{id:"Est. Net APR"}),children:(0,N.jsx)(U.BK,{value:o,variant:"secondary14",color:o>0?"text.brand":"text.tertiary",symbolsColor:o>0?"text.brand":"text.tertiary",percent:!0,compact:!0})}),(0,N.jsx)(we,{caption:(0,N.jsx)(i.cC,{id:"Health"}),children:(0,N.jsx)(U.BK,{value:n.healthFactor||0,variant:"secondary14",compact:!0})}),(0,N.jsx)(k.Z,{sx:{display:"flex",flexDirection:"column",gap:2,mt:3},children:r({position:n,tokenId:n.tokenId.toString(),positionAddress:n.positionAddress,isEmptyPosition:n.type===m.Tw.Pool,uniswapLink:n.uniswapLink})})]})};function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ne=(ge={},(0,o.Z)(ge,"lending","small"),(0,o.Z)(ge,"leverage","big"),(0,o.Z)(ge,"leveraged","big"),ge),Se=function(e){var t=e.positions,n=e.head,o=e.actions,f=e.columnsType,h=e.typeFilter,g=e.marketFilter,k=e.controlPositionFilter,C=(0,a.Z)(),w=(0,l.Z)(C.breakpoints.down("xsm")),P=(0,s.useState)([]),O=P[0],Z=P[1],A=(0,s.useState)("maxApr"),T=A[0],S=A[1],D=(0,s.useState)(!1),L=D[0],R=D[1],E=(0,s.useMemo)((function(){return t.filter((function(e){return!h||(null===h||void 0===h?void 0:h.value)===m.y6.all||(null===h||void 0===h?void 0:h.value)===e.poolType})).filter((function(e){return!k||(null===k||void 0===k?void 0:k.value)===m.N3.Unknown||(null===k||void 0===k?void 0:k.value)===m.N3.AlmPosition&&e.almMarketName||(null===k||void 0===k?void 0:k.value)===m.N3.ManualPosition&&!e.almMarketName})).filter((function(e){return!g||(null===g||void 0===g?void 0:g.value)===y.Z4.None||(null===g||void 0===g?void 0:g.value)===e.marketName}))}),[t,h,g,k]),B=function(e){Z((function(t){return[].concat((0,r.Z)(t.filter((function(t){return t.tokenId!==e.tokenId}))),[e])}))},I=function(e){var t=e.sortDesc,n=e.sortName,r=e.positions;return(t?b(n,r):j(n,r)).sort((function(e){return e.type===m.Tw.Pool?1:-1}))}({sortDesc:L,sortName:T,positions:(0,r.Z)(E).map((function(e){var t=O.some((function(e){return e.isLoading}));if(e.type===m.Tw.Pool||t)return e;var n=O.find((function(t){return t.tokenId===e.tokenId}));return Te(Te({},e),{},{maxApr:(null===n||void 0===n?void 0:n.estNetApr)||e.maxApr})}))});return(0,s.useEffect)((function(){w&&(S("maxApr"),R(!1))}),[w]),I.length?(0,N.jsxs)(N.Fragment,{children:[!w&&(0,N.jsxs)(c.u,{children:[n.map((function(e){return(0,N.jsx)(u.h,{isRow:"pool"===e.sortKey,maxWidth:"pool"===e.sortKey?d.r.POOL:void 0,minWidth:"pool"===e.sortKey?d.r.POOL:void 0,children:(0,N.jsx)(p.M,{sortName:T,sortDesc:L,setSortName:S,setSortDesc:R,sortKey:e.sortKey,children:e.title})},e.sortKey)})),(0,N.jsx)(x.T,{size:Ne[f]||"small",isColumnHeader:!0})]}),I.map((function(e,t){return(0,N.jsx)(s.Fragment,{children:w?(0,N.jsxs)(N.Fragment,{children:[e.type===m.Tw.Pool&&(0,N.jsx)(Pe,{position:e,actions:o,columnsType:f}),e.controlType===m.N3.ManualPosition&&(0,N.jsx)(Oe,{position:e,actions:o,columnsType:f}),e.controlType===m.N3.AlmPosition&&(0,N.jsx)(Ze,{position:e,actions:o,columnsType:f})]}):(0,N.jsxs)(N.Fragment,{children:[e.type===m.Tw.Pool&&(0,N.jsx)(ke,{position:e,actions:o,columnsType:f,setEstNetAprHandler:e.type===m.Tw.Pool||"leverage"!==f&&"leveraged"!==f?void 0:B}),e.controlType===m.N3.ManualPosition&&(0,N.jsx)(xe,{position:e,actions:o,columnsType:f,setEstNetAprHandler:e.type===m.Tw.Pool||"leverage"!==f&&"leveraged"!==f?void 0:B}),e.controlType===m.N3.AlmPosition&&(0,N.jsx)(be,{position:e,actions:o,columnsType:f,setEstNetAprHandler:e.type===m.Tw.Pool||"leverage"!==f&&"leveraged"!==f?void 0:B})]})},"".concat(e.tokenId,"-").concat(t))}))]}):(0,N.jsx)(v.N,{text:(0,N.jsx)(i.cC,{id:"Nothing supplied yet"})})}},26079:function(e,t,n){n.d(t,{N:function(){return s}});var r=n(61953),o=n(81138),i=n(85893),s=function(e){var t=e.text;return(0,i.jsx)(r.Z,{sx:{px:{xs:4,xsm:6},pt:{xs:3.5,xsm:5.5},pb:{xs:6,sxm:7}},children:(0,i.jsx)(o.Z,{color:"text.secondary",children:t})})}},95700:function(e,t,n){n.d(t,{T:function(){return s}});var r=n(61953),o=n(4071),i=n(85893),s=function(e){var t=e.children,n=(e.isColumnHeader,e.size),s=void 0===n?"medium":n,a=function(){switch(s){case"small":return o.r.SMALL_BUTTONS;case"big":return o.r.BIG_BUTTONS;case"large":return o.r.LARGE_BUTTONS;default:return o.r.BUTTONS}};return(0,i.jsx)(r.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",maxWidth:a(),minWidth:a(),flex:1,".MuiButton-root":{ml:"6px"}},children:t})}},77461:function(e,t,n){n.d(t,{B:function(){return l}});var r=n(45884),o=n(99435),i=n(1475),s=n(95700),a=n(85893),l=function(e){var t=e.head,n=e.firstColumnWidth,l=e.buttonsColumnSize;return(0,a.jsxs)(i.u,{children:[t.map((function(e,t){return(0,a.jsx)(r.h,{overFlow:"visible",isRow:0===t,maxWidth:0===t?n:void 0,minWidth:0===t?n:void 0,children:(0,a.jsx)(o.M,{children:e})},t)})),(0,a.jsx)(s.T,{size:l})]})}},20736:function(e,t,n){n.d(t,{x:function(){return c}});var r=n(61953),o=n(91655),i=n(45884),s=n(32383),a=n(95700),l=n(85893),c=function(e){var t=e.head,n=e.buttonsColumnSize,c=e.firstColumnWidth,u=e.secondButton,d=t.length-1;return(0,l.jsxs)(s.H,{children:[(0,l.jsx)(i.h,{maxWidth:c||160,minWidth:c||160,isRow:!0,children:(0,l.jsxs)(r.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,l.jsx)(o.Z,{variant:"circular",width:32,height:32}),(0,l.jsx)(o.Z,{variant:"circular",width:32,height:32,sx:{marginLeft:-1.6}}),(0,l.jsx)(o.Z,{sx:{ml:3},width:160,height:20})]})}),Array.from({length:d}).map((function(){return(0,l.jsx)(i.h,{children:(0,l.jsx)(o.Z,{width:70,height:20})})})),(0,l.jsxs)(a.T,{size:n,children:[(0,l.jsx)(o.Z,{height:36,width:68,sx:{ml:"6px"}}),u&&(0,l.jsx)(o.Z,{height:36,width:100,sx:{ml:"6px"}})]})]})}},87925:function(e,t,n){n.d(t,{k:function(){return x}});var r=n(59499),o=n(61953),i=n(91655),s=n(17575),a=n(45884),l=n(41024),c=n(85893);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){var t=e.value,n=e.subValue,r=e.disabled,i=e.capsComponent,s=e.percent,a=e.color,u=e.underline;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,c.jsx)(l.BK,{value:t,variant:"secondary14",sx:{mb:n?"2px":0,textDecoration:u?"underline":"unset"},color:r?"text.disabled":a||"text.main",symbolsColor:r?"text.disabled":a||"text.main",percent:s}),i]}),!!n&&!r&&(0,c.jsx)(l.BK,{value:n,symbol:"USD",variant:"secondary12",color:"text.secondary"})]})},x=function(e){var t=e.symbol,n=e.value,r=e.subValue,l=e.tooltip,u=e.capsComponent,x=e.disabled,m=e.listColumnProps,y=void 0===m?{}:m,v=e.percent,b=e.color,j=e.underline;return e.loading?(0,c.jsx)(a.h,d(d({},y),{},{children:(0,c.jsx)(i.Z,{width:70,height:20})})):(0,c.jsx)(a.h,d(d({},y),{},{children:l?(0,c.jsx)(s.Z,{title:l,placement:"bottom-end",arrow:!0,children:(0,c.jsx)(o.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:(0,c.jsx)(p,{symbol:t,value:n,subValue:r,capsComponent:u,disabled:x,percent:v,color:b,underline:j})})}):(0,c.jsx)(p,{symbol:t,value:n,subValue:r,capsComponent:u,disabled:x,percent:v,color:b,underline:j})}))}},26509:function(e,t,n){n.d(t,{H:function(){return l}});var r=n(91655),o=n(61953),i=n(92391),s=n(15880),a=n(85893),l=function(){return(0,a.jsxs)(s.o,{loading:!0,children:[(0,a.jsx)(i.X,{caption:(0,a.jsx)(r.Z,{width:100,height:20}),align:"flex-start",captionVariant:"description",mb:2,children:(0,a.jsx)(r.Z,{width:70,height:20})}),(0,a.jsx)(i.X,{caption:(0,a.jsx)(r.Z,{width:100,height:20}),align:"flex-start",captionVariant:"description",mb:2,children:(0,a.jsx)(r.Z,{width:70,height:20})}),(0,a.jsx)(i.X,{caption:(0,a.jsx)(r.Z,{width:100,height:20}),align:"flex-start",captionVariant:"description",mb:2,children:(0,a.jsx)(r.Z,{width:70,height:20})}),(0,a.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:5},children:[(0,a.jsx)(r.Z,{width:"100%",height:36,sx:{mr:1.5}}),(0,a.jsx)(r.Z,{width:"100%",height:36})]})]})}},46398:function(e,t,n){n.d(t,{sS:function(){return u},wP:function(){return d},y1:function(){return p}});n(67294);var r=n(98260),o=n(49486),i=n(62330),s=n(5925),a=n(10215),l=n(89692),c=n(85893),u=[{value:o.y6.all,label:"All Pools"},{value:o.y6.stable,label:"Stable"},{value:o.y6.volatile,label:"Volatile"}],d=[{value:o.N3.Unknown,label:"All"},{value:o.N3.ManualPosition,label:"Manual"},{value:o.N3.AlmPosition,label:"Automatic"}],p=[{value:i.Z4.None,label:"All Protocols",chainIds:[r.a_.MAINNET,r.a_.ARBITRUM_ONE,r.a_.POLYGON]},{value:i.Z4.Uniswap,label:"Uniswap V3",icon:(0,c.jsx)(a.Z,{sx:{width:"16px",height:"16px"}}),chainIds:[r.a_.MAINNET,r.a_.ARBITRUM_ONE,r.a_.POLYGON]},{value:i.Z4.Camelot,label:"Camelot",icon:(0,c.jsx)(s.Z,{sx:{width:"16px",height:"16px"}}),chainIds:[r.a_.ARBITRUM_ONE]},{value:i.Z4.Quickswap,label:"Quickswap",icon:(0,c.jsx)(l.Z,{sx:{width:"16px",height:"16px"}}),chainIds:[r.a_.POLYGON]}]},4071:function(e,t,n){n.d(t,{r:function(){return r},A:function(){return o}});var r={ASSET:110,BUTTONS:160,SMALL_BUTTONS:120,BIG_BUTTONS:180,LARGE_BUTTONS:340,CELL:110,POOL:260},o=function(e,t,n,r,o){return e?i(t,n,r,o||!1):s(t,n,r,o||!1)},i=function(e,t,n,r){return"symbol"===e?a(!0,t,n):"usageAsCollateralEnabledOnUser"===e||"debt"===e?n.sort((function(t,n){return Number(t[e])-Number(n[e])})):(r&&n.sort((function(e,t){return Number(t.reserve.variableBorrowAPY)-Number(e.reserve.variableBorrowAPY)})),n.sort((function(t,n){return t[e]-n[e]})))},s=function(e,t,n,r){return"symbol"===e?a(!1,t,n):"usageAsCollateralEnabledOnUser"===e||"debt"===e?n.sort((function(t,n){return Number(n[e])-Number(t[e])})):(r&&n.sort((function(e,t){return Number(e.reserve.variableBorrowAPY)-Number(t.reserve.variableBorrowAPY)})),n.sort((function(t,n){return n[e]-t[e]})))},a=function(e,t,n){return e?"position"===t?n.sort((function(e,t){return e.reserve.symbol.toUpperCase()<t.reserve.symbol.toUpperCase()?-1:1})):n.sort((function(e,t){return e.symbol.toUpperCase()<t.symbol.toUpperCase()?-1:1})):"position"===t?n.sort((function(e,t){return t.reserve.symbol.toUpperCase()<e.reserve.symbol.toUpperCase()?-1:1})):n.sort((function(e,t){return t.symbol.toUpperCase()<e.symbol.toUpperCase()?-1:1}))}}}]);
//# sourceMappingURL=2548-6176f3ab1908bebd.js.map